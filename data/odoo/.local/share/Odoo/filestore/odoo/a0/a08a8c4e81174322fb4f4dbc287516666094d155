)]}'
{"version": 3, "sources": ["/web/static/tests/legacy/ignore_missing_deps_start.js", "/base/static/tests/test_ir_model_fields_translation.js", "/web/static/tests/legacy/helpers/cleanup.js", "/web/static/tests/legacy/helpers/utils.js", "/web/static/tests/legacy/utils.js", "/web/static/tests/tours/user_switch_tour.js", "/mail/static/tests/tours/activity_date_format_tour.js", "/mail/static/tests/tours/discuss_channel_as_guest_tour.js", "/mail/static/tests/tours/discuss_channel_call_public_tour.js", "/mail/static/tests/tours/discuss_channel_public_tour.js", "/mail/static/tests/tours/discuss_configuration_tour.js", "/mail/static/tests/tours/discuss_go_back_to_thread_from_breadcrumbs_tour.js", "/mail/static/tests/tours/discuss_sidebar_in_public_page_tour.js", "/mail/static/tests/tours/discuss_sub_channel_search_tour.js", "/mail/static/tests/tours/mail_activity_schedule_from_chatter.js", "/mail/static/tests/tours/mail_composer_test_tour.js", "/mail/static/tests/tours/mail_message_load_order_tour.js", "/mail/static/tests/tours/mail_template_dynamic_placeholder_tour.js", "/mail/static/tests/tours/user_modify_own_profile_tour.js", "/portal/static/tests/tours/portal.js", "/portal/static/tests/tours/skip_to_content.js", "/account/static/tests/tours/tax_group_tests.js", "/account/static/tests/tours/tour_tests_shared_js_python.js", "/sale/static/tests/tours/mail_attachment_removal_test_tour.js", "/sale/static/tests/tours/product_attribute_value_tour.js", "/sale/static/tests/tours/sale_catalog.js", "/sale/static/tests/tours/sale_combo_configurator.js", "/sale/static/tests/tours/sale_combo_configurator_preconfigure_unconfigurable_ptals.js", "/sale/static/tests/tours/sale_combo_configurator_preselect_single_unconfigurable_items.js", "/sale/static/tests/tours/sale_signature.js", "/sale/static/src/js/tours/combo_configurator_tour_utils.js", "/sale/static/src/js/tours/product_configurator_tour_utils.js", "/sale/static/src/js/tours/tour_utils.js", "/calendar/static/tests/tours/calendar_tour.js", "/contacts/static/tests/tours/debug_menu_set_defaults.js", "/crm/static/tests/tours/create_crm_team_tour.js", "/crm/static/tests/tours/crm_email_and_phone_propagation.js", "/crm/static/tests/tours/crm_forecast_tour.js", "/crm/static/tests/tours/crm_rainbowman.js", "/website/static/tests/tour_utils/focus_blur_snippets_options.js", "/website/static/tests/tour_utils/website_preview_test.js", "/website/static/tests/tour_utils/widget_lifecycle_dep_widget.js", "/website/static/tests/tours/carousel_content_removal.js", "/website/static/tests/tours/client_action_iframe_fallback.js", "/website/static/tests/tours/client_action_redirect.js", "/website/static/tests/tours/colorpicker.js", "/website/static/tests/tours/conditional_visibility.js", "/website/static/tests/tours/conditional_visibility_frontend.js", "/website/static/tests/tours/configurator_translation.js", "/website/static/tests/tours/custom_popup_snippet.js", "/website/static/tests/tours/default_shape_gets_palette_colors.js", "/website/static/tests/tours/drag_and_drop_on_non_editable.js", "/website/static/tests/tours/drop_404_ir_attachment_url.js", "/website/static/tests/tours/dropdowns_and_header_hide_on_scroll.js", "/website/static/tests/tours/edit_link_popover.js", "/website/static/tests/tours/edit_megamenu.js", "/website/static/tests/tours/edit_menus.js", "/website/static/tests/tours/edit_translated_page.js", "/website/static/tests/tours/editable_root_as_custom_snippet.js", "/website/static/tests/tours/focus_blur_snippets.js", "/website/static/tests/tours/font_family.js", "/website/static/tests/tours/gray_color_palette.js", "/website/static/tests/tours/grid_layout.js", "/website/static/tests/tours/html_editor.js", "/website/static/tests/tours/link_to_document.js", "/website/static/tests/tours/link_tools.js", "/website/static/tests/tours/media_dialog.js", "/website/static/tests/tours/media_iframe_video.js", "/website/static/tests/tours/multi_edition.js", "/website/static/tests/tours/page_manager.js", "/website/static/tests/tours/parallax.js", "/website/static/tests/tours/popup_visibility_option.js", "/website/static/tests/tours/powerbox_snippet.js", "/website/static/tests/tours/public_user_editor.js", "/website/static/tests/tours/public_user_editor_dep_widget.js", "/website/static/tests/tours/reset_password.js", "/website/static/tests/tours/restricted_editor.js", "/website/static/tests/tours/rte.js", "/website/static/tests/tours/skip_website_configurator.js", "/website/static/tests/tours/snippet_background_edition.js", "/website/static/tests/tours/snippet_cache_across_websites.js", "/website/static/tests/tours/snippet_countdown.js", "/website/static/tests/tours/snippet_editor_panel_options.js", "/website/static/tests/tours/snippet_empty_parent_autoremove.js", "/website/static/tests/tours/snippet_image.js", "/website/static/tests/tours/snippet_image_gallery.js", "/website/static/tests/tours/snippet_image_quality.js", "/website/static/tests/tours/snippet_images_wall.js", "/website/static/tests/tours/snippet_popup_add_remove.js", "/website/static/tests/tours/snippet_popup_and_animations.js", "/website/static/tests/tours/snippet_popup_and_scrollbar.js", "/website/static/tests/tours/snippet_popup_display_on_click.js", "/website/static/tests/tours/snippet_rating.js", "/website/static/tests/tours/snippet_social_media.js", "/website/static/tests/tours/snippet_table_of_content.js", "/website/static/tests/tours/snippet_translation.js", "/website/static/tests/tours/snippet_version.js", "/website/static/tests/tours/snippet_visibility_option.js", "/website/static/tests/tours/snippets_all_drag_and_drop.js", "/website/static/tests/tours/specific_website_editor.js", "/website/static/tests/tours/start_cloned_snippet.js", "/website/static/tests/tours/text_animations.js", "/website/static/tests/tours/text_highlights.js", "/website/static/tests/tours/translate_menu_name.js", "/website/static/tests/tours/translate_text_options.js", "/website/static/tests/tours/unsplash_beacon.js", "/website/static/tests/tours/website_backend_menus_redirect.js", "/website/static/tests/tours/website_click_tests.js", "/website/static/tests/tours/website_form_editor.js", "/website/static/tests/tours/website_form_editor_frontend.js", "/website/static/tests/tours/website_navbar_menu.js", "/website/static/tests/tours/website_no_dirty_page.js", "/website/static/tests/tours/website_page_options.js", "/website/static/tests/tours/website_seo_notification.js", "/website/static/tests/tours/website_snippets_menu_tabs.js", "/website/static/tests/tours/website_style_edition.js", "/website/static/tests/tours/website_text_edition.js", "/website/static/tests/tours/website_text_font_size.js", "/website/static/tests/tours/website_update_column_count.js", "/website/static/tests/tours/widget_lifecycle.js", "/web_enterprise/static/tests/tours/web_enterprise_tours.js", "/mail_enterprise/static/tests/tours/discuss_channel_expand_test_tour.js", "/account_accountant/static/tests/tours/test_tour_bank_rec_rainbowman_reset.js", "/account_accountant/static/tests/tours/test_tour_bank_rec_save_analytic_distribution.js", "/account_accountant/static/tests/tours/test_tour_bank_rec_statements.js", "/account_accountant/static/tests/tours/test_tour_bank_rec_ui.js", "/account_accountant/static/tests/tours/test_tour_bank_rec_widget.js", "/account_accountant/static/tests/tours/test_tour_journal_items_export.js", "/accountant/static/tests/tours/account_merge_wizard_tour.js", "/accountant/static/tests/tours/account_tours.js", "/project/static/tests/tours/personal_stage_tour.js", "/project/static/tests/tours/project_burndown_chart_tour.js", "/project/static/tests/tours/project_sharing_tour.js", "/project/static/tests/tours/project_tags_filter_tour_tests.js", "/project/static/tests/tours/project_task_history.js", "/project/static/tests/tours/project_tour.js", "/project/static/tests/tours/project_update_tour_tests.js", "/website_payment/static/tests/tours/donation.js", "/website_sale/static/tests/tours/website_free_delivery.js", "/website_sale/static/tests/tours/website_sale_add_to_cart_snippet_tour.js", "/website_sale/static/tests/tours/website_sale_buy.js", "/website_sale/static/tests/tours/website_sale_cart_notification.js", "/website_sale/static/tests/tours/website_sale_category_page_and_products_snippet.js", "/website_sale/static/tests/tours/website_sale_combo_configurator.js", "/website_sale/static/tests/tours/website_sale_combo_configurator_single_configurable_item.js", "/website_sale/static/tests/tours/website_sale_combo_configurator_single_configuration.js", "/website_sale/static/tests/tours/website_sale_complete_flow.js", "/website_sale/static/tests/tours/website_sale_complete_flow_backend.js", "/website_sale/static/tests/tours/website_sale_fiscal_position_tour.js", "/website_sale/static/tests/tours/website_sale_google_analytics.js", "/website_sale/static/tests/tours/website_sale_preconfigured_variant_price.js", "/website_sale/static/tests/tours/website_sale_product_configurator_strikethrough_price.js", "/website_sale/static/tests/tours/website_sale_product_configurator_zero_priced.js", "/website_sale/static/tests/tours/website_sale_product_reviews_reactions_public.js", "/website_sale/static/tests/tours/website_sale_remove_product_image.js", "/website_sale/static/tests/tours/website_sale_reorder_from_portal.js", "/website_sale/static/tests/tours/website_sale_restricted_editor_ui.js", "/website_sale/static/tests/tours/website_sale_shop_archived_variant_multi.js", "/website_sale/static/tests/tours/website_sale_shop_cart_recovery.js", "/website_sale/static/tests/tours/website_sale_shop_compare_list_price_pricelist.js", "/website_sale/static/tests/tours/website_sale_shop_custom_attribute_value.js", "/website_sale/static/tests/tours/website_sale_shop_custom_attributes_value.js", "/website_sale/static/tests/tours/website_sale_shop_customize.js", "/website_sale/static/tests/tours/website_sale_shop_deleted_archived_variants.js", "/website_sale/static/tests/tours/website_sale_shop_dynamic_variants.js", "/website_sale/static/tests/tours/website_sale_shop_editor_tour.js", "/website_sale/static/tests/tours/website_sale_shop_list_view_b2c.js", "/website_sale/static/tests/tours/website_sale_shop_mail.js", "/website_sale/static/tests/tours/website_sale_shop_multi_checkbox.js", "/website_sale/static/tests/tours/website_sale_shop_no_variant_attribute.js", "/website_sale/static/tests/tours/website_sale_shop_pricelist_tour.js", "/website_sale/static/tests/tours/website_sale_shop_zoom.js", "/website_sale/static/tests/tours/website_sale_snippet_products.js", "/website_sale/static/tests/tours/website_sale_update_address.js", "/website_sale/static/tests/tours/website_sale_update_cart.js", "/website_sale/static/tests/tours/website_sale_variants_modal_window.js", "/website_sale/static/tests/tours/website_sale_zero_priced_product.js", "/website_sale/static/src/js/tours/product_configurator_tour_utils.js", "/web_studio/static/tests/tours/export_tours.js", "/web_studio/static/tests/tours/tour_helpers.js", "/web_studio/static/tests/tours/web_studio.js", "/web_studio/static/tests/tours/web_studio_main_tours.js", "/web_studio/static/tests/tours/web_studio_test_ui_unit_report_tours.js", "/web_studio/static/tests/tours/web_studio_test_ui_unit_tours.js", "/website_event/static/tests/tours/tickets_questions.js", "/website_event/static/tests/tours/website_event.js", "/website_event/static/tests/tours/website_event_pages_seo.js", "/project_todo/static/tests/tours/project_task_activities_split.js", "/project_todo/static/tests/tours/project_todo_main_functions.js", "/account_reports/static/tests/tours/account.js", "/account_reports/static/tests/tours/account_reports.js", "/account_reports/static/tests/tours/account_reports_amount_rounding.js", "/account_reports/static/tests/tours/account_reports_analytic_filters.js", "/account_reports/static/tests/tours/account_reports_annotations.js", "/account_reports/static/tests/tours/account_reports_hide_0_lines.js", "/account_reports/static/tests/tours/account_reports_search.js", "/account_reports/static/tests/tours/account_reports_sections.js", "/account_reports/static/tests/tours/account_reports_widgets.js", "/account_reports/static/tests/tours/asserts.js", "/account_reports/static/tests/tours/test_tour_bank_rec_ui.js", "/website_crm/static/tests/tours/website_crm.js", "/auth_totp/static/tests/totp_flow.js", "/auth_totp_mail/static/tests/totp_flow.js", "/auth_totp_portal/static/tests/totp_portal.js", "/event_sale/static/tests/tours/event_configurator_ui.js", "/project_enterprise/static/tests/tours/task_gantt_tour_test.js", "/sale_pdf_quote_builder/static/tests/tours/custom_content_kanban_like_tests.js", "/sale_project/static/tests/tours/project_create_sol_tour.js", "/sale_project/static/tests/tours/project_tour.js", "/sale_project/static/tests/tours/task_create_sol_tour.js", "/website_event_sale/static/tests/tours/helpers/WebsiteEventSaleTourMethods.js", "/website_event_sale/static/tests/tours/website_event_sale.js", "/website_event_sale/static/tests/tours/website_event_sale_last_ticket.js", "/website_event_sale/static/tests/tours/website_event_sale_pricelists.js", "/website_profile/static/tests/tours/tour_website_profile_description.js", "/website_sale_autocomplete/static/tests/autocomplete_tour.js", "/website_studio/static/tests/tours/website_studio_main_tours.js", "/website_blog/static/tests/tours/blog_search_with_date.js", "/website_blog/static/tests/tours/blog_tags_tour.js", "/web/static/tests/legacy/ignore_missing_deps_stop.js"], "mappings": "AAAA;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9mCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7qBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChNA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACXA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1QA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1KA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9OA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3JA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1QA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnOA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpTA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzeA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzWA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5eA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjNA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzQA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACRA;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACTA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/TA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1ZA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrNA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7JA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1HA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxNA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1KA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3NA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACXA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrlCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3PA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5TA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9IA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChNA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACh8BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5OA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACVA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3NA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5JA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzMA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACfA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACfA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtfA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1KA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxxEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7jDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACn9DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9KA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtQA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1SA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7XA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5HA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpKA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7EA;;;;;AAAA;AACA;AACA;AACA", "sourcesContent": ["// @odoo-module ignore\n\n// This module has for sole purpose to mark all odoo modules defined between it\n// and ignore_missing_deps_stop as ignored for missing dependency errors.\n// see the template conditional_assets_tests to understand how it's used.\nwindow.__odooIgnoreMissingDependencies = true;\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nfunction checkLoginColumn(translation) {\n    return [\n        stepUtils.showAppsMenuItem(), {\n            content: \"Settings\",\n            trigger: 'a[data-menu-xmlid=\"base.menu_administration\"]',\n            run: 'click',\n        }, {\n            content: \"Open Users & Companies\",\n            trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n            run: \"click\",\n        }, {\n            content: \"Open Users\",\n            trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n            run: \"click\",\n        }, {\n            content: `Login column should be ${translation}`,\n            trigger: `[data-name=\"login\"] span:contains(\"${translation}\")`,\n        }\n    ]\n}\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_en_tour', {\n    url: '/odoo',\n    steps: () => checkLoginColumn('Login')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_en_tour2', {\n    url: '/odoo',\n    steps: () => checkLoginColumn('Login2')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_fr_tour', {\n    url: '/odoo',\n    steps: () => checkLoginColumn('Identifiant')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_fr_tour2', {\n    url: '/odoo',\n    steps: () => checkLoginColumn('Identifiant2')\n});\n", "/** @odoo-module alias=@web/../tests/helpers/cleanup default=false */\n\n// -----------------------------------------------------------------------------\n// Cleanup\n// -----------------------------------------------------------------------------\n\nconst cleanups = [];\n\n/**\n * Register a cleanup callback that will be executed whenever the current test\n * is done.\n *\n * - the cleanups will be executed in reverse order\n * - they will be executed even if the test fails/crashes\n *\n * @param {Function} callback\n */\nexport function registerCleanup(callback) {\n    cleanups.push(callback);\n}\n\nif (window.QUnit) {\n    QUnit.on(\"OdooAfterTestHook\", (info) => {\n        if (QUnit.config.debug) {\n            return;\n        }\n        let cleanup;\n        // note that this calls the cleanup callbacks in reverse order!\n        while ((cleanup = cleanups.pop())) {\n            try {\n                cleanup(info);\n            } catch (error) {\n                console.error(error);\n            }\n        }\n    });\n\n    // -----------------------------------------------------------------------------\n    // Check leftovers\n    // -----------------------------------------------------------------------------\n\n    /**\n     * List of elements tolerated in the body after a test. The property \"keep\"\n     * prevents the element from being removed (typically: qunit suite elements).\n     */\n    const validElements = [\n        // always in the body:\n        { tagName: \"DIV\", attr: \"id\", value: \"qunit\", keep: true },\n        { tagName: \"DIV\", attr: \"id\", value: \"qunit-fixture\", keep: true },\n        // shouldn't be in the body after a test but are tolerated:\n        { tagName: \"SCRIPT\", attr: \"id\", value: \"\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"o_notification_manager\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"tooltip fade bs-tooltip-auto\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"tooltip fade bs-tooltip-auto show\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"tooltip tooltip-field-info fade bs-tooltip-auto\" },\n        {\n            tagName: \"DIV\",\n            attr: \"class\",\n            value: \"tooltip tooltip-field-info fade bs-tooltip-auto show\",\n        },\n\n        // Due to a Document Kanban bug (already present in 12.0)\n        { tagName: \"DIV\", attr: \"class\", value: \"ui-helper-hidden-accessible\" },\n        {\n            tagName: \"UL\",\n            attr: \"class\",\n            value: \"ui-menu ui-widget ui-widget-content ui-autocomplete ui-front\",\n        },\n        {\n            tagName: \"UL\",\n            attr: \"class\",\n            value: \"ui-menu ui-widget ui-widget-content ui-autocomplete dropdown-menu ui-front\", // many2ones\n        },\n    ];\n\n    /**\n     * After each test, we check that there is no leftover in the DOM.\n     *\n     * Note: this event is not QUnit standard, we added it for this specific use case.\n     * As a payload, an object with keys 'moduleName' and 'testName' is provided. It\n     * is used to indicate the test that left elements in the DOM, when it happens.\n     */\n    QUnit.on(\"OdooAfterTestHook\", function (info) {\n        if (QUnit.config.debug) {\n            return;\n        }\n        const failed = info.testReport.getStatus() === \"failed\";\n        const toRemove = [];\n        // check for leftover elements in the body\n        for (const bodyChild of document.body.children) {\n            const tolerated = validElements.find(\n                (e) => e.tagName === bodyChild.tagName && bodyChild.getAttribute(e.attr) === e.value\n            );\n            if (!failed && !tolerated) {\n                QUnit.pushFailure(\n                    `Body still contains undesirable elements:\\n${bodyChild.outerHTML}`\n                );\n            }\n            if (!tolerated || !tolerated.keep) {\n                toRemove.push(bodyChild);\n            }\n        }\n        // cleanup leftovers in #qunit-fixture\n        const qunitFixture = document.getElementById(\"qunit-fixture\");\n        if (qunitFixture.children.length) {\n            toRemove.push(...qunitFixture.children);\n        }\n        // remove unwanted elements if not in debug\n        for (const el of toRemove) {\n            el.remove();\n        }\n        document.body.classList.remove(\"modal-open\");\n    });\n}\n", "/** @odoo-module alias=@web/../tests/helpers/utils default=false */\n\nimport { getTemplate } from \"@web/core/templates\";\nimport { browser } from \"@web/core/browser/browser\";\nimport { isMacOS } from \"@web/core/browser/feature_detection\";\nimport { download } from \"@web/core/network/download\";\nimport { getPopoverForTarget } from \"@web/core/popover/popover\";\nimport { Deferred } from \"@web/core/utils/concurrency\";\nimport { patch } from \"@web/core/utils/patch\";\nimport { isVisible } from \"@web/core/utils/ui\";\nimport { _t } from \"@web/core/l10n/translation\";\nimport { registerCleanup } from \"./cleanup\";\n\nimport {\n    App,\n    onError,\n    onMounted,\n    onPatched,\n    onRendered,\n    onWillDestroy,\n    onWillPatch,\n    onWillRender,\n    onWillStart,\n    onWillUnmount,\n    onWillUpdateProps,\n    useComponent,\n} from \"@odoo/owl\";\n\n/**\n * @typedef {keyof HTMLElementEventMap | keyof WindowEventMap} EventType\n *\n * @typedef {Side | `${Side}-${Side}` | { x?: number, y?: number }} Position\n *\n * @typedef {\"bottom\" | \"left\" | \"right\" | \"top\"} Side\n *\n * @typedef TriggerEventOptions\n * @property {boolean} [skipVisibilityCheck=false]\n * @property {boolean} [sync=false]\n */\n\n/**\n * Patch the native Date object\n *\n * Note that it will be automatically unpatched at the end of the test\n *\n * @param {number} [year]\n * @param {number} [month]\n * @param {number} [day]\n * @param {number} [hours]\n * @param {number} [minutes]\n * @param {number} [seconds]\n * @param {number} [ms=0]\n */\nexport function patchDate(year, month, day, hours, minutes, seconds, ms = 0) {\n    var RealDate = window.Date;\n    var actualDate = new RealDate();\n\n    // By default, RealDate uses the browser offset, so we must replace it with the offset fixed in luxon.\n    var fakeDate = new RealDate(year, month, day, hours, minutes, seconds, ms);\n    if (!(luxon.Settings.defaultZone instanceof luxon.FixedOffsetZone)) {\n        throw new Error(\"luxon.Settings.defaultZone must be a FixedOffsetZone\");\n    }\n    const browserOffset = -fakeDate.getTimezoneOffset();\n    const patchedOffset = luxon.Settings.defaultZone.offset();\n    const offsetDiff = patchedOffset - browserOffset;\n    const correctedMinutes = fakeDate.getMinutes() - offsetDiff;\n    fakeDate.setMinutes(correctedMinutes);\n\n    var timeInterval = actualDate.getTime() - fakeDate.getTime();\n\n    // eslint-disable-next-line no-global-assign\n    window.Date = (function (NativeDate) {\n        function Date(Y, M, D, h, m, s, ms) {\n            var length = arguments.length;\n            let date;\n            if (arguments.length > 0) {\n                date =\n                    length == 1 && String(Y) === Y // isString(Y)\n                        ? // We explicitly pass it through parse:\n                          new NativeDate(Date.parse(Y))\n                        : // We have to manually make calls depending on argument\n                        // length here\n                        length >= 7\n                        ? new NativeDate(Y, M, D, h, m, s, ms)\n                        : length >= 6\n                        ? new NativeDate(Y, M, D, h, m, s)\n                        : length >= 5\n                        ? new NativeDate(Y, M, D, h, m)\n                        : length >= 4\n                        ? new NativeDate(Y, M, D, h)\n                        : length >= 3\n                        ? new NativeDate(Y, M, D)\n                        : length >= 2\n                        ? new NativeDate(Y, M)\n                        : length >= 1\n                        ? new NativeDate(Y)\n                        : new NativeDate();\n                // Prevent mixups with unfixed Date object\n                date.constructor = Date;\n                return date;\n            } else {\n                date = new NativeDate();\n                var time = date.getTime();\n                time -= timeInterval;\n                date.setTime(time);\n                return date;\n            }\n        }\n\n        // Copy any custom methods a 3rd party library may have added\n        for (var key in NativeDate) {\n            Date[key] = NativeDate[key];\n        }\n\n        // Copy \"native\" methods explicitly; they may be non-enumerable\n        // exception: 'now' uses fake date as reference\n        Date.now = function () {\n            var date = new NativeDate();\n            var time = date.getTime();\n            time -= timeInterval;\n            return time;\n        };\n        Date.UTC = NativeDate.UTC;\n        Date.prototype = NativeDate.prototype;\n        Date.prototype.constructor = Date;\n\n        // Upgrade Date.parse to handle simplified ISO 8601 strings\n        Date.parse = NativeDate.parse;\n        return Date;\n    })(Date);\n\n    registerCleanup(() => {\n        window.Date = RealDate;\n    });\n}\n\n/**\n * Applies a fixed time zone to luxon based on an offset to the UTC time zone.\n *\n * @param {number} offset the number of minutes ahead or behind the UTC time zone\n *                          +120 => UTC+2\n *                          -120 => UTC-2\n */\nexport function patchTimeZone(offset) {\n    patchWithCleanup(luxon.Settings, { defaultZone: luxon.FixedOffsetZone.instance(offset) });\n}\n\n/**\n *\n * @param {Object} obj object to patch\n * @param {Object} patchValue the actual patch description\n */\nexport function patchWithCleanup(obj, patchValue) {\n    const unpatch = patch(obj, patchValue);\n    registerCleanup(() => {\n        unpatch();\n    });\n}\n\n/**\n * @returns {Element}\n */\nexport function getFixture() {\n    if (!window.QUnit) {\n        return document;\n    }\n    if (QUnit.config.debug) {\n        return document.body;\n    } else {\n        return document.getElementById(\"qunit-fixture\");\n    }\n}\n\nexport async function nextTick() {\n    await new Promise((resolve) => window.requestAnimationFrame(resolve));\n    await new Promise((resolve) => setTimeout(resolve));\n}\n\nexport function makeDeferred() {\n    return new Deferred();\n}\n\nexport function findElement(el, selector) {\n    let target = el;\n    if (selector) {\n        const els = el.querySelectorAll(selector);\n        if (els.length === 0) {\n            throw new Error(`No element found (selector: ${selector})`);\n        }\n        if (els.length > 1) {\n            throw new Error(`Found ${els.length} elements, instead of 1 (selector: ${selector})`);\n        }\n        target = els[0];\n    }\n    return target;\n}\n\n//-----------------------------------------------------------------------------\n// Event init attributes mappers\n//-----------------------------------------------------------------------------\n\n/** @param {EventInit} [args] */\nconst mapBubblingEvent = (args) => ({ ...args, bubbles: true });\n\n/** @param {EventInit} [args] */\nconst mapNonBubblingEvent = (args) => ({ ...args, bubbles: false });\n\n/** @param {EventInit} [args={}] */\nconst mapBubblingPointerEvent = (args = {}) => ({\n    clientX: args.pageX,\n    clientY: args.pageY,\n    ...args,\n    bubbles: true,\n    cancelable: true,\n    view: window,\n});\n\n/** @param {EventInit} [args] */\nconst mapNonBubblingPointerEvent = (args) => ({\n    ...mapBubblingPointerEvent(args),\n    bubbles: false,\n    cancelable: false,\n});\n\n/** @param {EventInit} [args={}] */\nconst mapCancelableTouchEvent = (args = {}) => ({\n    ...args,\n    bubbles: true,\n    cancelable: true,\n    composed: true,\n    rotation: 0.0,\n    touches: args.touches ? [...args.touches.map((e) => new Touch(e))] : undefined,\n    view: window,\n    zoom: 1.0,\n});\n\n/** @param {EventInit} [args] */\nconst mapNonCancelableTouchEvent = (args) => ({\n    ...mapCancelableTouchEvent(args),\n    cancelable: false,\n});\n\n/** @param {EventInit} [args] */\nconst mapKeyboardEvent = (args) => ({\n    ...args,\n    bubbles: true,\n    cancelable: true,\n});\n\n/**\n * @template {typeof Event} T\n * @param {EventType} eventType\n * @returns {[T, (attrs: EventInit) => EventInit]}\n */\nconst getEventConstructor = (eventType) => {\n    switch (eventType) {\n        // Mouse events\n        case \"auxclick\":\n        case \"click\":\n        case \"contextmenu\":\n        case \"dblclick\":\n        case \"mousedown\":\n        case \"mouseup\":\n        case \"mousemove\":\n        case \"mouseover\":\n        case \"mouseout\": {\n            return [MouseEvent, mapBubblingPointerEvent];\n        }\n        case \"mouseenter\":\n        case \"mouseleave\": {\n            return [MouseEvent, mapNonBubblingPointerEvent];\n        }\n        // Pointer events\n        case \"pointerdown\":\n        case \"pointerup\":\n        case \"pointermove\":\n        case \"pointerover\":\n        case \"pointerout\": {\n            return [PointerEvent, mapBubblingPointerEvent];\n        }\n        case \"pointerenter\":\n        case \"pointerleave\": {\n            return [PointerEvent, mapNonBubblingPointerEvent];\n        }\n        // Focus events\n        case \"focusin\": {\n            return [FocusEvent, mapBubblingEvent];\n        }\n        case \"focus\":\n        case \"blur\": {\n            return [FocusEvent, mapNonBubblingEvent];\n        }\n        // Clipboard events\n        case \"cut\":\n        case \"copy\":\n        case \"paste\": {\n            return [ClipboardEvent, mapBubblingEvent];\n        }\n        // Keyboard events\n        case \"keydown\":\n        case \"keypress\":\n        case \"keyup\": {\n            return [KeyboardEvent, mapKeyboardEvent];\n        }\n        // Drag events\n        case \"drag\":\n        case \"dragend\":\n        case \"dragenter\":\n        case \"dragstart\":\n        case \"dragleave\":\n        case \"dragover\":\n        case \"drop\": {\n            return [DragEvent, mapBubblingEvent];\n        }\n        // Input events\n        case \"input\": {\n            return [InputEvent, mapBubblingEvent];\n        }\n        // Composition events\n        case \"compositionstart\":\n        case \"compositionend\": {\n            return [CompositionEvent, mapBubblingEvent];\n        }\n        // UI events\n        case \"scroll\": {\n            return [UIEvent, mapNonBubblingEvent];\n        }\n        // Touch events\n        case \"touchstart\":\n        case \"touchend\":\n        case \"touchmove\": {\n            return [TouchEvent, mapCancelableTouchEvent];\n        }\n        case \"touchcancel\": {\n            return [TouchEvent, mapNonCancelableTouchEvent];\n        }\n        // Default: base Event constructor\n        default: {\n            return [Event, mapBubblingEvent];\n        }\n    }\n};\n\n/**\n * @template {EventType} T\n * @param {Element} el\n * @param {string | null | undefined | false} selector\n * @param {T} eventType\n * @param {EventInit} [eventInit]\n * @param {TriggerEventOptions} [options={}]\n * @returns {GlobalEventHandlersEventMap[T] | Promise<GlobalEventHandlersEventMap[T]>}\n */\nexport function triggerEvent(el, selector, eventType, eventInit, options = {}) {\n    const errors = [];\n    const target = findElement(el, selector);\n\n    // Error handling\n    if (typeof eventType !== \"string\") {\n        errors.push(\"event type must be a string\");\n    }\n    if (!target) {\n        errors.push(\"cannot find target\");\n    } else if (!options.skipVisibilityCheck && !isVisible(target)) {\n        errors.push(\"target is not visible\");\n    }\n    if (errors.length) {\n        throw new Error(\n            `Cannot trigger event${eventType ? ` \"${eventType}\"` : \"\"}${\n                selector ? ` (with selector \"${selector}\")` : \"\"\n            }: ${errors.join(\" and \")}`\n        );\n    }\n\n    // Actual dispatch\n    const [Constructor, processParams] = getEventConstructor(eventType);\n    const event = new Constructor(eventType, processParams(eventInit));\n    target.dispatchEvent(event);\n\n    if (window.QUnit && QUnit.config.debug) {\n        const group = `%c[${event.type.toUpperCase()}]`;\n        console.groupCollapsed(group, \"color: #b52c9b\");\n        console.log(target, event);\n        console.groupEnd(group, \"color: #b52c9b\");\n    }\n\n    if (options.sync) {\n        return event;\n    } else {\n        return nextTick().then(() => event);\n    }\n}\n\n/**\n * @param {Element} el\n * @param {string | null | undefined | false} selector\n * @param {(EventType | [EventType, EventInit])[]} [eventDefs]\n * @param {TriggerEventOptions} [options={}]\n */\nexport function triggerEvents(el, selector, eventDefs, options = {}) {\n    const events = [...eventDefs].map((eventDef) => {\n        const [eventType, eventInit] = Array.isArray(eventDef) ? eventDef : [eventDef, {}];\n        return triggerEvent(el, selector, eventType, eventInit, options);\n    });\n    if (options.sync) {\n        return events;\n    } else {\n        return nextTick().then(() => events);\n    }\n}\n\n/**\n * Triggers a scroll event on the given target\n *\n * If the target cannot be scrolled or an axis has reached\n * the end of the scrollable area, the event can be transmitted\n * to its nearest parent until it can be triggered\n *\n * @param {Element} target target of the scroll event\n * @param {Object} coordinates\n * @param {number} coordinates.left coordinates to scroll horizontally\n * @param {number} coordinates.top coordinates to scroll vertically\n * @param {boolean} canPropagate states if the scroll can propagate to a scrollable parent\n */\nexport async function triggerScroll(\n    target,\n    coordinates = { left: null, top: null },\n    canPropagate = true\n) {\n    const isScrollable =\n        (target.scrollHeight > target.clientHeight && target.clientHeight > 0) ||\n        (target.scrollWidth > target.clientWidth && target.clientWidth > 0);\n    if (!isScrollable && !canPropagate) {\n        return;\n    }\n    if (isScrollable) {\n        const canScrollFrom = {\n            left:\n                coordinates.left > target.scrollLeft\n                    ? target.scrollLeft + target.clientWidth < target.scrollWidth\n                    : target.scrollLeft > 0,\n            top:\n                coordinates.top > target.scrollTop\n                    ? target.scrollTop + target.clientHeight < target.scrollHeight\n                    : target.scrollTop > 0,\n        };\n        const scrollCoordinates = {};\n        Object.entries(coordinates).forEach(([key, value]) => {\n            if (value !== null && canScrollFrom[key]) {\n                scrollCoordinates[key] = value;\n                delete coordinates[key];\n            }\n        });\n        target.scrollTo(scrollCoordinates);\n        await triggerEvent(target, null, \"scroll\");\n        if (!canPropagate || !Object.entries(coordinates).length) {\n            return;\n        }\n    }\n    target.parentElement\n        ? triggerScroll(target.parentElement, coordinates)\n        : triggerEvent(window, null, \"scroll\");\n    await nextTick();\n}\n\nexport function click(\n    el,\n    selector,\n    { mouseEventInit = {}, skipDisabledCheck = false, skipVisibilityCheck = false } = {}\n) {\n    if (!skipDisabledCheck && el.disabled) {\n        throw new Error(\"Can't click on a disabled button\");\n    }\n    return triggerEvents(\n        el,\n        selector,\n        [\n            \"pointerdown\",\n            \"mousedown\",\n            \"focus\",\n            \"focusin\",\n            \"pointerup\",\n            \"mouseup\",\n            [\"click\", mouseEventInit],\n        ],\n        { skipVisibilityCheck }\n    );\n}\n\nexport function clickCreate(htmlElement) {\n    if (\n        htmlElement.querySelectorAll(\n            \".o_control_panel_main_buttons .o_form_button_create\"\n        ).length\n    ) {\n        return click(\n            htmlElement,\n            \".o_control_panel_main_buttons .o_form_button_create\"\n        );\n    } else if (\n        htmlElement.querySelectorAll(\n            \".o_control_panel_main_buttons .o_list_button_create\"\n        ).length\n    ) {\n        return click(\n            htmlElement,\n            \".o_control_panel_main_buttons .o_list_button_create\"\n        );\n    } else {\n        throw new Error(\"No edit button found to be clicked.\");\n    }\n}\n\nexport function clickEdit(htmlElement) {\n    if (htmlElement.querySelectorAll(\".o_list_button_edit\").length) {\n        return click(htmlElement, \".o_list_button_edit\");\n    } else {\n        throw new Error(\"No edit button found to be clicked.\");\n    }\n}\n\nexport async function clickSave(htmlElement) {\n    if (htmlElement.querySelectorAll(\".o_form_status_indicator\").length) {\n        await mouseEnter(htmlElement, \".o_form_status_indicator\");\n    }\n    if (htmlElement.querySelectorAll(\".o_form_button_save\").length) {\n        return click(htmlElement, \".o_form_button_save\");\n    }\n    const listSaveButtons = htmlElement.querySelectorAll(\".o_list_button_save\");\n    if (listSaveButtons.length) {\n        return listSaveButtons.length >= 2 ? click(listSaveButtons[1]) : click(listSaveButtons[0]);\n    } else {\n        throw new Error(\"No save button found to be clicked.\");\n    }\n}\n\nexport async function clickDiscard(htmlElement) {\n    if (htmlElement.querySelectorAll(\".o_form_status_indicator\").length) {\n        await mouseEnter(htmlElement, \".o_form_status_indicator\");\n    }\n    if (htmlElement.querySelectorAll(\".o_form_button_cancel\").length) {\n        return click(htmlElement, \".o_form_button_cancel\");\n    } else if ($(htmlElement).find(\".o_list_button_discard:visible\").length) {\n        return click($(htmlElement).find(\".o_list_button_discard:visible\").get(0));\n    } else {\n        throw new Error(\"No discard button found to be clicked.\");\n    }\n}\n\n/**\n * Trigger pointerenter and mouseenter events on the given target. If no\n * coordinates are given, the event is located by default\n * in the middle of the target to simplify the test process\n *\n * @param {Element} el\n * @param {string} selector\n * @param {Object} coordinates position of the mouseenter event\n */\nexport async function mouseEnter(el, selector, coordinates) {\n    const target = el.querySelector(selector) || el;\n    const atPos = coordinates || {\n        clientX: target.getBoundingClientRect().left + target.getBoundingClientRect().width / 2,\n        clientY: target.getBoundingClientRect().top + target.getBoundingClientRect().height / 2,\n    };\n    return triggerEvents(target, null, [\"pointerenter\", \"mouseenter\"], atPos);\n}\n\n/**\n * Trigger pointerleave and mouseleave events on the given target.\n *\n * @param {Element} el\n * @param {string} selector\n */\nexport async function mouseLeave(el, selector) {\n    const target = el.querySelector(selector) || el;\n    return triggerEvents(target, null, [\"pointerleave\", \"mouseleave\"]);\n}\n\nexport async function editInput(el, selector, value) {\n    const input = findElement(el, selector);\n    if (!(input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement)) {\n        throw new Error(\"Only 'input' and 'textarea' elements can be edited with 'editInput'.\");\n    }\n    if (\n        ![\"text\", \"textarea\", \"email\", \"search\", \"color\", \"number\", \"file\", \"tel\"].includes(\n            input.type\n        )\n    ) {\n        throw new Error(`Type \"${input.type}\" not supported by 'editInput'.`);\n    }\n\n    const eventOpts = {};\n    if (input.type === \"file\") {\n        const files = Array.isArray(value) ? value : [value];\n        const dataTransfer = new DataTransfer();\n        for (const file of files) {\n            if (!(file instanceof File)) {\n                throw new Error(`File input value should be one or several File objects.`);\n            }\n            dataTransfer.items.add(file);\n        }\n        input.files = dataTransfer.files;\n        eventOpts.skipVisibilityCheck = true;\n    } else {\n        input.value = value;\n    }\n\n    await triggerEvents(input, null, [\"input\", \"change\"], eventOpts);\n\n    if (input.type === \"file\") {\n        // Need to wait for the file to be loaded by the input\n        await nextTick();\n        await nextTick();\n    }\n}\n\nexport function editSelect(el, selector, value) {\n    const select = findElement(el, selector);\n    if (select.tagName !== \"SELECT\") {\n        throw new Error(\"Only select tag can be edited with selectInput.\");\n    }\n    select.value = value;\n    return triggerEvent(select, null, \"change\");\n}\n\nexport async function editSelectMenu(el, selector, value) {\n    const dropdown = el.querySelector(selector);\n    await click(dropdown.querySelector(\".dropdown-toggle\"));\n    for (const item of Array.from(el.querySelectorAll(\".o_select_menu_menu .dropdown-item\"))) {\n        if (item.textContent === value) {\n            return click(item);\n        }\n    }\n}\n\n/**\n * Triggers an hotkey properly disregarding the operating system.\n *\n * @param {string} hotkey\n * @param {boolean} addOverlayModParts\n * @param {KeyboardEventInit} eventAttrs\n */\nexport async function triggerHotkey(hotkey, addOverlayModParts = false, eventAttrs = {}) {\n    eventAttrs.key = hotkey.split(\"+\").pop();\n\n    if (/shift/i.test(hotkey)) {\n        eventAttrs.shiftKey = true;\n    }\n\n    if (/control/i.test(hotkey)) {\n        if (isMacOS()) {\n            eventAttrs.metaKey = true;\n        } else {\n            eventAttrs.ctrlKey = true;\n        }\n    }\n\n    if (/alt/i.test(hotkey) || addOverlayModParts) {\n        if (isMacOS()) {\n            eventAttrs.ctrlKey = true;\n        } else {\n            eventAttrs.altKey = true;\n        }\n    }\n\n    if (!(\"bubbles\" in eventAttrs)) {\n        eventAttrs.bubbles = true;\n    }\n\n    const [keydownEvent, keyupEvent] = await triggerEvents(\n        document.activeElement,\n        null,\n        [\n            [\"keydown\", eventAttrs],\n            [\"keyup\", eventAttrs],\n        ],\n        { skipVisibilityCheck: true }\n    );\n\n    return { keydownEvent, keyupEvent };\n}\n\nexport function mockDownload(cb) {\n    patchWithCleanup(download, { _download: cb });\n}\n\nexport const hushConsole = Object.create(null);\nfor (const propName of Object.keys(window.console)) {\n    hushConsole[propName] = () => {};\n}\n\nexport function mockSendBeacon(mock) {\n    patchWithCleanup(navigator, {\n        sendBeacon: (url, blob) => {\n            return mock(url, blob) !== false;\n        },\n    });\n}\n\nexport function mockTimeout() {\n    const timeouts = new Map();\n    let currentTime = 0;\n    let id = 1;\n    patchWithCleanup(browser, {\n        setTimeout(fn, delay = 0) {\n            timeouts.set(id, { fn, scheduledFor: delay + currentTime, id });\n            return id++;\n        },\n        clearTimeout(id) {\n            timeouts.delete(id);\n        },\n    });\n    return {\n        execRegisteredTimeouts() {\n            for (const { fn } of timeouts.values()) {\n                fn();\n            }\n            timeouts.clear();\n        },\n        async advanceTime(duration) {\n            // wait here so all microtasktick scheduled in this frame can be\n            // executed and possibly register their own timeout\n            await nextTick();\n            currentTime += duration;\n            for (const { fn, scheduledFor, id } of timeouts.values()) {\n                if (scheduledFor <= currentTime) {\n                    fn();\n                    timeouts.delete(id);\n                }\n            }\n            // wait here to make sure owl can update the UI\n            await nextTick();\n        },\n    };\n}\n\nexport function mockAnimationFrame() {\n    const callbacks = new Map();\n    let currentTime = 0;\n    let id = 1;\n    patchWithCleanup(browser, {\n        requestAnimationFrame(fn) {\n            callbacks.set(id, { fn, scheduledFor: 16 + currentTime, id });\n            return id++;\n        },\n        cancelAnimationFrame(id) {\n            callbacks.delete(id);\n        },\n        performance: { now: () => currentTime },\n    });\n    return {\n        execRegisteredAnimationFrames() {\n            for (const { fn } of callbacks.values()) {\n                fn(currentTime);\n            }\n            callbacks.clear();\n        },\n        async advanceFrame(count = 1) {\n            // wait here so all microtasktick scheduled in this frame can be\n            // executed and possibly register their own timeout\n            await nextTick();\n            currentTime += 16 * count;\n            for (const { fn, scheduledFor, id } of callbacks.values()) {\n                if (scheduledFor <= currentTime) {\n                    fn(currentTime);\n                    callbacks.delete(id);\n                }\n            }\n            // wait here to make sure owl can update the UI\n            await nextTick();\n        },\n    };\n}\n\nexport async function mount(Comp, target, config = {}) {\n    let { props, env } = config;\n    env = env || {};\n    const configuration = {\n        env,\n        getTemplate,\n        test: true,\n        props,\n    };\n    if (env.services && \"localization\" in env.services) {\n        configuration.translateFn = _t;\n    }\n    const app = new App(Comp, configuration);\n    registerCleanup(() => app.destroy());\n    return app.mount(target);\n}\n\nexport function destroy(comp) {\n    comp.__owl__.app.destroy();\n}\n\nexport function findChildren(comp, predicate = (e) => e) {\n    const queue = [];\n    [].unshift.apply(queue, Object.values(comp.__owl__.children));\n\n    while (queue.length > 0) {\n        const curNode = queue.pop();\n        if (predicate(curNode)) {\n            return curNode;\n        }\n        [].unshift.apply(queue, Object.values(curNode.component.__owl__.children));\n    }\n}\n\n// partial replacement of t-ref on component\nexport function useChild() {\n    const node = useComponent().__owl__;\n    const setChild = () => {\n        const componentNode = Object.values(node.children)[0];\n        node.component.child = componentNode.component;\n    };\n    onMounted(setChild);\n    onPatched(setChild);\n}\n\nexport function useLogLifeCycle(logFn, name = \"\") {\n    const component = useComponent();\n    let loggedName = `${component.constructor.name}`;\n    if (name) {\n        loggedName = `${component.constructor.name} ${name}`;\n    }\n    onError(() => {\n        logFn(`onError ${loggedName}`);\n    });\n    onMounted(() => {\n        logFn(`onMounted ${loggedName}`);\n    });\n    onPatched(() => {\n        logFn(`onPatched ${loggedName}`);\n    });\n    onRendered(() => {\n        logFn(`onRendered ${loggedName}`);\n    });\n    onWillDestroy(() => {\n        logFn(`onWillDestroy ${loggedName}`);\n    });\n    onWillPatch(() => {\n        logFn(`onWillPatch ${loggedName}`);\n    });\n    onWillRender(() => {\n        logFn(`onWillRender ${loggedName}`);\n    });\n    onWillStart(() => {\n        logFn(`onWillStart ${loggedName}`);\n    });\n    onWillUnmount(() => {\n        logFn(`onWillUnmount ${loggedName}`);\n    });\n    onWillUpdateProps(() => {\n        logFn(`onWillUpdateProps ${loggedName}`);\n    });\n}\n\n/**\n * Returns the list of nodes containing n2 (included) that do not contain n1.\n *\n * @param {Node} n1\n * @param {Node} n2\n * @returns {Node[]}\n */\nfunction getDifferentParents(n1, n2) {\n    const parents = [n2];\n    while (parents[0].parentNode) {\n        const parent = parents[0].parentNode;\n        if (parent.contains(n1)) {\n            break;\n        }\n        parents.unshift(parent);\n    }\n    return parents;\n}\n\n/**\n * Helper performing a drag and drop sequence.\n *\n * - 'from' is used to determine the element on which the drag will start;\n * - 'target' will determine the element on which the first one will be dropped.\n *\n * The first element will be dragged by its center, and will be dropped on the\n * bottom-right inner pixel of the target element. This behavior covers both\n * cases of appending the first element to the end of a list (toSelector =\n * target list) or moving it at the position of another element, effectively\n * placing the first element before the second (toSelector = other element).\n *\n * A position can be given to drop the first element above, below, or on the\n * side of the second (default is inside, as specified above).\n *\n * Note that only the last event is awaited, since all the others are\n * considered to be synchronous.\n *\n * @param {Element | string} from\n * @param {Element | string} to\n * @param {Position} [position]\n */\nexport async function dragAndDrop(from, to, position) {\n    const { drop } = await drag(from);\n    await drop(to, position);\n}\n\n/**\n * Helper performing a drag.\n *\n * - the 'from' selector is used to determine the element on which the drag will\n *  start;\n * - the 'target' selector will determine the element on which the dragged element will be\n * moved.\n *\n * Returns a drop function\n *\n * @param {Element | string} from\n */\nexport async function drag(from, pointerType = \"mouse\") {\n    const assertIsDragging = (fn, endDrag) => {\n        return {\n            async [fn.name](...args) {\n                if (dragEndReason) {\n                    throw new Error(\n                        `Cannot execute drag helper '${fn.name}': drag sequence has been ended by '${dragEndReason}'.`\n                    );\n                }\n                await fn(...args);\n                if (endDrag) {\n                    dragEndReason = fn.name;\n                }\n            },\n        }[fn.name];\n    };\n\n    const cancel = assertIsDragging(async function cancel() {\n        await triggerEvent(window, null, \"keydown\", { key: \"Escape\" });\n    }, true);\n\n    /**\n     * @param {Element | string} [to]\n     * @param {Position} [position]\n     */\n    const drop = assertIsDragging(async function drop(to, position) {\n        if (to) {\n            await moveTo(to, position);\n        }\n        await triggerEvent(target || source, null, \"pointerup\", targetPosition);\n    }, true);\n\n    /**\n     * @param {Element | string} selector\n     */\n    const getEl = (selector) =>\n        selector instanceof Element ? selector : fixture.querySelector(selector);\n\n    /**\n     * @param {Position} [position]\n     */\n    const getTargetPosition = (position) => {\n        const tRect = target.getBoundingClientRect();\n        const tPos = {\n            clientX: Math.floor(tRect.x),\n            clientY: Math.floor(tRect.y),\n        };\n        if (position && typeof position === \"object\") {\n            // x and y coordinates start from the element's initial coordinates\n            tPos.clientX += position.x || 0;\n            tPos.clientY += position.y || 0;\n        } else {\n            const positions = typeof position === \"string\" ? position.split(\"-\") : [];\n\n            // X position\n            if (positions.includes(\"left\")) {\n                tPos.clientX -= 1;\n            } else if (positions.includes(\"right\")) {\n                tPos.clientX += Math.ceil(tRect.width) + 1;\n            } else {\n                tPos.clientX += Math.floor(tRect.width / 2);\n            }\n\n            // Y position\n            if (positions.includes(\"top\")) {\n                tPos.clientY -= 1;\n            } else if (positions.includes(\"bottom\")) {\n                tPos.clientY += Math.ceil(tRect.height) + 1;\n            } else {\n                tPos.clientY += Math.floor(tRect.height / 2);\n            }\n        }\n        return tPos;\n    };\n\n    /**\n     * @param {Element | string} [to]\n     * @param {Position} [position]\n     */\n    const moveTo = assertIsDragging(async function moveTo(to, position) {\n        target = getEl(to);\n        if (!target) {\n            return;\n        }\n\n        // Recompute target position\n        targetPosition = getTargetPosition(position);\n\n        // Move, enter and drop the element on the target\n        await triggerEvent(source, null, \"pointermove\", { ...targetPosition, button: -1 });\n\n        // \"pointerenter\" is fired on every parent of `target` that do not contain\n        // `from` (typically: different parent lists).\n        for (const parent of getDifferentParents(source, target)) {\n            triggerEvent(parent, null, \"pointerenter\", targetPosition);\n        }\n        await nextTick();\n\n        return dragHelpers;\n    }, false);\n\n    const dragHelpers = { cancel, drop, moveTo };\n    const fixture = getFixture();\n\n    const source = getEl(from instanceof Element ? from : fixture.querySelector(from));\n    const sourceRect = source.getBoundingClientRect();\n\n    let dragEndReason = null;\n    let target;\n    let targetPosition;\n\n    // Pointer down on main target\n    await triggerEvent(source, null, \"pointerdown\", {\n        pointerType,\n        clientX: sourceRect.x + sourceRect.width / 2,\n        clientY: sourceRect.y + sourceRect.height / 2,\n    });\n\n    return dragHelpers;\n}\n\n/**\n * Returns the dropdown menu for a specific toggler.\n *\n * @param {HTMLElement} target\n * @param {String|HTMLElement} togglerSelector\n * @returns {HTMLElement|undefined}\n */\nexport function getDropdownMenu(target, togglerSelector) {\n    if (!(target instanceof HTMLElement)) {\n        throw new Error(`getDropdownMenu: target is not an HTMLElement.`);\n    }\n    let el =\n        togglerSelector instanceof HTMLElement\n            ? togglerSelector\n            : target.querySelector(togglerSelector);\n\n    if (el && !el.classList.contains(\"o-dropdown\")) {\n        el = el.querySelector(\".o-dropdown\");\n    }\n    if (!el) {\n        throw new Error(`getDropdownMenu: Could not find element \"${togglerSelector}\".`);\n    }\n    return getPopoverForTarget(el);\n}\n\nexport async function clickDropdown(target, fieldName) {\n    const dropdownInput = target.querySelector(`[name='${fieldName}'] .dropdown input`);\n    dropdownInput.focus();\n    await nextTick();\n    await click(dropdownInput);\n}\n\nexport async function clickOpenedDropdownItem(target, fieldName, itemContent) {\n    const dropdowns = target.querySelectorAll(`[name='${fieldName}'] .dropdown .dropdown-menu`);\n    if (dropdowns.length === 0) {\n        throw new Error(`No dropdown found for field ${fieldName}`);\n    } else if (dropdowns.length > 1) {\n        throw new Error(`Found ${dropdowns.length} dropdowns for field ${fieldName}`);\n    }\n    const dropdownItems = dropdowns[0].querySelectorAll(\"li\");\n    const indexToClick = Array.from(dropdownItems)\n        .map((html) => html.textContent)\n        .indexOf(itemContent);\n    if (indexToClick === -1) {\n        throw new Error(`The element '${itemContent}' does not exist in the dropdown`);\n    }\n    await click(dropdownItems[indexToClick]);\n}\n\nexport async function selectDropdownItem(target, fieldName, itemContent) {\n    await clickDropdown(target, fieldName);\n    await clickOpenedDropdownItem(target, fieldName, itemContent);\n}\n\nexport function getNodesTextContent(nodes) {\n    return Array.from(nodes).map((n) => n.textContent);\n}\n\n/**\n * Click to open the dropdown on a many2one\n */\nexport async function clickOpenM2ODropdown(el, fieldName, selector) {\n    const m2oSelector = `${selector || \"\"} .o_field_many2one[name=${fieldName}] input`;\n    const matches = el.querySelectorAll(m2oSelector);\n    if (matches.length !== 1) {\n        throw new Error(\n            `cannot open m2o: selector ${selector} has been found ${matches.length} instead of 1`\n        );\n    }\n\n    await click(matches[0]);\n    return matches[0];\n}\n\n/**\n * Click on the active (highlighted) selection in a m2o dropdown.\n */\n// TO FIX\nexport async function clickM2OHighlightedItem(el, fieldName, selector) {\n    const m2oSelector = `${selector || \"\"} .o_field_many2one[name=${fieldName}] input`;\n    // const $dropdown = $(m2oSelector).autocomplete('widget');\n    const matches = el.querySelectorAll(m2oSelector);\n    if (matches.length !== 1) {\n        throw new Error(\n            `cannot open m2o: selector ${selector} has been found ${matches.length} instead of 1`\n        );\n    }\n    // clicking on an li (no matter which one), will select the focussed one\n    return click(matches[0].parentElement.querySelector(\"li\"));\n}\n\n// X2Many\nexport async function addRow(target, selector) {\n    await click(target.querySelector(`${selector ? selector : \"\"} .o_field_x2many_list_row_add a`));\n}\n\nexport async function removeRow(target, index) {\n    await click(target.querySelectorAll(\".o_list_record_remove\")[index]);\n}\n", "/** @odoo-module alias=@web/../tests/utils default=false */\n\nimport { isVisible } from \"@web/core/utils/ui\";\nimport { registerCleanup } from \"@web/../tests/helpers/cleanup\";\nimport {\n    click as webClick,\n    getFixture,\n    makeDeferred,\n    triggerEvents as webTriggerEvents,\n} from \"@web/../tests/helpers/utils\";\n\n/**\n * Create a fake object 'dataTransfer', linked to some files,\n * which is passed to drag and drop events.\n *\n * @param {Object[]} files\n * @returns {Object}\n */\nfunction createFakeDataTransfer(files) {\n    return {\n        dropEffect: \"all\",\n        effectAllowed: \"all\",\n        files,\n        items: [],\n        types: [\"Files\"],\n    };\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then clicks on it.\n *\n * @param {string} selector\n * @param {ContainsOptions} [options] forwarded to `contains`\n * @param {boolean} [options.shiftKey]\n */\nexport async function click(selector, options = {}) {\n    const { shiftKey } = options;\n    delete options.shiftKey;\n    await contains(selector, { click: { shiftKey }, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then dragenters `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function dragenterFiles(selector, files, options) {\n    await contains(selector, { dragenterFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then dragovers `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function dragoverFiles(selector, files, options) {\n    await contains(selector, { dragoverFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then drops `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function dropFiles(selector, files, options) {\n    await contains(selector, { dropFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then inputs `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function inputFiles(selector, files, options) {\n    await contains(selector, { inputFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then pastes `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function pasteFiles(selector, files, options) {\n    await contains(selector, { pasteFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then focuses on it.\n *\n * @param {string} selector\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function focus(selector, options) {\n    await contains(selector, { setFocus: true, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then inserts the given `content`.\n *\n * @param {string} selector\n * @param {string} content\n * @param {ContainsOptions} [options] forwarded to `contains`\n * @param {boolean} [options.replace=false]\n */\nexport async function insertText(selector, content, options = {}) {\n    const { replace = false } = options;\n    delete options.replace;\n    await contains(selector, { ...options, insertText: { content, replace } });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then sets its `scrollTop` to the given value.\n *\n * @param {string} selector\n * @param {number|\"bottom\"} scrollTop\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function scroll(selector, scrollTop, options) {\n    await contains(selector, { setScroll: scrollTop, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then triggers `event` on it.\n *\n * @param {string} selector\n * @param {(import(\"@web/../tests/helpers/utils\").EventType|[import(\"@web/../tests/helpers/utils\").EventType, EventInit])[]} events\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function triggerEvents(selector, events, options) {\n    await contains(selector, { triggerEvents: events, ...options });\n}\n\nfunction log(ok, message) {\n    if (window.QUnit) {\n        QUnit.assert.ok(ok, message);\n    } else {\n        if (ok) {\n            console.log(message);\n        } else {\n            console.error(message);\n        }\n    }\n}\n\nlet hasUsedContainsPositively = false;\nif (window.QUnit) {\n    QUnit.testStart(() => (hasUsedContainsPositively = false));\n}\n/**\n * @typedef {[string, ContainsOptions]} ContainsTuple tuple representing params of the contains\n *  function, where the first element is the selector, and the second element is the options param.\n * @typedef {Object} ContainsOptions\n * @property {ContainsTuple} [after] if provided, the found element(s) must be after the element\n *  matched by this param.\n * @property {ContainsTuple} [before] if provided, the found element(s) must be before the element\n *  matched by this param.\n * @property {Object} [click] if provided, clicks on the first found element\n * @property {ContainsTuple|ContainsTuple[]} [contains] if provided, the found element(s) must\n *  contain the provided sub-elements.\n * @property {number} [count=1] numbers of elements to be found to declare the contains check\n *  as successful. Elements are counted after applying all other filters.\n * @property {Object[]} [dragenterFiles] if provided, dragenters the given files on the found element\n * @property {Object[]} [dragoverFiles] if provided, dragovers the given files on the found element\n * @property {Object[]} [dropFiles] if provided, drops the given files on the found element\n * @property {Object[]} [inputFiles] if provided, inputs the given files on the found element\n * @property {{content:string, replace:boolean}} [insertText] if provided, adds to (or replace) the\n *  value of the first found element by the given content.\n * @property {ContainsTuple} [parent] if provided, the found element(s) must have as\n *  parent the node matching the parent parameter.\n * @property {Object[]} [pasteFiles] if provided, pastes the given files on the found element\n * @property {number|\"bottom\"} [scroll] if provided, the scrollTop of the found element(s)\n *  must match.\n *  Note: when using one of the scrollTop options, it is advised to ensure the height is not going\n *  to change soon, by checking with a preceding contains that all the expected elements are in DOM.\n * @property {boolean} [setFocus] if provided, focuses the first found element.\n * @property {boolean} [shadowRoot] if provided, targets the shadowRoot of the found elements.\n * @property {number|\"bottom\"} [setScroll] if provided, sets the scrollTop on the first found\n *  element.\n * @property {HTMLElement} [target=getFixture()]\n * @property {string[]} [triggerEvents] if provided, triggers the given events on the found element\n * @property {string} [text] if provided, the textContent of the found element(s) or one of their\n *  descendants must match. Use `textContent` option for a match on the found element(s) only.\n * @property {string} [textContent] if provided, the textContent of the found element(s) must match.\n *  Prefer `text` option for a match on the found element(s) or any of their descendants, usually\n *  allowing for a simpler and less specific selector.\n * @property {string} [value] if provided, the input value of the found element(s) must match.\n *  Note: value changes are not observed directly, another mutation must happen to catch them.\n * @property {boolean} [visible] if provided, the found element(s) must be (in)visible\n */\nclass Contains {\n    /**\n     * @param {string} selector\n     * @param {ContainsOptions} [options={}]\n     */\n    constructor(selector, options = {}) {\n        this.selector = selector;\n        this.options = options;\n        this.options.count ??= 1;\n        this.options.targetParam = this.options.target;\n        this.options.target ??= getFixture();\n        let selectorMessage = `${this.options.count} of \"${this.selector}\"`;\n        if (this.options.visible !== undefined) {\n            selectorMessage = `${selectorMessage} ${\n                this.options.visible ? \"visible\" : \"invisible\"\n            }`;\n        }\n        if (this.options.targetParam) {\n            selectorMessage = `${selectorMessage} inside a specific target`;\n        }\n        if (this.options.parent) {\n            selectorMessage = `${selectorMessage} inside a specific parent`;\n        }\n        if (this.options.contains) {\n            selectorMessage = `${selectorMessage} with a specified sub-contains`;\n        }\n        if (this.options.text !== undefined) {\n            selectorMessage = `${selectorMessage} with text \"${this.options.text}\"`;\n        }\n        if (this.options.textContent !== undefined) {\n            selectorMessage = `${selectorMessage} with textContent \"${this.options.textContent}\"`;\n        }\n        if (this.options.value !== undefined) {\n            selectorMessage = `${selectorMessage} with value \"${this.options.value}\"`;\n        }\n        if (this.options.scroll !== undefined) {\n            selectorMessage = `${selectorMessage} with scroll \"${this.options.scroll}\"`;\n        }\n        if (this.options.after !== undefined) {\n            selectorMessage = `${selectorMessage} after a specified element`;\n        }\n        if (this.options.before !== undefined) {\n            selectorMessage = `${selectorMessage} before a specified element`;\n        }\n        this.selectorMessage = selectorMessage;\n        if (this.options.contains && !Array.isArray(this.options.contains[0])) {\n            this.options.contains = [this.options.contains];\n        }\n        if (this.options.count) {\n            hasUsedContainsPositively = true;\n        } else if (!hasUsedContainsPositively) {\n            throw new Error(\n                `Starting a test with \"contains\" of count 0 for selector \"${this.selector}\" is useless because it might immediately resolve. Start the test by checking that an expected element actually exists.`\n            );\n        }\n        /** @type {string} */\n        this.successMessage = undefined;\n        /** @type {function} */\n        this.executeError = undefined;\n    }\n\n    /**\n     * Starts this contains check, either immediately resolving if there is a\n     * match, or registering appropriate listeners and waiting until there is a\n     * match or a timeout (resolving or rejecting respectively).\n     *\n     * Success or failure messages will be logged with QUnit as well.\n     *\n     * @returns {Promise}\n     */\n    run() {\n        this.done = false;\n        this.def = makeDeferred();\n        this.scrollListeners = new Set();\n        this.onScroll = () => this.runOnce(\"after scroll\");\n        if (!this.runOnce(\"immediately\")) {\n            this.timer = setTimeout(\n                () => this.runOnce(\"Timeout of 5 seconds\", { crashOnFail: true }),\n                5000\n            );\n            this.observer = new MutationObserver((mutations) => {\n                try {\n                    this.runOnce(\"after mutations\");\n                } catch (e) {\n                    this.def.reject(e); // prevents infinite loop in case of programming error\n                }\n            });\n            this.observer.observe(this.options.target, {\n                attributes: true,\n                childList: true,\n                subtree: true,\n            });\n            registerCleanup(() => {\n                if (!this.done) {\n                    this.runOnce(\"Test ended\", { crashOnFail: true });\n                }\n            });\n        }\n        return this.def;\n    }\n\n    /**\n     * Runs this contains check once, immediately returning the result (or\n     * undefined), and possibly resolving or rejecting the main promise\n     * (and printing QUnit log) depending on options.\n     * If undefined is returned it means the check was not successful.\n     *\n     * @param {string} whenMessage\n     * @param {Object} [options={}]\n     * @param {boolean} [options.crashOnFail=false]\n     * @param {boolean} [options.executeOnSuccess=true]\n     * @returns {HTMLElement[]|undefined}\n     */\n    runOnce(whenMessage, { crashOnFail = false, executeOnSuccess = true } = {}) {\n        const res = this.select();\n        if (res?.length === this.options.count || crashOnFail) {\n            // clean before doing anything else to avoid infinite loop due to side effects\n            this.observer?.disconnect();\n            clearTimeout(this.timer);\n            for (const el of this.scrollListeners ?? []) {\n                el.removeEventListener(\"scroll\", this.onScroll);\n            }\n            this.done = true;\n        }\n        if (res?.length === this.options.count) {\n            this.successMessage = `Found ${this.selectorMessage} (${whenMessage})`;\n            if (executeOnSuccess) {\n                this.executeAction(res[0]);\n            }\n            return res;\n        } else {\n            this.executeError = () => {\n                let message = `Failed to find ${this.selectorMessage} (${whenMessage}).`;\n                message = res\n                    ? `${message} Found ${res.length} instead.`\n                    : `${message} Parent not found.`;\n                if (this.parentContains) {\n                    if (this.parentContains.successMessage) {\n                        log(true, this.parentContains.successMessage);\n                    } else {\n                        this.parentContains.executeError();\n                    }\n                }\n                log(false, message);\n                this.def?.reject(new Error(message));\n                for (const childContains of this.childrenContains || []) {\n                    if (childContains.successMessage) {\n                        log(true, childContains.successMessage);\n                    } else {\n                        childContains.executeError();\n                    }\n                }\n            };\n            if (crashOnFail) {\n                this.executeError();\n            }\n        }\n    }\n\n    /**\n     * Executes the action(s) given to this constructor on the found element,\n     * prints the success messages, and resolves the main deferred.\n\n     * @param {HTMLElement} el\n     */\n    executeAction(el) {\n        let message = this.successMessage;\n        if (this.options.click) {\n            message = `${message} and clicked it`;\n            webClick(el, undefined, {\n                mouseEventInit: this.options.click,\n                skipDisabledCheck: true,\n                skipVisibilityCheck: true,\n            });\n        }\n        if (this.options.dragenterFiles) {\n            message = `${message} and dragentered ${this.options.dragenterFiles.length} file(s)`;\n            const ev = new Event(\"dragenter\", { bubbles: true });\n            Object.defineProperty(ev, \"dataTransfer\", {\n                value: createFakeDataTransfer(this.options.dragenterFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.dragoverFiles) {\n            message = `${message} and dragovered ${this.options.dragoverFiles.length} file(s)`;\n            const ev = new Event(\"dragover\", { bubbles: true });\n            Object.defineProperty(ev, \"dataTransfer\", {\n                value: createFakeDataTransfer(this.options.dragoverFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.dropFiles) {\n            message = `${message} and dropped ${this.options.dropFiles.length} file(s)`;\n            const ev = new Event(\"drop\", { bubbles: true });\n            Object.defineProperty(ev, \"dataTransfer\", {\n                value: createFakeDataTransfer(this.options.dropFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.inputFiles) {\n            message = `${message} and inputted ${this.options.inputFiles.length} file(s)`;\n            // could not use _createFakeDataTransfer as el.files assignation will only\n            // work with a real FileList object.\n            const dataTransfer = new window.DataTransfer();\n            for (const file of this.options.inputFiles) {\n                dataTransfer.items.add(file);\n            }\n            el.files = dataTransfer.files;\n            /**\n             * Changing files programatically is not supposed to trigger the event but\n             * it does in Chrome versions before 73 (which is on runbot), so in that\n             * case there is no need to make a manual dispatch, because it would lead to\n             * the files being added twice.\n             */\n            const versionRaw = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n            const chromeVersion = versionRaw ? parseInt(versionRaw[2], 10) : false;\n            if (!chromeVersion || chromeVersion >= 73) {\n                el.dispatchEvent(new Event(\"change\"));\n            }\n        }\n        if (this.options.insertText !== undefined) {\n            message = `${message} and inserted text \"${this.options.insertText.content}\" (replace: ${this.options.insertText.replace})`;\n            el.focus();\n            if (this.options.insertText.replace) {\n                el.value = \"\";\n                el.dispatchEvent(new window.KeyboardEvent(\"keydown\", { key: \"Backspace\" }));\n                el.dispatchEvent(new window.KeyboardEvent(\"keyup\", { key: \"Backspace\" }));\n                el.dispatchEvent(new window.InputEvent(\"input\"));\n            }\n            for (const char of this.options.insertText.content) {\n                el.value += char;\n                el.dispatchEvent(new window.KeyboardEvent(\"keydown\", { key: char }));\n                el.dispatchEvent(new window.KeyboardEvent(\"keyup\", { key: char }));\n                el.dispatchEvent(new window.InputEvent(\"input\"));\n            }\n            el.dispatchEvent(new window.InputEvent(\"change\"));\n        }\n        if (this.options.pasteFiles) {\n            message = `${message} and pasted ${this.options.pasteFiles.length} file(s)`;\n            const ev = new Event(\"paste\", { bubbles: true });\n            Object.defineProperty(ev, \"clipboardData\", {\n                value: createFakeDataTransfer(this.options.pasteFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.setFocus) {\n            message = `${message} and focused it`;\n            el.focus();\n        }\n        if (this.options.setScroll !== undefined) {\n            message = `${message} and set scroll to \"${this.options.setScroll}\"`;\n            el.scrollTop =\n                this.options.setScroll === \"bottom\" ? el.scrollHeight : this.options.setScroll;\n        }\n        if (this.options.triggerEvents) {\n            message = `${message} and triggered \"${this.options.triggerEvents.join(\", \")}\" events`;\n            webTriggerEvents(el, null, this.options.triggerEvents, {\n                skipVisibilityCheck: true,\n            });\n        }\n        if (this.parentContains) {\n            log(true, this.parentContains.successMessage);\n        }\n        log(true, message);\n        for (const childContains of this.childrenContains) {\n            log(true, childContains.successMessage);\n        }\n        this.def?.resolve();\n    }\n\n    /**\n     * Returns the found element(s) according to this constructor setup.\n     * If undefined is returned it means the parent cannot be found\n     *\n     * @returns {HTMLElement[]|undefined}\n     */\n    select() {\n        const target = this.selectParent();\n        if (!target) {\n            return;\n        }\n        const baseRes = [...target.querySelectorAll(this.selector)]\n            .map((el) => (this.options.shadowRoot ? el.shadowRoot : el))\n            .filter((el) => el);\n        /** @type {Contains[]} */\n        this.childrenContains = [];\n        const res = baseRes.filter((el, currentIndex) => {\n            let condition =\n                (this.options.textContent === undefined ||\n                    el.textContent.trim() === this.options.textContent) &&\n                (this.options.value === undefined || el.value === this.options.value) &&\n                (this.options.scroll === undefined ||\n                    (this.options.scroll === \"bottom\"\n                        ? Math.abs(el.scrollHeight - el.clientHeight - el.scrollTop) <= 1\n                        : Math.abs(el.scrollTop - this.options.scroll) <= 1));\n            if (condition && this.options.text !== undefined) {\n                if (\n                    el.textContent.trim() !== this.options.text &&\n                    [...el.querySelectorAll(\"*\")].every(\n                        (el) => el.textContent.trim() !== this.options.text\n                    )\n                ) {\n                    condition = false;\n                }\n            }\n            if (condition && this.options.contains) {\n                for (const param of this.options.contains) {\n                    const childContains = new Contains(param[0], { ...param[1], target: el });\n                    if (\n                        !childContains.runOnce(`as child of el ${currentIndex + 1})`, {\n                            executeOnSuccess: false,\n                        })\n                    ) {\n                        condition = false;\n                    }\n                    this.childrenContains.push(childContains);\n                }\n            }\n            if (condition && this.options.visible !== undefined) {\n                if (isVisible(el) !== this.options.visible) {\n                    condition = false;\n                }\n            }\n            if (condition && this.options.after) {\n                const afterContains = new Contains(this.options.after[0], {\n                    ...this.options.after[1],\n                    target,\n                });\n                const afterEl = afterContains.runOnce(`as \"after\"`, {\n                    executeOnSuccess: false,\n                })?.[0];\n                if (\n                    !afterEl ||\n                    !(el.compareDocumentPosition(afterEl) & Node.DOCUMENT_POSITION_PRECEDING)\n                ) {\n                    condition = false;\n                }\n                this.childrenContains.push(afterContains);\n            }\n            if (condition && this.options.before) {\n                const beforeContains = new Contains(this.options.before[0], {\n                    ...this.options.before[1],\n                    target,\n                });\n                const beforeEl = beforeContains.runOnce(`as \"before\"`, {\n                    executeOnSuccess: false,\n                })?.[0];\n                if (\n                    !beforeEl ||\n                    !(el.compareDocumentPosition(beforeEl) & Node.DOCUMENT_POSITION_FOLLOWING)\n                ) {\n                    condition = false;\n                }\n                this.childrenContains.push(beforeContains);\n            }\n            return condition;\n        });\n        if (\n            this.options.scroll !== undefined &&\n            this.scrollListeners &&\n            baseRes.length === this.options.count &&\n            res.length !== this.options.count\n        ) {\n            for (const el of baseRes) {\n                if (!this.scrollListeners.has(el)) {\n                    this.scrollListeners.add(el);\n                    el.addEventListener(\"scroll\", this.onScroll);\n                }\n            }\n        }\n        return res;\n    }\n\n    /**\n     * Returns the found element that should act as the target (parent) for the\n     * main selector.\n     * If undefined is returned it means the parent cannot be found.\n     *\n     * @returns {HTMLElement|undefined}\n     */\n    selectParent() {\n        if (this.options.parent) {\n            this.parentContains = new Contains(this.options.parent[0], {\n                ...this.options.parent[1],\n                target: this.options.target,\n            });\n            return this.parentContains.runOnce(`as parent`, { executeOnSuccess: false })?.[0];\n        }\n        return this.options.target;\n    }\n}\n\n/**\n * Waits until `count` elements matching the given `selector` are present in\n * `options.target`.\n *\n * @param {string} selector\n * @param {ContainsOptions} [options]\n * @returns {Promise}\n */\nexport async function contains(selector, options) {\n    await new Contains(selector, options).run();\n}\n\nconst stepState = {\n    expectedSteps: null,\n    deferred: null,\n    timeout: null,\n    currentSteps: [],\n\n    clear() {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n        this.deferred = null;\n        this.currentSteps = [];\n        this.expectedSteps = null;\n    },\n\n    check({ crashOnFail = false } = {}) {\n        const success =\n            this.expectedSteps.length === this.currentSteps.length &&\n            this.expectedSteps.every((s, i) => s === this.currentSteps[i]);\n        if (!success && !crashOnFail) {\n            return;\n        }\n        QUnit.config.current.assert.verifySteps(this.expectedSteps);\n        if (success) {\n            this.deferred.resolve();\n        } else {\n            this.deferred.reject(new Error(\"Steps do not match.\"));\n        }\n        this.clear();\n    },\n};\n\nif (window.QUnit) {\n    QUnit.testStart(() =>\n        registerCleanup(() => {\n            if (stepState.expectedSteps) {\n                stepState.check({ crashOnFail: true });\n            } else {\n                stepState.clear();\n            }\n        })\n    );\n}\n\n/**\n * Indicate the completion of a test step. This step must then be verified by\n * calling `assertSteps`.\n *\n * @param {string} step\n */\nexport function step(step) {\n    stepState.currentSteps.push(step);\n    QUnit.config.current.assert.step(step);\n    if (stepState.expectedSteps) {\n        stepState.check();\n    }\n}\n\n/**\n * Wait for the given steps to be executed or for the timeout to be reached.\n *\n * @param {string[]} steps\n */\nexport function assertSteps(steps) {\n    if (stepState.expectedSteps) {\n        stepState.check({ crashOnFail: true });\n    }\n    stepState.expectedSteps = steps;\n    stepState.deferred = makeDeferred();\n    stepState.timeout = setTimeout(() => stepState.check({ crashOnFail: true }), 2000);\n    stepState.check();\n    return stepState.deferred;\n}\n", "import { registry } from \"@web/core/registry\";\n\nfunction logout() {\n    return [\n        {\n            content: \"check we're logged in\",\n            trigger: \".o_user_menu .dropdown-toggle\",\n            run: \"click\",\n        },\n        {\n            content: \"click the Log out button\",\n            trigger: \".dropdown-item[data-menu=logout]\",\n            run: \"click\",\n        },\n    ];\n}\n\nregistry.category(\"web_tour.tours\").add(\"test_user_switch\", {\n    url: \"/odoo\",\n    steps: () => [\n        ...logout(),\n        {\n            content: \"check if the login input is empty\",\n            trigger: \"input#login:empty\",\n        },\n        {\n            content: \"check if the password input is empty\",\n            trigger: \"input#password:empty\",\n        },\n        {\n            content: \"Should contains the user switch button\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on Marc Demo on the quick login page\",\n            trigger:\n                \".o_user_switch:not(:has(.list-group-item:nth-child(2))) .list-group-item:contains('Marc Demo')\",\n            run: \"click\",\n        },\n        {\n            content: \"Check user choice button to back on the quick login page\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Display the login form\",\n            trigger: \".o_user_switch .fa-user-circle-o\",\n            run: \"click\",\n        },\n        {\n            content: \"fill the login\",\n            trigger: \"input#login\",\n            run: \"edit admin\",\n        },\n        {\n            content: \"fill the password\",\n            trigger: \"input#password\",\n            run: \"edit admin\",\n        },\n        {\n            content: \"click on login button\",\n            trigger: 'button:contains(\"Log in\")',\n            run: \"click\",\n        },\n        ...logout(),\n        {\n            content: \"Check if there is Mitchell Admin in user list selection\",\n            trigger: \".o_user_switch .list-group-item:nth-child(1):contains('Mitchell Admin')\",\n        },\n        {\n            content: \"Check if there is Marc Demo in user list selection\",\n            trigger: \".o_user_switch .list-group-item:nth-child(2):contains('Marc Demo')\",\n        },\n        {\n            content: \"Choice demo\",\n            trigger: \".o_user_switch .list-group-item:contains('Marc Demo')\",\n            run: \"click\",\n        },\n        {\n            content: \"check the login for demo\",\n            trigger: \"input#login:value('demo')\",\n        },\n        {\n            content: \"fill the password\",\n            trigger: \"input#password\",\n            run: \"edit demo\",\n        },\n        {\n            content: \"Check back button to back on the quick login page\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Check have 2 users\",\n            trigger: \".o_user_switch .list-group-item:nth-child(2)\",\n        },\n        {\n            content: \"Click on Mitchell Admin\",\n            trigger: \".o_user_switch .list-group-item:nth-child(1):contains('Mitchell Admin')\",\n            run: \"click\",\n        },\n        {\n            content: \"check the login for admin\",\n            trigger: \"input#login:value('admin')\",\n        },\n        {\n            content: \"fill the password\",\n            trigger: \"input#password\",\n            run: \"edit admin\",\n        },\n        {\n            content: \"Check back button to back on the quick login page\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Display the login form\",\n            trigger: \".o_user_switch .fa-user-circle-o\",\n            run: \"click\",\n        },\n        {\n            content: \"the login form is display\",\n            trigger: \"form.oe_login_form:not(.d-none)\",\n        },\n        {\n            content: \"check if the login input is empty\",\n            trigger: \"input#login:empty\",\n        },\n        {\n            content: \"check if the password input is empty\",\n            trigger: \"input#password:empty\",\n        },\n        {\n            content: \"Back to user switch\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Remove the admin user from page\",\n            trigger: \".o_user_switch .d-flex:first-child .fa-times\",\n            run: \"click\",\n        },\n        {\n            content: \"only one user is left on quick login\",\n            trigger:\n                \".o_user_switch:not(:has(.list-group-item:nth-child(2))) .list-group-item:contains('Marc Demo')\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_activity_date_format\", {\n    steps: () => [\n        {\n            trigger: \"button:contains('Activities')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('To-Do')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"edit Go Party\",\n        },\n        {\n            trigger: \"button:contains('Schedule')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Activity:contains('Go Party')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Activity-info i\",\n            run: \"click\",\n        },\n        // Format expected from the server for 9 AM at the first day of 2024 is date_format = \"%d/%b/%y\", time_format = \"%I:%M:%S %p\".\n        {\n            trigger:\n                \".o-mail-Activity-details tr:contains('Created') td:contains('01/Jan/24 09:00:00 AM')\",\n        },\n        {\n            // Default due date is 5 days after creation date.\n            trigger: \".o-mail-Activity-details tr:contains('Due on') td:contains('06/Jan/24')\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_channel_as_guest_tour.js\", {\n    steps: () => [\n        {\n            content: \"Channel secret token has been hidden on welcome page\",\n            trigger: \".o-mail-WelcomePage\",\n            run() {\n                if (!window.location.pathname.startsWith(\"/discuss/channel\")) {\n                    console.error(\"Channel secret token is still present in URL.\");\n                }\n            },\n        },\n        {\n            content: \"Click join\",\n            trigger: \"button[title='Join Channel']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that we are on channel page\",\n            trigger: \".o-mail-Thread\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_channel_call_public_tour.js\", {\n    steps: () => [\n        {\n            content: \"The call does not start on the welcome page\",\n            trigger: \".o-mail-WelcomePage\",\n            async run() {\n                await new Promise((r) => setTimeout(r, 250));\n                const rtcService = odoo.__WOWL_DEBUG__.root.env.services[\"discuss.rtc\"];\n                if (rtcService?.selfSession || rtcService?.state.hasPendingRequest) {\n                    console.error(\"The call should not have started.\");\n                }\n            },\n        },\n        {\n            content: \"Click join\",\n            trigger: \"button[title='Join Channel']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that the call has started\",\n            trigger: \".o-discuss-Call\",\n        },\n        {\n            content: \"Check that current user is in call ('disconnect' button visible)\",\n            trigger: \"button[title='Disconnect']\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { click, contains, inputFiles } from \"@web/../tests/utils\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_channel_public_tour.js\", {\n    steps: () => [\n        {\n            trigger: \".o-mail-Discuss\",\n        },\n        {\n            content: \"Check that we are on channel page\",\n            trigger: \".o-mail-Thread\",\n            run() {\n                if (!window.location.pathname.startsWith(\"/discuss/channel\")) {\n                    console.error(\"Channel secret token is still present in URL.\");\n                }\n                const errors = odoo.loader.findErrors();\n                if (Object.keys(errors).length) {\n                    console.error(\"Couldn't load all JS modules.\", errors);\n                }\n                document.body.classList.add(\"o_discuss_channel_public_modules_loaded\");\n                if (\n                    document.title !== document.querySelector(\".o-mail-Discuss-threadName\")?.value\n                ) {\n                    console.error(\"Tab title should match conversation name.\");\n                }\n            },\n        },\n        {\n            content: \"Wait for all modules loaded check in previous step\",\n            trigger: \".o_discuss_channel_public_modules_loaded\",\n        },\n        {\n            content: \"Write something in composer\",\n            trigger: \".o-mail-Composer-input\",\n            run: \"edit cheese\",\n        },\n        {\n            content: \"Add a text file in composer\",\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                const text = new File([\"hello, world\"], \"text.txt\", { type: \"text/plain\" });\n                await inputFiles(\".o-mail-Composer-coreMain .o_input_file\", [text]);\n            },\n        },\n        {\n            trigger: \".o-mail-AttachmentCard:not(.o-isUploading)\", // waiting the attachment to be uploaded\n        },\n        {\n            content: \"Check the text attachment is listed\",\n            trigger: '.o-mail-AttachmentCard[title=\"text.txt\"]',\n        },\n        {\n            content: \"Add an image file in composer\",\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                await inputFiles(\".o-mail-Composer-coreMain .o_input_file\", [\n                    new File(\n                        [\n                            await (\n                                await fetch(\n                                    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQIW2P4v5ThPwAG7wKklwQ/bwAAAABJRU5ErkJggg==\"\n                                )\n                            ).blob(),\n                        ],\n                        \"image.png\",\n                        { type: \"image/png\" }\n                    ),\n                ]);\n            },\n        },\n        {\n            trigger: \".o-mail-AttachmentImage:not(.o-isUploading)\",\n        },\n        {\n            content: \"Check the image attachment is listed\",\n            trigger: '.o-mail-AttachmentImage[title=\"image.png\"]',\n            async run() {\n                const store = odoo.__WOWL_DEBUG__.root.env.services[\"mail.store\"];\n                if (store.self.type === \"guest\") {\n                    const src = this.anchor.querySelector(\"img\").src;\n                    const token = store.Attachment.get(\n                        (src.match(\"/web/image/([0-9]+)\") || []).at(-1)\n                    )?.access_token;\n                    if (!(token && src.includes(`access_token=${token}`))) {\n                        throw new Error(\"Access token of the attachment isn't correct.\");\n                    }\n                }\n            },\n        },\n        {\n            content: \"Send message\",\n            trigger: \".o-mail-Composer-send:enabled\",\n            run: \"click\",\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"cheese\")',\n        },\n        {\n            content: \"Check message contains the attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n        },\n        {\n            trigger: \".o-mail-Message-textContent:contains(cheese)\",\n            run: \"hover && click .o-mail-Message [title='Add a Reaction']\",\n        },\n        {\n            trigger: \".o-EmojiPicker .o-Emoji:contains('\ud83d\ude42')\",\n            run: \"click\",\n        },\n        {\n            content: \"Reload page (fetch reactions)\",\n            trigger: \".o-mail-Message\",\n            run() {\n                location.reload();\n            },\n        },\n        {\n            content: \"Remove reaction\",\n            trigger: \".o-mail-MessageReaction:contains('\ud83d\ude42')\",\n            run: \"click\",\n        },\n        {\n            content: \"Reload page (fetch reactions)\",\n            trigger: \".o-mail-Message\",\n            run() {\n                location.reload();\n            },\n        },\n        {\n            trigger: \".o-mail-Message:not(:has(.o-mail-MessageReaction))\",\n        },\n        {\n            content: \"Click on more menu\",\n            trigger: \".o-mail-Message-textContent:contains(cheese)\",\n            run: \"hover && click .o-mail-Message [title='Expand']\",\n        },\n        {\n            content: \"Click on edit\",\n            trigger: \".o-mail-Message-moreMenu [title='Edit'], .o-mail-Message [title='Edit']\",\n            run: \"click\",\n        },\n        {\n            content: \"Edit message\",\n            trigger: \".o-mail-Message .o-mail-Composer-input\",\n            run: \"edit vegetables\",\n        },\n        {\n            content: \"Add one more file in composer\",\n            trigger: \".o-mail-Message button[aria-label='Attach files']\",\n            async run() {\n                const extratxt = new File([\"hello 2\"], \"extra.txt\", { type: \"text/plain\" });\n                await inputFiles(\".o-mail-Message .o_input_file\", [extratxt]);\n            },\n        },\n        {\n            trigger: \".o-mail-Message .o-mail-Composer .o-mail-AttachmentCard:not(.o-isUploading)\", // waiting the attachment to be uploaded\n        },\n        {\n            content: \"Check the earlier provided extra attachment is listed\",\n            trigger: '.o-mail-Message .o-mail-Composer .o-mail-AttachmentCard[title=\"extra.txt\"]',\n        },\n        {\n            content: \"Save edited message\",\n            trigger: \".o-mail-Message a:contains(save)\",\n            run: \"click\",\n        },\n        {\n            content: \"Check message is edited\",\n            trigger: '.o-mail-Message-body:contains(\"vegetables\")',\n        },\n        {\n            content: \"Check edited message contains the first attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n        },\n        {\n            content: \"Check edited message contains the extra attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"extra.txt\")',\n            async run() {\n                await click(\".o-mail-AttachmentCard-unlink\", {\n                    parent: [\".o-mail-AttachmentCard\", { text: \"extra.txt\" }],\n                });\n                await click(\".btn\", { text: \"Ok\", parent: [\".modal\", { text: \"Confirmation\" }] });\n                await contains(\".o-mail-AttachmentCard\", { text: \"extra.txt\", count: 0 });\n            },\n        },\n        {\n            content: \"Open search panel\",\n            trigger: \"button[title='Search Messages']\",\n            run: \"click\",\n        },\n        {\n            content: \"Search for the attachment name\",\n            trigger: \".o_searchview_input\",\n            run: \"edit text.txt\",\n        },\n        {\n            content: \"Trigger the search\",\n            trigger: \"button[aria-label='Search button']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that searched message contains the attachment\",\n            trigger:\n                '.o-mail-SearchMessagesPanel .o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_configuration_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"mail.menu_root_discuss\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_main_navbar button:contains('Configuration')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-menu a:contains('Notification')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-DiscussNotificationSettings label:contains('Mute')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('All Messages')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('Mentions Only')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('Nothing')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-header button[aria-label='Close']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_main_navbar button:contains('Configuration')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-menu a:contains('Voice & Video')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"select[name='inputDevice']\",\n        },\n        {\n            trigger: \"button:contains('Voice Detection')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"label:contains('Voice detection threshold')\",\n        },\n        {\n            trigger: \"button:contains('Push to Talk')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"label:contains('Push-to-talk key')\",\n        },\n        {\n            trigger: \"label:contains('Delay after releasing push-to-talk')\",\n        },\n        {\n            trigger: \"input[aria-label='Show video participants only']\",\n        },\n        {\n            trigger: \"input[aria-label='Blur video background']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"label:contains('Background blur intensity')\",\n        },\n        {\n            trigger: \"label:contains('Edge blur intensity')\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_go_back_to_thread_from_breadcrumbs.js\", {\n    steps: () => [\n        { trigger: \".o-mail-Discuss-threadName[title='Inbox']\" },\n        { trigger: \".o-mail-DiscussSidebar-item:contains(Starred)\", run: \"click\" },\n        { trigger: \"button[title='View or join channels']\", run: \"click\" },\n        { trigger: \".breadcrumb-item:contains(Starred)\", run: \"click\" },\n        { trigger: \".o-mail-Discuss-threadName[title='Starred']\" },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"sidebar_in_public_page_tour\", {\n    steps: () => [\n        {\n            trigger: \".o-mail-Discuss-header [title='Channel 1']\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 1).o-active\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 2)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Discuss-header [title='Channel 2']\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 2).o-active\",\n            run() {\n                history.back();\n            },\n        },\n        {\n            trigger: \".o-mail-Discuss-header [title='Channel 1']\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 1).o-active\",\n            run() {\n                history.forward();\n            },\n        },\n        {\n            trigger: \".o-mail-Discuss-header [title='Channel 2']\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 2).o-active\",\n        },\n    ],\n});\n", "import { contains, dragenterFiles, dropFiles, scroll } from \"@web/../tests/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"test_discuss_sub_channel_search\", {\n    steps: () => [\n        {\n            trigger: \"button[title='Threads']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-SubChannelList\",\n            async run() {\n                // 30 newest sub channels are loaded initially.\n                for (let i = 99; i > 69; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                    await contains(\".o-mail-SubChannelList-thread\", { count: 30 });\n                }\n            },\n        },\n        {\n            trigger: \".o-mail-ActionPanel:has(.o-mail-SubChannelList) .o_searchview_input\",\n            run: \"edit Sub Channel 10\",\n        },\n        {\n            trigger:\n                \".o-mail-ActionPanel:has(.o-mail-SubChannelList) button[aria-label='Search button']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 10)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 1 });\n            },\n        },\n        {\n            trigger: \".o_searchview_input\",\n            run: \"clear\",\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 99)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 31 });\n                // Already fetched sub channels are shown in addition to the one\n                // that was fetched during the search.\n                for (let i = 99; i > 69; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                }\n                await contains(\".o-mail-SubChannelList-thread\", { text: `Sub Channel 10` });\n                // Ensure lazy loading is still working after a search.\n                await scroll(\".o-mail-ActionPanel:has(.o-mail-SubChannelList)\", \"bottom\");\n            },\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 40)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 61 });\n                for (let i = 99; i > 39; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                }\n                await scroll(\".o-mail-ActionPanel:has(.o-mail-SubChannelList)\", \"bottom\");\n            },\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 11)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 90 });\n                for (let i = 99; i > 9; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                }\n                await scroll(\".o-mail-ActionPanel:has(.o-mail-SubChannelList)\", \"bottom\");\n            },\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 0)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 100 });\n                for (let i = 99; i > 0; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"create_thread_for_attachment_without_body\", {\n    steps: () => [\n        {\n            content: \"Open general channel\",\n            trigger: '.o-mail-DiscussSidebarChannel-itemName:contains(\"general\")',\n            run: \"click\",\n        },\n        {\n            content: \"Drop a file\",\n            trigger: \".o-mail-Discuss-main\",\n            async run() {\n                const files = [new File([\"hi there\"], \"file2.txt\", { type: \"text/plain\" })];\n                await dragenterFiles(\".o-mail-Discuss-main\", files);\n                await dropFiles(\".o-Dropzone\", files);\n            },\n        },\n        {\n            content: \"Click on send button\",\n            trigger: \".o-mail-Composer-send\",\n            run: \"click\",\n        },\n        {\n            content: \"Hover on attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"file2.txt\")',\n            run: \"hover\",\n        },\n        {\n            content: \"Click on expand button\",\n            trigger: '.o-mail-Message [title=\"Expand\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Create a new thread\",\n            trigger: '.o-dropdown-item:contains(\"Create Thread\")',\n            run: \"click\",\n        },\n        {\n            content: \"Check a new thread is created\",\n            trigger: '.o-mail-Discuss:contains(\"New Thread\")',\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_activity_schedule_from_chatter\", {\n    steps: () => [\n        {\n            trigger: \"button:contains('Activities')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('Call')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']:value('Call')\",\n        },\n        {\n            trigger: \"button:contains('Schedule')\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('To-Do')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"edit Play Mario Party\",\n        },\n        {\n            trigger: \"button:contains('Schedule')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Activity:contains('Play Mario Party')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('Activities')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"edit Play Mario Kart\",\n        },\n        {\n            trigger: \"button:contains('Mark as Done')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Message:contains('Play Mario Kart')\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { contains, dragenterFiles, dropFiles, inputFiles } from \"@web/../tests/utils\";\n\n/**\n * This tour depends on data created by python test in charge of launching it.\n * It is not intended to work when launched from interface. It is needed to test\n * an action (action manager) which is not possible to test with QUnit.\n * @see mail/tests/test_mail_composer.py\n */\nregistry.category(\"web_tour.tours\").add(\"mail/static/tests/tours/mail_composer_test_tour.js\", {\n    steps: () => [\n        {\n            content: \"Wait for the chatter to be fully loaded\",\n            trigger: \".o-mail-Chatter\",\n            async run() {\n                await contains(\".o-mail-Message\", { count: 1 });\n            },\n        },\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Write something in composer\",\n            trigger: \".o-mail-Composer-input\",\n            run: \"edit blahblah @Not && click body\",\n        },\n        {\n            content: \"Mention a partner\",\n            trigger: \".o-mail-Composer-suggestion:contains(Not A Demo User)\",\n            run: \"click\",\n        },\n        {\n            content: \"Add one file in composer\",\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                const files = [new File([\"hello, world\"], \"file1.txt\", { type: \"text/plain\" })];\n                await inputFiles(\".o-mail-Composer-coreMain .o_input_file\", files);\n            },\n        },\n        {\n            trigger: \".o-mail-AttachmentCard:not(.o-isUploading)\", // waiting the attachment to be uploaded\n        },\n        {\n            content: \"Open full composer\",\n            trigger: \"button[aria-label='Full composer']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check composer keeps open after pushing Escape\",\n            trigger: \".o_mail_composer_form_view\",\n            run: \"press Escape\",\n        },\n        {\n            content: \"Check the earlier provided attachment is listed\",\n            trigger: \".o_field_mail_composer_attachment_list a:contains(file1.txt)\",\n        },\n        {\n            content: \"Check subject is autofilled\",\n            trigger: '[name=\"subject\"] input',\n            run() {\n                const subjectValue = document.querySelector('[name=\"subject\"] input').value;\n                if (subjectValue !== \"Jane\") {\n                    console.error(\n                        `Full composer should have \"Jane\" in subject input (actual: ${subjectValue})`\n                    );\n                }\n            },\n        },\n        {\n            content: \"Check composer content is kept and contains the user's signature\",\n            trigger: '.o_field_html[name=\"body\"]',\n            run() {\n                const bodyContent = document.querySelector(\n                    '.o_field_html[name=\"body\"]'\n                ).textContent;\n                if (!bodyContent.includes(\"blahblah @Not A Demo User\")) {\n                    console.error(\n                        `Full composer should contain text from small composer (\"blahblah @Not A Demo User\") in body input (actual: ${bodyContent})`\n                    );\n                }\n                const mentionLink = document.querySelector(\n                    '.o_field_html[name=\"body\"] a'\n                ).textContent;\n                if (!mentionLink.includes(\"@Not A Demo User\")) {\n                    console.error(\n                        `Full composer should contain mention link from small composer (\"@Not A Demo User\") in body input)`\n                    );\n                }\n                /** When opening the full composer for the first time, the system\n                 * should add the user's signature to the end of the message so\n                 * that the user can edit it. After adding the signature to\n                 * the editor, the server shouldn't automatically add the\n                 * signature to the message (see: Python tests). */\n                if ((bodyContent.match(/--\\nErnest/g) || []).length !== 1) {\n                    console.error(\"Full composer should contain the user's signature once.\");\n                }\n            },\n        },\n        {\n            content: \"Drop a file on the full composer\",\n            trigger: \".o_mail_composer_form_view\",\n            async run() {\n                const files = [new File([\"hi there\"], \"file2.txt\", { type: \"text/plain\" })];\n                await dragenterFiles(\".o_mail_composer_form_view .o_form_renderer\", files);\n                await dropFiles(\".o-Dropzone\", files);\n            }\n        },\n        {\n            content: \"Check the attachment is listed\",\n            trigger: \".o_field_mail_composer_attachment_list a:contains(file2.txt)\",\n        },\n        {\n            content: \"Click on the mail template selector\",\n            trigger: \".mail-composer-template-dropdown-btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Check a template is listed\",\n            trigger:\n                '.mail-composer-template-dropdown.popover .o-dropdown-item:contains(\"Test template\")',\n        },\n        {\n            content: \"Send message from full composer\",\n            trigger: \".o_mail_send\",\n            run: \"click\",\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"blahblah @Not A Demo User\")',\n            run: \"click\",\n        },\n        {\n            content: \"Click on envelope to see recipients of message\",\n            trigger:\n                '.o-mail-Message:has(.o-mail-Message-body:contains(\"blahblah @Not A Demo User\")) .o-mail-Message-notification',\n            run: \"click\",\n        },\n        {\n            content: \"Check message has correct recipients\",\n            trigger: \".o-mail-MessageNotificationPopover:contains('Not A Demo User\\nJane')\",\n        },\n        {\n            content: \"Check message contains the first attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"file1.txt\")',\n        },\n        {\n            content: \"Check message contains the second attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"file2.txt\")',\n        },\n        // Test the full composer input text is kept on closing\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Open full composer\",\n            trigger: \"button[aria-label='Full composer']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that the composer contains the signature\",\n            trigger: '.o_field_html[name=\"body\"]',\n            run() {\n                const bodyContent = document.querySelector(\n                    '.o_field_html[name=\"body\"]'\n                ).textContent;\n                /** When opening the full composer, the system should add the\n                 * user's signature, as this is a new message and the signature\n                 * has not yet been added to it. */\n                if ((bodyContent.match(/--\\nErnest/g) || []).length !== 1) {\n                    console.log(\"Full composer should contain the user's signature once.\");\n                }\n            }\n        },\n        {\n            content: \"Write something in full composer\",\n            trigger: \".note-editable\",\n            run: \"editor keep the content\",\n        },\n        {\n            content: \"Close full composer\",\n            trigger: \".btn-close\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Check full composer text is kept\",\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                if (this.anchor.value !== \"keep the content\") {\n                    console.error(\n                        \"Composer in chatter should contain full composer text after discarding.\"\n                    );\n                }\n            },\n        },\n        {\n            content: \"Open full composer\",\n            trigger: \"button[aria-label='Full composer']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that the composer doesn't add the user's signature twice\",\n            trigger: \".note-editable\",\n            run() {\n                const bodyContent = document.querySelector(\n                    '.o_field_html[name=\"body\"]'\n                ).textContent;\n                /** When re-opening the full composer, the system shouldn't re-add\n                 * the user's signature to the message. As the user deleted the\n                 * signature in the previous steps (see: `editor keep the content`),\n                 * the editor shouldn't contain any signature. */\n                if ((bodyContent.match(/--\\nErnest/g) || []).length !== 0) {\n                    console.error(\"The composer should not contain the user's signature.\");\n                }\n            }\n        },\n        {\n            content: \"Close full composer\",\n            trigger: \".btn-close\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Send message from chatter\",\n            trigger: \".o-mail-Composer-send\",\n            run: \"click\"\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"keep the content\")',\n        },\n        // Test that the server automatically adds the user's signature to the\n        // email when the user didn't open the full composer.\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Write a message\",\n            trigger: \".o-mail-Composer-input\",\n            run: \"edit hello world\",\n        },\n        {\n            content: \"Send message from chatter\",\n            trigger: \".o-mail-Composer-send\",\n            run: \"click\"\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"hello world\")',\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { contains, scroll } from \"@web/../tests/utils\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_message_load_order_tour\", {\n    steps: () => [\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(MyTestChannel)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Thread .o-mail-Message\",\n            async run() {\n                await contains(\".o-mail-Thread .o-mail-Message\", { count: 30 });\n                await contains(\".o-mail-Thread\", { scroll: \"bottom\" });\n            },\n        },\n        {\n            trigger: \"*[title='Pinned Messages']\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on invisible jump (should hover card to be visible)\",\n            trigger: \".o-mail-MessageCard-jump:not(:visible)\",\n            run: \"click\",\n        },\n        {\n            // Messages depends on FETCH_LIMIT (currently set to 60) in\n            // the thread service. Thus, at first load the message range\n            // will be (31 - 60). This trigger ensures the next messages\n            // are fetched after jumping to the message.\n            trigger:\n                \".o-mail-Thread .o-mail-Message:first .o-mail-Message-textContent:not(:contains(31))\",\n            async run() {\n                await contains(\".o-mail-Thread .o-mail-Message\", { count: 31 });\n                await contains(\".o-mail-Thread\", { scroll: 0 });\n                // ensure 1 - 31 are loaded in order: 30 below and the\n                // one we're loading messages around.\n                const messages = Array.from(\n                    document.querySelectorAll(\".o-mail-Thread .o-mail-Message-content\")\n                ).map((el) => el.innerText);\n                for (let i = 0; i < 31; i++) {\n                    if (messages[i] !== (i + 1).toString()) {\n                        throw new Error(\"Wrong message order after loading around\");\n                    }\n                }\n                await scroll(\".o-mail-Thread\", \"bottom\");\n            },\n        },\n        {\n            // After jumping to the pinned message, the message range\n            // was (1 -31): 30 before (but none were found), 30 after\n            // and the pinned message itself. This trigger ensures the\n            // next messages are fetched after scrolling to the bottom.\n            trigger: \".o-mail-Thread .o-mail-Message .o-mail-Message-textContent:contains(17)\",\n            async run() {\n                await contains(\".o-mail-Thread .o-mail-Message\", { count: 60 });\n                // ensure 1 - 60  are loaded in order.\n                const messages = Array.from(\n                    document.querySelectorAll(\".o-mail-Thread .o-mail-Message-content\")\n                ).map((el) => el.innerText);\n                for (let i = 0; i < 60; i++) {\n                    if (messages[i] !== (i + 1).toString()) {\n                        throw new Error(\"Wrong message order after loading after\");\n                    }\n                }\n            },\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { delay } from \"@odoo/hoot-dom\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_template_dynamic_placeholder_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: 'Go into the Setting \"app\"',\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Open email templates\",\n            trigger: 'button[name=\"open_mail_templates\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Create a new email template\",\n            trigger: \"button.o_list_button_add\",\n            run: \"click\",\n        },\n        {\n            content: 'Insert # inside \"Subject\" input',\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run: \"edit(no_model_id #)\",\n        },\n        {\n            content: 'Select \"Contact\" model',\n            trigger: 'div[name=\"model_id\"] input[type=\"text\"]',\n            run: \"edit Contact\",\n        },\n        {\n            content: \"Wait for the autocomplete RPC\",\n            trigger: 'div[name=\"model_id\"] .ui-autocomplete:contains(\"Contact\")',\n            run: async() => {\n                await delay(300);\n            }\n        },\n        {\n            content: \"Click on contact\",\n            trigger: 'div[name=\"model_id\"] .ui-autocomplete',\n            run: async function () {\n                const contact = Array.from(\n                    document.querySelectorAll(\n                        'div[name=\"model_id\"] .ui-autocomplete .dropdown-item'\n                    )\n                ).find((el) => el.textContent === \"Contact\");\n                await contact.click();\n            },\n        },\n        {\n            content: \"Wait for the drop down to disappear\",\n            trigger: 'div[name=\"model_id\"] .o-autocomplete:not(:has(.ui-autocomplete))',\n            run: async () => {\n                // Ensure the system has registered a correct model value before\n                // we try to open the DPH.\n                // It seems that the autocomplete validation can be very slow.\n                await new Promise((r) => setTimeout(r, 200));\n            },\n        },\n        {\n            content: 'Retry insert # inside \"Subject\" input',\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run: \"edit (yes_model_id) && press #\",\n        },\n        {\n            content: \"Check if the dynamic placeholder popover is opened\",\n            trigger: \"div.o_model_field_selector_popover\",\n        },\n        {\n            content: \"filter the dph result\",\n            trigger: \"div.o_model_field_selector_popover_search input[type='text']\",\n            run: \"edit name\",\n        },\n        {\n            content: \"Click on the first entry of the dynamic placeholder\",\n            trigger: 'div.o_model_field_selector_popover button:contains(\"Company Name\")',\n            run: \"click\",\n        },\n        {\n            content: \"Enter a default value\",\n            trigger:\n                'div.o_model_field_selector_popover .o_model_field_selector_default_value_input input[type=\"text\"]',\n            run: \"edit defValue\",\n        },\n        {\n            content: \"Click on the insert button\",\n            trigger: \"div.o_model_field_selector_popover button:first-child\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait for the popover to disappear\",\n            trigger: \"body:not(:has(.o_model_field_selector_popover))\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if subject value was correctly updated\",\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run() {\n                const subjectValue = this.anchor.value;\n                const correctValue = \"yes_model_id {{object.company_name|||defValue}}\";\n                if (subjectValue !== correctValue) {\n                    console.error(\n                        `Email template should have \"${correctValue}\" in subject input (actual: ${subjectValue})`\n                    );\n                }\n            },\n        },\n        {\n            content: \"Insert text inside editable\",\n            trigger: \".note-editable.odoo-editor-editable\",\n            async run(actions) {\n                await actions.editor(`/`);\n                document.querySelector(\".note-editable\").dispatchEvent(\n                    new InputEvent(\"input\", {\n                        inputType: \"insertText\",\n                        data: \"/\",\n                    })\n                );\n            },\n        },\n        {\n            content: \"Click on the the dynamic placeholder powerBox options\",\n            trigger: \"div.o-we-powerbox .o-we-command:contains(Dynamic Placeholder)\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if the dynamic placeholder popover is opened\",\n            trigger: \"div.o_model_field_selector_popover\",\n            run: \"click\",\n        },\n        {\n            content: \"filter the dph result\",\n            trigger: \"div.o_model_field_selector_popover_search input[type='text']\",\n            run: \"edit name\",\n        },\n        {\n            content: \"Click on the first entry of the dynamic placeholder\",\n            trigger: 'div.o_model_field_selector_popover button:contains(\"Company Name\")',\n            run: \"click\",\n        },\n        {\n            content: \"Enter a default value\",\n            trigger:\n                'div.o_model_field_selector_popover .o_model_field_selector_default_value_input input[type=\"text\"]',\n            run: \"edit defValue\",\n        },\n        {\n            content: \"Click on the insert button\",\n            trigger: \"div.o_model_field_selector_popover button:first-child\",\n            run: \"click\",\n        },\n        {\n            content: \"Ensure the editable contain the dynamic placeholder t tag\",\n            trigger: `.note-editable.odoo-editor-editable t[t-out=\"object.company_name\"]:contains(\"defValue\")`,\n            run: \"click\",\n        },\n        {\n            content: \"Discard form changes\",\n            trigger: \"button.o_form_button_cancel\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait for the form view to disappear\",\n            trigger: \"body:not(:has(.o_form_sheet))\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { contains, insertText } from \"@web/../tests/utils\";\n\n/**\n * Verify that a user can modify their own profile information.\n */\nregistry.category(\"web_tour.tours\").add(\"mail/static/tests/tours/user_modify_own_profile_tour.js\", {\n    steps: () => [\n        {\n            content: \"Open user account menu\",\n            trigger: \".o_user_menu button\",\n            run: \"click\",\n        },\n        {\n            content: \"Open preferences / profile screen\",\n            trigger: \"[data-menu=settings]\",\n            run: \"click\",\n        },\n        {\n            content: \"Update the email address\",\n            trigger: 'div[name=\"email\"] input',\n            async run() {\n                await insertText(\"div[name='email'] input\", \"updatedemail@example.com\", {\n                    replace: true,\n                });\n                await contains(\".o_form_dirty\", { count: 1 });\n            },\n        },\n        {\n            trigger: \"body.modal-open\",\n        },\n        {\n            content: \"Save the form\",\n            trigger: 'button[name=\"preference_save\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Wait until the modal is closed\",\n            trigger: \"body:not(.modal-open)\",\n            async run() {\n                await contains(\".o_form_dirty\", { count: 0 });\n            },\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('portal_load_homepage', {\n    url: '/my',\n    steps: () => [\n        {\n            content: \"Check portal is loaded\",\n            trigger: 'a[href*=\"/my/account\"]:contains(\"Edit\"):first',\n            run: \"click\",\n        },\n        {\n            content: \"Load my account details\",\n            trigger: 'input[value=\"Joel Willis\"]',\n            run: \"click\",\n        },\n        {\n            content: 'type a different phone number',\n            trigger: 'input[name=\"phone\"]',\n            run: \"edit +1 555 666 7788\",\n        },\n        {\n            content: \"Submit the form\",\n            trigger: 'button[type=submit]',\n            run: \"click\",\n        },\n        {\n            content: \"Check that we are back on the portal\",\n            trigger: 'a[href*=\"/my/account\"]:contains(\"Edit\"):first',\n        }\n    ]\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"skip_to_content\", {\n    url: \"/\",\n    steps: () => [\n        {\n            content: \"Make sure that Skip to Content button is on top of all the links present in header\",\n            trigger: \"a:first-child[class~='o_skip_to_content']\",\n            run: \"click\"\n        },\n        {\n            content: \"Check if we have been redirected to #wrap\",\n            trigger: \"body\",\n            run: () => {\n                if (!window.location.href.endsWith(\"#wrap\")) {\n                    console.error(\"We should be on #wrap.\");\n                }\n            }\n        }\n    ]\n});\n", "/** @odoo-module */\n\nimport { accountTourSteps } from \"@account/js/tours/account\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('account_tax_group', {\n    url: \"/odoo\",\n    steps: () => [\n    ...accountTourSteps.goToAccountMenu(\"Go to Invoicing\"),\n    {\n        content: \"Go to Vendors\",\n        trigger: 'span:contains(\"Vendors\")',\n        run: \"click\",\n    },\n    {\n        content: \"Go to Bills\",\n        trigger: 'a:contains(\"Bills\")',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_breadcrumb .text-truncate:contains(Bills)\",\n    },\n    {\n        content: \"Create new bill\",\n        trigger: '.o_control_panel_main_buttons .o_list_button_add',\n        run: \"click\",\n    },\n    // Set a vendor\n    {\n        content: \"Add vendor\",\n        trigger: 'div.o_field_widget.o_field_res_partner_many2one[name=\"partner_id\"] div input',\n        run: \"edit Account Tax Group Partner\",\n    },\n    {\n        content: \"Valid vendor\",\n        trigger: '.ui-menu-item a:contains(\"Account Tax Group Partner\")',\n        run: \"click\",\n    },\n    // Add First product\n    {\n        content: \"Add items\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_field_x2many_list_row_add a:contains(\"Add a line\")',\n        run: \"click\",\n    },\n    {\n        content: \"Select input\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_selected_row .o_list_many2one[name=\"product_id\"] input',\n        run: \"edit Account Tax Group Product\",\n    },\n    {\n        content: \"Valid item\",\n        trigger: '.ui-menu-item-wrapper:contains(\"Account Tax Group Product\")',\n        run: \"click\",\n    },\n    // Save account.move\n    ...stepUtils.saveForm(),\n    // Edit tax group amount\n    {\n        content: \"Edit tax group amount\",\n        trigger: '.o_tax_group_edit',\n        run: \"click\",\n    },\n    {\n        content: \"Modify the input value\",\n        trigger: '.o_tax_group_edit_input input',\n        run() {\n            this.anchor.value = 200;\n            this.anchor.select();\n            this.anchor.blur();\n        },\n    },\n    // Check new value for total (with modified tax_group_amount).\n    {\n        content: \"Valid total amount\",\n        trigger: 'span[name=\"amount_total\"]:contains(\"800\")',\n        run: \"click\",\n    },\n    // Modify the quantity of the object\n    {\n        content: \"Select item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Change item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"] input',\n        run: \"edit 2\",\n    },\n    {\n        content: \"Valid the new value\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"] input',\n        run: \"press Enter\",\n    },\n    // Check new tax group value\n    {\n        content: \"Check new value of tax group\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n        run: \"click\",\n    },\n    // Save form\n    ...stepUtils.saveForm(),\n    // Check new tax group value\n    {\n        content: \"Check new value of tax group\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n        run: \"click\",\n    },\n    {\n        content: \"Edit tax value\",\n        trigger: '.o_tax_group_edit_input input',\n        run: \"edit 2 && click body\",\n    },\n    {\n        content: \"Check new value of total\",\n        trigger: '.oe_subtotal_footer_separator:contains(\"1,202\")',\n        run: \"click\",\n    },\n    {\n        content: \"Discard changes\",\n        trigger: '.o_form_button_cancel',\n        run: \"click\",\n    },\n    {\n        content: \"Check tax value is reset\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n    },\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('tests_shared_js_python', {\n    url: \"/account/init_tests_shared_js_python\",\n    steps: () => [\n    {\n        content: \"Click\",\n        trigger: 'button',\n        run: \"click\",\n    },\n    {\n        content: \"Wait\",\n        trigger: 'button.text-success',\n        timeout: 3000,\n    },\n]});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_attachment_removal_tour\", {\n    steps: () => [\n\n    {\n        content: \"click on send by email\",\n        trigger: \".o_statusbar_buttons > button[name='action_quotation_send']\",\n        run: \"click\"\n    },\n    {\n        content: \"save a new layout\",\n        trigger: \".o_technical_modal button[name='document_layout_save']\",\n        run: \"click\"\n    },\n    {\n        content: \"delete attachment\",\n        trigger: \".o_field_widget[name='attachment_ids'] li > button .fa-times\",\n        run: \"click\"\n    },\n    {\n        content: \"send the email\",\n        trigger: \".o_mail_send\",\n        run: \"click\"\n    },\n    {\n        content: \"confirm quotation\",\n        trigger: \"button[name='action_confirm']\",\n        run: \"click\"\n    }\n]\n})\n", "import { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst openProductAttribute = (product_attribute) => [\n    ...stepUtils.goToAppSteps(\"sale.sale_menu_root\", \"Go to the Sales App\"),\n    {\n        content: 'Open configuration menu',\n        trigger: '.o-dropdown[data-menu-xmlid=\"sale.menu_sale_config\"]',\n        run: \"click\",\n    },\n    {\n        content: 'Navigate to product attribute list view',\n        trigger: '.o-dropdown-item[data-menu-xmlid=\"sale.menu_product_attribute_action\"]',\n        run: \"click\",\n    },\n    {\n        content: `Navigate to ${product_attribute}`,\n        trigger: `.o_data_cell[data-tooltip=${product_attribute}]`,\n        run: \"click\",\n    },\n];\nconst deletePAV = (product_attribute_value, message) => [\n    {\n        content: 'Click delete button',\n        trigger: `.o_data_cell[data-tooltip=${product_attribute_value}] ~ .o_list_record_remove`,\n        run: \"click\",\n    },\n    {\n        content: 'Check correct message in modal',\n        trigger: message || '.modal-title:contains(\"Bye-bye, record!\")',\n        run: \"click\",\n    },\n    {\n        content: 'Close modal',\n        trigger: '.btn-close',\n        run: \"click\",\n    }\n]\n\n// This tour relies on data created on the Python test.\nregistry.category(\"web_tour.tours\").add('delete_product_attribute_value_tour', {\n    url: '/odoo',\n    steps: () => [\n        ...openProductAttribute(\"PA\"),\n        // Test error message on a used attribute value\n        ...deletePAV(\"pa_value_1\", \".text-prewrap:contains('pa_value_1')\"),\n        // Test deletability of a used attribute value on archived product\n        ...deletePAV(\"pa_value_2\"),\n        // Test deletability of a removed attribute value on product\n        ...deletePAV(\"pa_value_3\"),\n        {\n            content: 'Check test finished',\n            trigger: 'a:contains(\"Attributes\")',\n        }\n    ]\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('sale_catalog', {\n    steps: () => [\n        {\n            content: \"Create a new SO\",\n            trigger: '.o_list_button_add',\n            run: 'click',\n        },\n        {\n            content: \"Select the customer field\",\n            trigger: \".o_field_res_partner_many2one input.o_input\",\n            run: 'click',\n        },\n        {\n            content: \"Wait for the field to be active\",\n            trigger: \".o_field_res_partner_many2one input[aria-expanded=true]\",\n        },\n        {\n            content: \"Select a customer from the dropdown\",\n            trigger: \".o_field_res_partner_many2one .dropdown-item:not([id$='_loading']):first\",\n            run: 'click',\n        },\n        {\n            content: \"Open product catalog\",\n            trigger: 'button[name=\"action_add_from_catalog\"]',\n            run: 'click',\n        },\n        {\n            content: \"Type 'Restricted' into the search bar\",\n            trigger: 'input.o_searchview_input',\n            run: \"edit Restricted\",\n        },\n        {\n            content: \"Search for the product\",\n            trigger: 'input.o_searchview_input',\n            run: \"press Enter\",\n        },\n        {\n            content: \"Wait for catalog rendering\",\n            trigger: '.o_kanban_record:contains(\"Restricted Product\")',\n        },\n        {\n            content: \"Wait for filtering\",\n            trigger: '.o_kanban_renderer:not(:has(.o_kanban_record:contains(\"AAA Product\")))',\n        },\n        {\n            content: \"Add the product to the SO\",\n            trigger: '.o_kanban_record:contains(\"Restricted Product\") .fa-shopping-cart',\n            run: 'click',\n        },\n        {\n            content: \"Wait for product to be added\",\n            trigger: '.o_kanban_record:contains(\"Restricted Product\"):not(:has(.fa-shopping-cart))',\n        },\n        {\n            content: \"Input a custom quantity\",\n            trigger: '.o_kanban_record:contains(\"Restricted Product\") .o_input',\n            run: \"edit 6\",\n        },\n        {\n            content: \"Increase the quantity\",\n            trigger: '.o_kanban_record:contains(\"Restricted Product\") .fa-plus',\n            run: 'click',\n        },\n        {\n            content: \"Close the catalog\",\n            trigger: '.o-kanban-button-back',\n            run: 'click',\n        },\n    ]\n});\n", "import { registry } from '@web/core/registry';\nimport { stepUtils } from '@web_tour/tour_service/tour_utils';\nimport comboConfiguratorTourUtils from '@sale/js/tours/combo_configurator_tour_utils';\nimport productConfiguratorTourUtils from '@sale/js/tours/product_configurator_tour_utils';\nimport tourUtils from '@sale/js/tours/tour_utils';\n\nregistry\n    .category('web_tour.tours')\n    .add('sale_combo_configurator', {\n        url: '/odoo',\n        steps: () => [\n            ...stepUtils.goToAppSteps('sale.sale_menu_root', \"Open the sales app\"),\n            ...tourUtils.createNewSalesOrder(),\n            ...tourUtils.selectCustomer(\"Test Partner\"),\n            ...tourUtils.addProduct(\"Combo product\"),\n            // Assert that the combo configurator has the correct data.\n            comboConfiguratorTourUtils.assertComboCount(2),\n            comboConfiguratorTourUtils.assertComboItemCount(\"Combo A\", 2),\n            comboConfiguratorTourUtils.assertComboItemCount(\"Combo B\", 2),\n            // Assert that price changes when the quantity is updated.\n            comboConfiguratorTourUtils.assertQuantity(1),\n            comboConfiguratorTourUtils.assertPrice('25.00'),\n            comboConfiguratorTourUtils.increaseQuantity(),\n            comboConfiguratorTourUtils.assertQuantity(2),\n            comboConfiguratorTourUtils.assertPrice('50.00'),\n            comboConfiguratorTourUtils.decreaseQuantity(),\n            comboConfiguratorTourUtils.assertQuantity(1),\n            comboConfiguratorTourUtils.assertPrice('25.00'),\n            comboConfiguratorTourUtils.setQuantity(3),\n            comboConfiguratorTourUtils.assertQuantity(3),\n            comboConfiguratorTourUtils.assertPrice('75.00'),\n            // Assert that the combo configurator can only be saved after selecting an item for each\n            // combo.\n            comboConfiguratorTourUtils.assertConfirmButtonDisabled(),\n            comboConfiguratorTourUtils.selectComboItem(\"Product A2\"),\n            comboConfiguratorTourUtils.selectComboItem(\"Product B2\"),\n            comboConfiguratorTourUtils.assertConfirmButtonEnabled(),\n            // Assert that the product configurator is opened when a product with configurable\n            // `no_variant` PTALs is selected.\n            comboConfiguratorTourUtils.selectComboItem(\"Product A1\"),\n            productConfiguratorTourUtils.selectAttribute(\"Product A1\", \"No variant attribute\", \"A\"),\n            ...productConfiguratorTourUtils.saveConfigurator(),\n            // Assert that the extra price of a combo item is applied correctly.\n            comboConfiguratorTourUtils.assertPrice('90.00'),\n            // Assert that the extra price of a `no_variant` PTAV is applied correctly.\n            comboConfiguratorTourUtils.selectComboItem(\"Product A1\"),\n            ...productConfiguratorTourUtils.selectAndSetCustomAttribute(\n                \"Product A1\", \"No variant attribute\", \"B\", \"Some custom value\"\n            ),\n            ...productConfiguratorTourUtils.saveConfigurator(),\n            comboConfiguratorTourUtils.assertPrice('93.00'),\n            // Assert that the order's content is correct.\n            ...comboConfiguratorTourUtils.saveConfigurator(),\n            tourUtils.checkSOLDescriptionContains(\"Combo product x 3\"),\n            tourUtils.checkSOLDescriptionContains(\n                \"Product A1\", \"No variant attribute: B: Some custom value\"\n            ),\n            tourUtils.checkSOLDescriptionContains(\"Product B2\"),\n            {\n                content: \"Verify the combo item quantities\",\n                trigger: 'td[name=\"product_uom_qty\"]:contains(3.00)',\n            },\n            {\n                content: \"Verify the first combo item's unit price\",\n                trigger: 'td[name=\"price_unit\"]:contains(18.50)',\n            },\n            {\n                content: \"Verify the second combo item's unit price\",\n                trigger: 'td[name=\"price_unit\"]:contains(12.50)',\n            },\n            {\n                content: \"Verify the order's total price\",\n                trigger: 'div.oe_subtotal_footer:contains(93.00)',\n            },\n            // Assert that the combo configurator is opened with the previous selection when the\n            // combo is edited.\n            tourUtils.editLineMatching(\"Combo product x 3\"),\n            tourUtils.editConfiguration(),\n            comboConfiguratorTourUtils.setQuantity(2),\n            comboConfiguratorTourUtils.assertComboItemSelected(\"Product A1\"),\n            comboConfiguratorTourUtils.assertComboItemSelected(\"Product B2\"),\n            comboConfiguratorTourUtils.selectComboItem(\"Product A2\"),\n            // Assert that the order's content has been updated.\n            ...comboConfiguratorTourUtils.saveConfigurator(),\n            tourUtils.checkSOLDescriptionContains(\"Combo product x 2\"),\n            tourUtils.checkSOLDescriptionContains(\"Product A2\"),\n            tourUtils.checkSOLDescriptionContains(\"Product B2\"),\n            {\n                content: \"Verify the combo item quantities\",\n                trigger: 'td[name=\"product_uom_qty\"]:contains(2.00)',\n            },\n            {\n                content: \"Verify the first combo item's unit price\",\n                trigger: 'td[name=\"price_unit\"]:contains(12.50)',\n            },\n            {\n                content: \"Verify the second combo item's unit price\",\n                trigger: 'td[name=\"price_unit\"]:contains(12.50)',\n            },\n            {\n                content: \"Verify the order's total price\",\n                trigger: 'div.oe_subtotal_footer:contains(50.00)',\n            },\n            // Don't end the tour with a form in edition mode.\n            ...stepUtils.saveForm(),\n        ],\n    });\n", "import { registry } from '@web/core/registry';\nimport { stepUtils } from '@web_tour/tour_service/tour_utils';\nimport comboConfiguratorTourUtils from '@sale/js/tours/combo_configurator_tour_utils';\nimport productConfiguratorTourUtils from '@sale/js/tours/product_configurator_tour_utils';\nimport tourUtils from '@sale/js/tours/tour_utils';\n\nregistry\n    .category('web_tour.tours')\n    .add('sale_combo_configurator_preconfigure_unconfigurable_ptals', {\n        url: '/odoo',\n        steps: () => [\n            ...stepUtils.goToAppSteps('sale.sale_menu_root', \"Open the sales app\"),\n            ...tourUtils.createNewSalesOrder(),\n            ...tourUtils.selectCustomer(\"Test Partner\"),\n            ...tourUtils.addProduct(\"Combo product\"),\n            {\n                content: \"Verify that unconfigurable ptals are preconfigured\",\n                trigger: `${comboConfiguratorTourUtils.comboItemSelector(\"Test product\")}:contains(\"Attribute A: A\")`,\n            },\n            {\n                content: \"Verify that configurable ptals aren't preconfigured\",\n                trigger: `${comboConfiguratorTourUtils.comboItemSelector(\"Test product\")}:not(:contains(\"Attribute B: B\"))`,\n            },\n            comboConfiguratorTourUtils.selectComboItem(\"Test product\"),\n            productConfiguratorTourUtils.selectAttribute(\n                \"Test product\", \"Attribute B\", \"B\", 'multi'\n            ),\n            ...productConfiguratorTourUtils.saveConfigurator(),\n            {\n                content: \"Verify that configurable ptals are now configured\",\n                trigger: `${comboConfiguratorTourUtils.comboItemSelector(\"Test product\")}:contains(\"Attribute B: B\")`,\n            },\n            ...comboConfiguratorTourUtils.saveConfigurator(),\n            // Don't end the tour with a form in edition mode.\n            ...stepUtils.saveForm(),\n        ],\n    });\n", "import { registry } from '@web/core/registry';\nimport { stepUtils } from '@web_tour/tour_service/tour_utils';\nimport comboConfiguratorTourUtils from '@sale/js/tours/combo_configurator_tour_utils';\nimport productConfiguratorTourUtils from '@sale/js/tours/product_configurator_tour_utils';\nimport tourUtils from '@sale/js/tours/tour_utils';\n\nregistry\n    .category('web_tour.tours')\n    .add('sale_combo_configurator_preselect_single_unconfigurable_items', {\n        url: '/odoo',\n        steps: () => [\n            ...stepUtils.goToAppSteps('sale.sale_menu_root', \"Open the sales app\"),\n            ...tourUtils.createNewSalesOrder(),\n            ...tourUtils.selectCustomer(\"Test Partner\"),\n            ...tourUtils.addProduct(\"Combo product\"),\n            // Assert that only single unconfigurable items are preselected.\n            comboConfiguratorTourUtils.assertSelectedComboItemCount(2),\n            comboConfiguratorTourUtils.assertComboItemSelected(\"Product A\"),\n            comboConfiguratorTourUtils.assertComboItemSelected(\"Product C\"),\n            comboConfiguratorTourUtils.assertConfirmButtonDisabled(),\n            // Configure the remaining combos.\n            comboConfiguratorTourUtils.selectComboItem(\"Product B\"),\n            productConfiguratorTourUtils.selectAttribute(\"Product B\", \"Attribute B\", \"B\", 'multi'),\n            ...productConfiguratorTourUtils.saveConfigurator(),\n            comboConfiguratorTourUtils.selectComboItem(\"Product D\"),\n            productConfiguratorTourUtils.setCustomAttribute(\n                \"Product D\", \"Attribute D\", \"Test D\"\n            ),\n            ...productConfiguratorTourUtils.saveConfigurator(),\n            comboConfiguratorTourUtils.selectComboItem(\"Product E1\"),\n            comboConfiguratorTourUtils.assertConfirmButtonEnabled(),\n            ...comboConfiguratorTourUtils.saveConfigurator(),\n            // Don't end the tour with a form in edition mode.\n            ...stepUtils.saveForm(),\n        ],\n    });\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { redirect } from \"@web/core/utils/urls\";\n\n// This tour relies on data created on the Python test.\nregistry.category(\"web_tour.tours\").add('sale_signature', {\n    url: '/my/quotes',\n    steps: () => [\n    {\n        content: \"open the test SO\",\n        trigger: 'a:contains(/^test SO$/)',\n        run: \"click\",\n    },\n    {\n        content: \"click sign\",\n        trigger: 'a:contains(\"Sign\")',\n        run: \"click\",\n    },\n    {\n        content: \"check submit is enabled\",\n        trigger: '.o_portal_sign_submit:enabled',\n    },\n    {\n        trigger: \".modal .o_web_sign_name_and_signature input:value(Joel Willis)\"\n    },\n    {\n        content: \"click select style\",\n        trigger: '.modal .o_web_sign_auto_select_style button',\n        run: \"click\",\n    },\n    {\n        content: \"click style 4\",\n        trigger: \".o-dropdown-item:eq(3)\",\n        run: \"click\",\n    },\n    {\n        content: \"click submit\",\n        trigger: '.modal .o_portal_sign_submit:enabled',\n        run: \"click\",\n    },\n    {\n        content: \"check it's confirmed\",\n        trigger: '#quote_content:contains(\"Thank You\")',\n        run: \"click\",\n    }, {\n        trigger: '#quote_content',\n        run: function () {\n            redirect(\"/odoo\");\n        },  // Avoid race condition at the end of the tour by returning to the home page.\n    },\n    {\n        trigger: 'nav',\n    }\n]});\n\nregistry.category(\"web_tour.tours\").add(\"sale_signature_without_name\", {\n    steps: () => [\n        {\n            content: \"Sign & Pay\",\n            trigger:\n                \".o_portal_sale_sidebar .btn-primary, :iframe .o_portal_sale_sidebar .btn-primary\",\n            run: \"click\",\n        },\n        {\n            content: \"click submit\",\n            trigger: \".o_portal_sign_submit:enabled, :iframe .o_portal_sign_submit:enabled\",\n            run: \"click\",\n        },\n        {\n            content: \"check error because no name\",\n            trigger:\n                '.o_portal_sign_error_msg:contains(\"Signature is missing.\"), :iframe .o_portal_sign_error_msg:contains(\"Signature is missing.\")',\n        },\n    ],\n});\n", "import { queryAll, queryValue, waitUntil } from '@odoo/hoot-dom';\n\nfunction comboSelector(comboName) {\n    return `\n        .sale-combo-configurator-dialog\n        [name=\"sale_combo_configurator_title\"]:contains(\"${comboName}\")\n    `;\n}\n\nfunction comboItemSelector(comboItemName, extraClasses=[]) {\n    const extraClassesSelector = extraClasses.map(extraClass => `.${extraClass}`).join('');\n    return `\n        .sale-combo-configurator-dialog\n        .combo-item-grid\n        .product-card${extraClassesSelector}:has(.card-title:contains(\"${comboItemName}\"))\n    `;\n}\n\nfunction assertComboCount(count) {\n    return {\n        content: `Assert that there are ${count} combos`,\n        trigger: '.sale-combo-configurator-dialog',\n        run: () => queryAll(\n            '.sale-combo-configurator-dialog [name=\"sale_combo_configurator_title\"]'\n        ).length === count,\n    };\n}\n\nfunction assertComboItemCount(comboName, count) {\n    return {\n        content: `Assert that there are ${count} combo items in combo ${comboName}`,\n        trigger: comboSelector(comboName),\n        run: () => queryAll(\n            `${comboSelector(comboName)} + .combo-item-grid .product-card`\n        ).length === count,\n    };\n}\n\nfunction assertSelectedComboItemCount(count) {\n    return {\n        content: `Assert that there are ${count} selected combo items`,\n        trigger: '.sale-combo-configurator-dialog',\n        run: () => queryAll(\n            `.sale-combo-configurator-dialog .combo-item-grid .product-card.selected`\n        ).length === count,\n    };\n}\n\nfunction selectComboItem(comboItemName) {\n    return {\n        content: `Select combo item ${comboItemName}`,\n        trigger: comboItemSelector(comboItemName),\n        run: 'click',\n    };\n}\n\nfunction assertComboItemSelected(comboItemName) {\n    return {\n        content: `Assert that combo item ${comboItemName} is selected`,\n        trigger: comboItemSelector(comboItemName, ['selected']),\n    };\n}\n\nfunction increaseQuantity() {\n    return {\n        content: \"Increase the combo quantity\",\n        trigger: '.sale-combo-configurator-dialog button[name=\"sale_quantity_button_plus\"]',\n        run: 'click',\n    };\n}\n\nfunction decreaseQuantity() {\n    return {\n        content: \"Decrease the combo quantity\",\n        trigger: '.sale-combo-configurator-dialog button[name=\"sale_quantity_button_minus\"]',\n        run: 'click',\n    };\n}\n\nfunction setQuantity(quantity) {\n    return {\n        content: `Set the combo quantity to ${quantity}`,\n        trigger: '.sale-combo-configurator-dialog input[name=\"sale_quantity\"]',\n        run: `edit ${quantity} && click .modal-body`,\n    };\n}\n\nfunction assertQuantity(quantity) {\n    const quantitySelector = '.sale-combo-configurator-dialog input[name=\"sale_quantity\"]';\n    return {\n        content: `Assert that the combo quantity is ${quantity}`,\n        trigger: quantitySelector,\n        run: async () =>\n            await waitUntil(() => queryValue(quantitySelector) === quantity, { timeout: 1000 }),\n    };\n}\n\nfunction assertPrice(price) {\n    return {\n        content: `Assert that the price is ${price}`,\n        trigger: `\n            .sale-combo-configurator-dialog\n            [name=\"sale_combo_configurator_total\"]:contains(\"${price}\")\n        `,\n    };\n}\n\nfunction assertPriceInfo(priceInfo) {\n    return {\n        content: `Assert that the price info is ${priceInfo}`,\n        trigger: `.sale-combo-configurator-dialog footer.modal-footer:contains(\"${priceInfo}\")`,\n    };\n}\n\nfunction assertFooterButtonsDisabled() {\n    return {\n        content: \"Assert that the footer buttons are disabled\",\n        trigger: '.sale-combo-configurator-dialog footer.modal-footer button:disabled',\n    };\n}\n\nfunction assertFooterButtonsEnabled() {\n    return {\n        content: \"Assert that the footer buttons are enabled\",\n        trigger: '.sale-combo-configurator-dialog footer.modal-footer button:enabled',\n    };\n}\n\nfunction assertConfirmButtonDisabled() {\n    return {\n        content: \"Assert that the confirm button is disabled\",\n        trigger: `\n            .sale-combo-configurator-dialog\n            button[name=\"sale_combo_configurator_confirm_button\"]:disabled\n        `,\n    };\n}\n\nfunction assertConfirmButtonEnabled() {\n    return {\n        content: \"Assert that the confirm button is enabled\",\n        trigger: `\n            .sale-combo-configurator-dialog\n            button[name=\"sale_combo_configurator_confirm_button\"]:enabled\n        `,\n    };\n}\n\nfunction saveConfigurator() {\n    return [\n        {\n            content: \"Confirm the combo configurator\",\n            trigger: `\n                .sale-combo-configurator-dialog\n                button[name=\"sale_combo_configurator_confirm_button\"]\n            `,\n            run: 'click',\n        }, {\n            content: \"Wait until the modal is closed\",\n            trigger: 'body:not(:has(.sale-combo-configurator-dialog))',\n        },\n    ];\n}\n\nexport default {\n    comboSelector,\n    comboItemSelector,\n    assertComboCount,\n    assertComboItemCount,\n    assertSelectedComboItemCount,\n    selectComboItem,\n    assertComboItemSelected,\n    increaseQuantity,\n    decreaseQuantity,\n    setQuantity,\n    assertQuantity,\n    assertPrice,\n    assertPriceInfo,\n    assertFooterButtonsDisabled,\n    assertFooterButtonsEnabled,\n    assertConfirmButtonDisabled,\n    assertConfirmButtonEnabled,\n    saveConfigurator,\n};\n", "import { queryAttribute, queryValue, waitUntil } from '@odoo/hoot-dom';\n\nfunction productSelector(productName) {\n    return `\n        table.o_sale_product_configurator_table\n        tr:has(td>div[name=\"o_sale_product_configurator_name\"]\n        span:contains(\"${productName}\"))\n    `;\n}\n\nfunction optionalProductSelector(productName) {\n    return `\n        table.o_sale_product_configurator_table_optional\n        tr:has(td>div[name=\"o_sale_product_configurator_name\"]\n        span:contains(\"${productName}\"))\n    `;\n}\n\nfunction optionalProductImageSrc(productName) {\n    return queryAttribute(\n        `${optionalProductSelector(productName)} td.o_sale_product_configurator_img>img`, 'src'\n    );\n}\n\nfunction addOptionalProduct(productName) {\n    return {\n        content: `Add ${productName}`,\n        trigger: `\n            ${optionalProductSelector(productName)}\n            td.o_sale_product_configurator_price\n            button:contains(\"Add\")\n        `,\n        run: 'click',\n    };\n}\n\nfunction removeOptionalProduct(productName) {\n    return {\n        content: `Remove ${productName}`,\n        trigger: `\n            ${productSelector(productName)}\n            td.o_sale_product_configurator_qty\n            a:contains(\"Remove\")\n        `,\n        run: 'click',\n    };\n}\n\nfunction increaseProductQuantity(productName) {\n    return {\n        content: `Increase the quantity of ${productName}`,\n        trigger: `\n            ${productSelector(productName)}\n            td.o_sale_product_configurator_qty\n            button:has(i.fa-plus)\n        `,\n        run: 'click',\n    };\n}\n\nfunction setProductQuantity(productName, quantity) {\n    return {\n        content: `Set the quantity of ${productName} to ${quantity}`,\n        trigger: `\n            ${productSelector(productName)}\n            td.o_sale_product_configurator_qty\n            input[name=\"sale_quantity\"]\n        `,\n        run: `edit ${quantity} && click .modal-body`,\n    };\n}\n\nfunction assertProductQuantity(productName, quantity) {\n    const quantitySelector = `\n        ${productSelector(productName)}\n        td.o_sale_product_configurator_qty\n        input[name=\"sale_quantity\"]\n    `;\n    return {\n        content: `Assert that the quantity of ${productName} is ${quantity}`,\n        trigger: quantitySelector,\n        run: async () =>\n            await waitUntil(() => queryValue(quantitySelector) === quantity, { timeout: 1000 }),\n    };\n}\n\nfunction selectAttribute(productName, attributeName, attributeValue, attributeType='radio') {\n    const ptalSelector = `\n        ${productSelector(productName)}\n        td>div[name=\"ptal\"]:has(label:contains(\"${attributeName}\"))\n    `;\n    const content = `Select ${attributeValue} for ${productName} ${attributeName}`;\n    switch (attributeType) {\n        case 'color':\n            return {\n                content: content,\n                trigger: `${ptalSelector} label[title=\"${attributeValue}\"]`,\n                run: 'click',\n            };\n        case 'multi':\n        case 'pills':\n        case 'radio':\n            return {\n                content: content,\n                trigger: `${ptalSelector} span:contains(\"${attributeValue}\")`,\n                run: 'click',\n            };\n        case 'select':\n            return {\n                content: content,\n                trigger: `${ptalSelector} select`,\n                run: `selectByLabel ${attributeValue}`,\n            };\n        default:\n            console.error(\"Unsupported attribute type\");\n    }\n}\n\nfunction setCustomAttribute(productName, attributeName, customValue) {\n    return {\n        content: `Set ${customValue} as a custom attribute for ${productName} ${attributeName}`,\n        trigger: `\n            ${productSelector(productName)}\n            td>div[name=\"ptal\"]:has(label:contains(\"${attributeName}\"))\n            input[type=\"text\"]\n        `,\n        run: `edit ${customValue} && click .modal-body`,\n    };\n}\n\nfunction selectAndSetCustomAttribute(\n    productName, attributeName, attributeValue, customValue, attributeType='radio'\n) {\n    return [\n        selectAttribute(productName, attributeName, attributeValue, attributeType),\n        setCustomAttribute(productName, attributeName, customValue),\n    ];\n}\n\nfunction assertPriceTotal(total) {\n    return {\n        content: `Assert that the total is ${total}`,\n        trigger:\n            `table.o_sale_product_configurator_table tr>td[colspan=\"4\"] span:contains(\"${total}\")`,\n    };\n}\n\nfunction assertProductPrice(productName, price) {\n    return {\n        content: `Assert that ${productName} costs ${price}`,\n        trigger: `\n            ${productSelector(productName)}\n            td.o_sale_product_configurator_price\n            span:contains(\"${price}\")\n        `,\n    };\n}\n\nfunction assertOptionalProductPrice(productName, price) {\n    return {\n        content: `Assert that ${productName} costs ${price}`,\n        trigger: `\n            ${optionalProductSelector(productName)}\n            td.o_sale_product_configurator_qty\n            span:contains(\"${price}\")\n        `,\n    };\n}\n\nfunction assertProductPriceInfo(productName, priceInfo) {\n    return {\n        content: `Assert that the price info of ${productName} is ${priceInfo}`,\n        trigger: `\n            ${productSelector(productName)}\n            td.o_sale_product_configurator_price\n            div:contains(\"${priceInfo}\")\n        `,\n    };\n}\n\nfunction assertOptionalProductPriceInfo(productName, priceInfo) {\n    return {\n        content: `Assert that the price info of ${productName} is ${priceInfo}`,\n        trigger: `\n            ${optionalProductSelector(productName)}\n            td.o_sale_product_configurator_qty\n            div:contains(\"${priceInfo}\")\n        `,\n    };\n}\n\nfunction assertProductNameContains(productName) {\n    return {\n        content: `Assert that the product name contains ${productName}`,\n        trigger: productSelector(productName),\n    };\n}\n\nfunction assertFooterButtonsDisabled() {\n    return {\n        content: \"Assert that the footer buttons are disabled\",\n        trigger: '.o_sale_product_configurator_dialog footer.modal-footer button:disabled',\n    };\n}\n\nfunction saveConfigurator() {\n    return [\n        {\n            trigger: '.o_sale_product_configurator_dialog button:contains(Confirm)',\n            run: 'click',\n        }, {\n            content: \"Wait until the modal is closed\",\n            trigger: 'body:not(:has(.o_sale_product_configurator_dialog))',\n        }\n    ];\n}\n\nexport default {\n    productSelector,\n    optionalProductSelector,\n    optionalProductImageSrc,\n    addOptionalProduct,\n    removeOptionalProduct,\n    increaseProductQuantity,\n    setProductQuantity,\n    assertProductQuantity,\n    selectAttribute,\n    setCustomAttribute,\n    selectAndSetCustomAttribute,\n    assertPriceTotal,\n    assertProductPrice,\n    assertOptionalProductPrice,\n    assertProductPriceInfo,\n    assertOptionalProductPriceInfo,\n    assertProductNameContains,\n    assertFooterButtonsDisabled,\n    saveConfigurator,\n};\n", "/** @odoo-module **/\n\nfunction createNewSalesOrder() {\n    return [\n        {\n            trigger: '.o_sale_order',\n        }, {\n            content: \"Create new order\",\n            trigger: '.o_list_button_add',\n            run: 'click',\n        },\n    ]\n}\n\nfunction selectCustomer(customerName) {\n    return [\n        {\n            content: `Select customer ${customerName}`,\n            trigger: '.o_field_widget[name=partner_id] input',\n            run: `edit ${customerName}`,\n        },\n        {\n            trigger: `ul.ui-autocomplete > li > a:contains(\"${customerName}\")`,\n            run: 'click',\n        },\n    ];\n}\n\nfunction addProduct(productName, rowNumber=1) {\n    return [\n        {\n            content: `Add product ${productName}`,\n            trigger: 'a:contains(\"Add a product\")',\n            run: 'click',\n        },\n        {\n            content: 'wait for new row to be created',\n            trigger: `.o_data_row:nth-child(${rowNumber})`,\n        },\n        {\n            trigger: 'div[name=\"product_template_id\"] input',  // TODO VFE o_selected_row\n            run: `edit ${productName}`,\n        },\n        {\n            trigger: `ul.ui-autocomplete a:contains(\"${productName}\")`,\n            run: 'click',\n        },\n    ];\n}\n\nfunction clickSomewhereElse() {\n    return [\n        // TODO find a way for onchange to finish first ?\n        {\n            content: 'click somewhere else to exit cell focus',\n            trigger: 'a[name=order_lines]',  // click on notebook tab to stop the sol edit mode.\n            run: 'click',\n        },\n        {\n            content: 'check that the soline is not focused anymore',\n            trigger: 'table.o_section_and_note_list_view:not(:has(.o_selected_row))',\n        }\n    ]\n}\n\nfunction checkSOLDescriptionContains(productName, text) {\n    // currently must be called after exiting the edit mode on the SOL\n    // TODO in the future: handle edit mode and look directly into the textarea value\n    if (!text) {\n        return {\n            trigger: `span:contains(\"${productName}\")`,\n        }\n    }\n    return {\n        trigger: `span:contains(\"${productName}\") ~ textarea`,\n    }\n}\n\nfunction editLineMatching(productName, text) {\n    let base_step = checkSOLDescriptionContains(productName, text);\n    base_step['run'] = 'click';\n    return base_step;\n}\n\nfunction editConfiguration() {\n    return {\n        trigger: '[name=product_template_id] button.fa-pencil',\n        run: 'click',\n    }\n}\n\nexport default {\n    createNewSalesOrder,\n    selectCustomer,\n    addProduct,\n    checkSOLDescriptionContains,\n    editLineMatching,\n    editConfiguration,\n    clickSomewhereElse,\n};\n", "/** @odoo-module **/\n\nimport { waitFor } from \"@odoo/hoot-dom\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst todayDate = function () {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, \"0\");\n    const day = String(now.getDate()).padStart(2, \"0\");\n\n    return `${month}/${day}/${year} 10:00:00`;\n};\n\nregistry.category(\"web_tour.tours\").add(\"calendar_appointments_hour_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"calendar.mail_menu_calendar\"]',\n            content: \"Open Calendar\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-calendar-button-new\",\n            content: \"Create a new event\",\n            run: \"click\",\n        },\n        {\n            trigger: \"#name_0\",\n            content: \"Give a name to the new event\",\n            run: \"edit TEST EVENT\",\n        },\n        {\n            trigger: \"#start_0\",\n            content: \"Give a date to the new event\",\n            run: `edit ${todayDate()}`,\n        },\n        {\n            trigger: \"#duration_0\",\n            content: \"Give a duration to the new event\",\n            run: \"edit 02:00\",\n        },\n        {\n            trigger: \".fa-cloud-upload\",\n            content: \"Save the new event\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_back_button\",\n            content: \"Go back to Calendar view\",\n            run: \"click\",\n        },\n        {\n            trigger: \".scale_button_selection\",\n            content: \"Click to change calendar view\",\n            run: \"click\",\n        },\n        {\n            trigger: '.dropdown-item:contains(\"Month\")',\n            content: \"Change the calendar view to Month\",\n            run: \"click\",\n        },\n        {\n            trigger: \".fc-col-header-cell.fc-day.fc-day-mon\",\n            content: \"Check the day is properly displayed\",\n            run: \"click\",\n        },\n        {\n            trigger: '.fc-time:contains(\"10:00\")',\n            content: \"Check the time is properly displayed\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_event_title:contains(\"TEST EVENT\")',\n            content: \"Check the event title\",\n        },\n    ],\n});\n\nconst clickOnTheEvent = {\n    content: \"Click on the event (focus + waiting)\",\n    trigger: 'a .fc-event-main:contains(\"Test Event\")',\n    async run(actions) {\n        await actions.click();\n        await new Promise((r) => setTimeout(r, 1000));\n        const custom = document.querySelector(\".o_cw_custom_highlight\");\n        if (custom) {\n            custom.click();\n            await waitFor(\".o_cw_popover\", { timeout: 8000 });\n        }\n    },\n};\n\nregistry.category(\"web_tour.tours\").add(\"test_calendar_delete_tour\", {\n    steps: () => [\n        {\n            content: \"Select filter (everybody)\",\n            trigger: 'div[data-value=\"all\"] input',\n            run: \"click\",\n        },\n        clickOnTheEvent,\n        {\n            content: \"Delete the event\",\n            trigger: \".o_cw_popover_delete\",\n            run: \"click\",\n        },\n        {\n            content: \"Validate the deletion\",\n            trigger: 'button:contains(\"Delete\")',\n            run: \"click\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_calendar_decline_tour\", {\n    steps: () => [\n        clickOnTheEvent,\n        {\n            content: \"Delete the event\",\n            trigger: \".o_cw_popover_delete\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait declined status\",\n            trigger: \".o_attendee_status_declined\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_calendar_decline_with_everybody_filter_tour\", {\n    steps: () => [\n        {\n            content: \"Select filter (everybody)\",\n            trigger: 'div[data-value=\"all\"] input',\n            run: \"click\",\n        },\n        clickOnTheEvent,\n        {\n            content: \"Delete the event\",\n            trigger: \".o_cw_popover_delete\",\n            run: \"click\",\n        },\n        {\n            content: \"Select filter (everybody)\",\n            trigger: 'div[data-value=\"all\"] input',\n            run: \"click\",\n        },\n        {\n            content: \"Wait declined status\",\n            trigger: \".o_attendee_status_declined\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('debug_menu_set_defaults', {\n        url: '/odoo?debug=1',\n        steps: () => [\n            ...stepUtils.goToAppSteps('contacts.menu_contacts', \"Open the contacts menu\"),\n            {\n                content: \"Create a new contact\",\n                trigger: '.o-kanban-button-new',\n                run: \"click\",\n            },\n            {\n                content: \"Check that Company is checked by default, and not Individual\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"company\"]:checked',\n            },\n            {\n                content: \"Select the individual radio button\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"person\"]',\n                run: \"click\",\n            },\n            {\n                content: \"Open the debug menu\",\n                trigger: '.o_debug_manager button',\n                run: \"click\",\n            },\n            {\n                content: \"Click the Set Defaults menu\",\n                trigger: '.dropdown-item:contains(Set Default Values)',\n                run: \"click\",\n            },\n            {\n                content: \"Choose Company Type = Individual\",\n                trigger: '#formview_default_fields',\n                run: function () {\n                    const element_field = document.querySelector('select#formview_default_fields');\n                    element_field.value = 'company_type';\n                    element_field.dispatchEvent(new Event(\"change\"));\n                },\n            },\n            {\n                content: \"Check that there are conditions\",\n                trigger: '#formview_default_conditions',\n                run: \"click\",\n            },\n            {\n                content: \"Save the new default\",\n                trigger: 'footer button:contains(Save default)',\n                run: \"click\",\n            },\n            {\n                content: \"Discard the contact creation\",\n                trigger: 'button.o_form_button_cancel',\n                run: \"click\",\n            },\n            {\n                trigger: '.o_action_manager > .o_kanban_view .o-kanban-button-new',\n                run: \"click\",\n            },\n            {\n                content: \"Check that Individual is checked instead of Company\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"person\"]:checked',\n            },\n            {\n                content: \"Discard the contact creation\",\n                trigger: 'button.o_form_button_cancel',\n                run: \"click\",\n            },\n            {\n                content: \"Wait for discard\",\n                trigger: '.o_control_panel .o-kanban-button-new',\n            },\n        ]\n    });\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('create_crm_team_tour', {\n    url: \"/odoo\",\n    steps: () => [\n    ...stepUtils.goToAppSteps('crm.crm_menu_root'),\n{\n    trigger: 'button[data-menu-xmlid=\"crm.crm_menu_config\"]',\n    run: \"click\",\n}, {\n    trigger: 'a[data-menu-xmlid=\"crm.crm_team_config\"]',\n    run: \"click\",\n}, {\n    trigger: 'button.o_list_button_add',\n    run: \"click\",\n}, {\n    trigger: 'input[id=\"name_0\"]',\n    run: \"edit My CRM Team\",\n}, {\n    trigger: 'button.o-kanban-button-new',\n    run: \"click\",\n}, {\n    trigger: 'div.modal-dialog tr:contains(\"Test Salesman\") input.form-check-input',\n    run: 'click',\n}, {\n    trigger: 'div.modal-dialog tr:contains(\"Test Sales Manager\") input.form-check-input',\n    run: 'click',\n}, {\n    trigger: 'div.modal-dialog tr:contains(\"Test Sales Manager\") input.form-check-input:checked',\n}, {\n    trigger: '.o_list_selection_box:contains(2)',\n}, {\n    trigger: 'button.o_select_button',\n    run: \"click\",\n},\n    ...stepUtils.saveForm()\n]});\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('crm_email_and_phone_propagation_edit_save', {\n        url: '/odoo',\n        steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"crm.crm_menu_root\"]',\n            content: 'open crm app',\n            run: \"click\",\n        }, {\n            trigger: '.o_kanban_record:contains(Test Lead Propagation)',\n            content: 'Open the first lead',\n            run: 'click',\n        },\n        {\n            trigger: \".o_form_editable .o_field_widget[name=email_from] input\",\n        },\n        {\n            trigger: \".o_form_button_save:not(:visible)\",\n            content: 'Save the lead',\n            run: 'click',\n        },\n    ]});\n", "/** @odoo-module */\nimport { queryAll } from \"@odoo/hoot-dom\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nconst today = luxon.DateTime.now();\n\nregistry.category(\"web_tour.tours\").add('crm_forecast', {\n    url: \"/odoo\",\n    steps: () => [\n    stepUtils.showAppsMenuItem(),\n    {\n        trigger: \".o_app[data-menu-xmlid='crm.crm_menu_root']\",\n        content: \"open crm app\",\n        run: \"click\",\n    }, {\n        trigger: '.dropdown-toggle[data-menu-xmlid=\"crm.crm_menu_report\"]',\n        content: 'Open Reporting menu',\n        run: 'click',\n    }, {\n        trigger: '.dropdown-item[data-menu-xmlid=\"crm.crm_menu_forecast\"]',\n        content: 'Open Forecast menu',\n        run: 'click',\n    }, {\n        trigger: '.o_column_quick_create:contains(Add next month)',\n        content: 'Wait page loading',\n    }, {\n        trigger: \".o-kanban-button-new\",\n        content: \"click create\",\n        run: 'click',\n    }, {\n        trigger: \".o_field_widget[name=name] input\",\n        content: \"complete name\",\n        run: \"edit Test Opportunity 1\",\n    }, {\n        trigger: \".o_field_widget[name=expected_revenue] input\",\n        content: \"complete expected revenue\",\n        run: \"edit 999999\",\n    }, {\n        trigger: \"button.o_kanban_edit\",\n        content: \"edit lead\",\n        run: \"click\",\n    }, {\n        trigger: \"div[name=date_deadline] input\",\n        content: \"complete expected closing\",\n        run: `edit ${today.toFormat(\"MM/dd/yyyy\")}`,\n    }, {\n        trigger: \"div[name=date_deadline] input\",\n        content: \"click to make the datepicker disappear\",\n        run: \"click\"\n    }, {\n        trigger: '.o_back_button',\n        content: 'navigate back to the kanban view',\n        tooltipPosition: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: \".o_kanban_record:contains('Test Opportunity 1')\",\n        content: \"move to the next month\",\n        async run(helpers) {\n            const undefined_groups = queryAll('.o_column_title:contains(\"None\")').length;\n            await helpers.drag_and_drop(`.o_opportunity_kanban .o_kanban_group:eq(${1 + undefined_groups})`);\n        },\n    }, {\n        trigger: \".o_kanban_record:contains('Test Opportunity 1')\",\n        content: \"edit lead\",\n        run: \"click\"\n    }, {\n        trigger: \".o_field_widget[name=date_deadline] input\",\n        content: \"complete expected closing\",\n        run: `edit ${today.plus({ months: 5 }).startOf(\"month\").minus({ days: 1 }).toFormat(\"MM/dd/yyyy\")} && press Escape`,\n    }, {\n        trigger: \".o_field_widget[name=probability] input\",\n        content: \"max out probability\",\n        run: \"edit 100\",\n    }, {\n        trigger: '.o_back_button',\n        content: 'navigate back to the kanban view',\n        tooltipPosition: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: '.o_kanban_add_column',\n        content: \"add next month\",\n        run: \"click\"\n    }, {\n        trigger: \".o_kanban_record:contains('Test Opportunity 1'):contains('Won')\",\n        content: \"assert that the opportunity has the Won banner\",\n    }\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"crm_rainbowman\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: \".o_app[data-menu-xmlid='crm.crm_menu_root']\",\n            content: \"open crm app\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-kanban-button-new\",\n            content: \"click create\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_field_widget[name=name] input\",\n            content: \"complete name\",\n            run: \"edit Test Lead 1\",\n        },\n        {\n            trigger: \".o_field_widget[name=expected_revenue] input\",\n            content: \"complete expected revenue\",\n            run: \"edit 999999997\",\n        },\n        {\n            trigger: \"button.o_kanban_add\",\n            content: \"create lead\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_record:contains('Test Lead 1')\",\n            content: \"move to won stage\",\n            run: \"drag_and_drop (.o_opportunity_kanban .o_kanban_group:has(.o_column_title:contains('Won')))\",\n        },\n        {\n            trigger: \".o_reward_rainbow\",\n        },\n        {\n            // This step and the following simulates the fact that after drag and drop,\n            // from the previous steps, a click event is triggered on the window element,\n            // which closes the currently shown .o_kanban_quick_create.\n            trigger: \".o_kanban_renderer\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_renderer:not(:has(.o_kanban_quick_create))\",\n        },\n        {\n            trigger: \".o-kanban-button-new\",\n            content: \"create second lead\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_field_widget[name=name] input\",\n            content: \"complete name\",\n            run: \"edit Test Lead 2\",\n        },\n        {\n            trigger: \".o_field_widget[name=expected_revenue] input\",\n            content: \"complete expected revenue\",\n            run: \"edit 999999998\",\n        },\n        {\n            trigger: \"button.o_kanban_add\",\n            content: \"create lead\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_record:contains('Test Lead 2')\",\n        },\n        {\n            // move first test back to new stage to be able to test rainbowman a second time\n            trigger: \".o_kanban_record:contains('Test Lead 1')\",\n            content: \"move back to new stage\",\n            run: \"drag_and_drop .o_opportunity_kanban .o_kanban_group:eq(0) \",\n        },\n        {\n            trigger: \".o_kanban_record:contains('Test Lead 2')\",\n            content: \"click on second lead\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_statusbar_status button[data-value='4']\",\n            content: \"move lead to won stage\",\n            run: \"click\",\n        },\n        {\n            content: \"wait for save completion\",\n            trigger: \".o_form_readonly, .o_form_saved\",\n        },\n        {\n            trigger: \".o_reward_rainbow\",\n        },\n        {\n            trigger: \".o_statusbar_status button[data-value='1']\",\n            content: \"move lead to previous stage & rainbowman appears\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button[name=action_set_won_rainbowman]\",\n            content: \"click button mark won\",\n            run: \"click\",\n        },\n        {\n            content: \"wait for save completion\",\n            trigger: \".o_form_readonly, .o_form_saved\",\n        },\n        {\n            trigger: \".o_reward_rainbow\",\n        },\n        {\n            trigger: \".o_menu_brand\",\n            content: \"last rainbowman appears\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nodoo.loader.bus.addEventListener(\"module-started\", (e) => {\n    if (e.detail.moduleName === \"@web_editor/js/editor/snippets.options\") {\n        const options = e.detail.module[Symbol.for(\"default\")];\n        const FocusBlur = options.Class.extend({\n            onFocus() {\n                window.focusBlurSnippetsResult.push(`focus ${this.focusBlurName}`);\n            },\n            onBlur() {\n                window.focusBlurSnippetsResult.push(`blur ${this.focusBlurName}`);\n            },\n        });\n        options.registry.FocusBlurParent = FocusBlur.extend({focusBlurName: 'parent'});\n        options.registry.FocusBlurChild1 = FocusBlur.extend({focusBlurName: 'child1'});\n        options.registry.FocusBlurChild2 = FocusBlur.extend({focusBlurName: 'child2'});\n    }\n});\n", "/** @odoo-module */\n\nimport { patch } from \"@web/core/utils/patch\";\n\n// It's an optionnal import, to patch only when the WebsitePreview is loaded.\nconst WebsitePreviewLoader = odoo.loader.modules.get(\"@website/client_actions/website_preview/website_preview\");\n\nif (WebsitePreviewLoader) {\n    patch(WebsitePreviewLoader.WebsitePreview.prototype, {\n        /**\n         * @override\n         */\n        get testMode() {\n            return true;\n        }\n    });\n}\n", "/** @odoo-module **/\nimport { browser } from \"@web/core/browser/browser\";\nconst localStorage = browser.localStorage;\n\nodoo.loader.bus.addEventListener(\"module-started\", (e) => {\n    if (e.detail.moduleName !== \"@web/legacy/js/public/public_widget\") {\n        return;\n    }\n\n    const publicWidget = e.detail.module[Symbol.for(\"default\")];\n\n    const localStorageKey = 'widgetAndWysiwygLifecycle';\n    if (!localStorage.getItem(localStorageKey)) {\n        localStorage.setItem(localStorageKey, '[]');\n    }\n\n    function addLifecycleStep(step) {\n        const oldValue = localStorage.getItem(localStorageKey);\n        const newValue = JSON.stringify(JSON.parse(oldValue).concat(step));\n        localStorage.setItem(localStorageKey, newValue);\n    }\n\n    publicWidget.registry.CountdownPatch = publicWidget.Widget.extend({\n        selector: \".s_countdown\",\n        disabledInEditableMode: false,\n\n        /**\n         * @override\n         */\n        async start() {\n            addLifecycleStep('widgetStart');\n            await this._super(...arguments);\n            this.el.classList.add(\"public_widget_started\");\n        },\n        /**\n         * @override\n         */\n        destroy() {\n            this.el.classList.remove(\"public_widget_started\");\n            addLifecycleStep('widgetStop');\n            this._super(...arguments);\n        },\n    });\n});\n", "/** @odoo-module */\n\nimport { delay } from \"@odoo/hoot-dom\";\nimport {\n    insertSnippet,\n    clickOnSnippet,\n    changeOption,\n    clickOnSave,\n    registerWebsitePreviewTour,\n    goBackToBlocks,\n} from \"@website/js/tours/tour_utils\";\n\nconst carouselInnerSelector = \":iframe .carousel-inner\";\n\nregisterWebsitePreviewTour(\"carousel_content_removal\", {\n    url: '/',\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: 's_carousel',\n        name: 'Carousel',\n        groupName: \"Intro\",\n}), {\n    trigger: \":iframe .carousel .carousel-item.active .carousel-content\",\n    content: \"Select the active carousel item.\",\n    run: \"click\",\n}, {\n    trigger: \":iframe .oe_overlay.oe_active .oe_snippet_remove\",\n    content: \"Remove the active carousel item.\",\n    run: \"click\",\n}, {\n    trigger: \":iframe .carousel .carousel-item.active .container:not(:has(*)):not(:visible)\",\n    content: \"Check for a carousel slide with an empty container tag\",\n},\n    goBackToBlocks(),\n    ...insertSnippet({\n        id: \"s_quotes_carousel\",\n        name: \"Blockquote\",\n        groupName: \"People\",\n}), {\n    trigger: \":iframe .s_quotes_carousel_wrapper .carousel-item.active .s_blockquote\",\n    content: \"Select the blockquote.\",\n    run: \"click\",\n}, {\n    trigger: \":iframe .oe_overlay.oe_active .oe_snippet_remove\",\n    content: \"Remove the blockquote from the carousel item.\",\n    run: \"click\",\n}, {\n    trigger: \":iframe .s_quotes_carousel_wrapper .carousel-item.active:not(:has(.s_blockquote))\",\n    content: \"Check that the blockquote has been removed and the carousel item is empty.\",\n}]);\n\nconst checkSlides = (number, position) => {\n    const nSlide = (n) => `div.carousel-item:eq(${n})`;\n    const hasNSlide = (n) => `:has(${nSlide(n - 1)}):not(:has(${nSlide(n)}))`;\n    const activeSlide = (p) => `${nSlide(p - 1)}:is(.active)`;\n    return {\n        content: `Check if there are ${number} slides and if the ${position} is active`,\n        trigger: `${carouselInnerSelector}${hasNSlide(number)} ${activeSlide(position)}`,\n        async run() {\n            // When continue the tour directly, slide menu can disappears or\n            // action can not be done.\n            await delay(500);\n        },\n    };\n};\n\nregisterWebsitePreviewTour(\n    \"snippet_carousel\",\n    {\n        url: \"/\",\n        edition: true,\n    },\n    () => [\n        ...insertSnippet({ id: \"s_carousel\", name: \"Carousel\", groupName: \"Intro\" }),\n        ...clickOnSnippet(\".carousel .carousel-item.active\"),\n        // Slide to the right.\n        changeOption(\"CarouselItem\", 'we-button[data-switch-to-slide=\"right\"]'),\n        checkSlides(3, 2),\n        // Add a slide (with the \"CarouselItem\" option).\n        changeOption(\"CarouselItem\", \"we-button[data-add-slide-item]\"),\n        checkSlides(4, 3),\n        // Remove a slide.\n        changeOption(\"CarouselItem\", \"we-button[data-remove-slide]\"),\n        checkSlides(3, 2),\n        {\n            trigger: \":iframe .carousel .carousel-control-prev\",\n            content: \"Slide the carousel to the left with the arrows.\",\n            run: \"click\",\n        },\n        checkSlides(3, 1),\n        // Add a slide (with the \"Carousel\" option).\n        changeOption(\"Carousel\", \"we-button[data-add-slide]\"),\n        checkSlides(4, 2),\n        {\n            content: \"Check if the slide indicator was correctly updated\",\n            trigger: \"we-customizeblock-options span:contains(' (2/4)')\",\n        },\n        // Check if we can still remove a slide.\n        changeOption(\"CarouselItem\", \"we-button[data-remove-slide]\"),\n        checkSlides(3, 1),\n        // Slide to the left.\n        changeOption(\"CarouselItem\", 'we-button[data-switch-to-slide=\"left\"]'),\n        checkSlides(3, 3),\n        // Reorder the slides and make it the second one.\n        changeOption(\"GalleryElement\", 'we-button[data-position=\"prev\"]'),\n        checkSlides(3, 2),\n        ...clickOnSave(),\n        // Check that saving always sets the first slide as active.\n        checkSlides(3, 1),\n    ]\n);\n", "/** @odoo-module */\n\nimport { registerWebsitePreviewTour } from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('client_action_iframe_fallback', {\n    url: '/',\n},\n() => [\n    {\n        content: \"Ensure we are on the expected page\",\n        trigger: ':iframe html[data-view-xmlid=\"website.homepage\"]',\n    }, {\n        content: \"Ensure the iframe fallback is not loaded in test mode\",\n        trigger: 'body',\n        run() {\n            if (document.querySelector('iframe[src=\"/website/iframefallback\"]')) {\n                throw new Error(\"The iframe fallback shouldn't be inside the DOM.\");\n            }\n        },\n    },\n]);\n", "/** @odoo-module */\n\nimport { delay } from \"@odoo/hoot-dom\";\nimport { registry } from \"@web/core/registry\";\n\nconst testUrl = '/test_client_action_redirect';\n\nconst goToFrontendSteps = [{\n    content: \"Go to the frontend\",\n    trigger: 'body',\n    async run() {\n        await delay(2000);\n        window.location.assign(testUrl);\n    }\n}, {\n    content: \"Check we are in the frontend\",\n    trigger: 'body:not(:has(.o_website_preview)) #test_contact_FE',\n}];\nconst goToBackendSteps = [{\n    content: \"Go to the backend\",\n    trigger: 'body',\n    async run() {\n        await delay(2000);\n        window.location.assign(`/@${testUrl}`);\n    }\n}, {\n    content: \"Check we are in the backend\",\n    trigger: \".o_website_preview[data-view-xmlid='website.test_client_action_redirect'] :iframe\",\n}];\nconst checkEditorSteps = [{\n    content: \"Check that the editor is loaded\",\n    trigger: ':iframe body.editor_enable',\n    timeout: 30000,\n}, {\n    content: \"exit edit mode\",\n    trigger: \"button[data-action=save]:enabled:contains(save)\",\n    run: \"click\",\n    timeout: 30000,\n}, {\n    content: \"wait for editor to close\",\n    trigger: ':iframe body:not(.editor_enable)',\n}];\n\nregistry.category(\"web_tour.tours\").add('client_action_redirect', {\n    url: testUrl,\n    steps: () => [\n    // Case 1: From frontend, click on `enable_editor=1` link without `/@/` in it\n    ...goToFrontendSteps,\n    {\n        content: \"Click on the link to frontend\",\n        trigger: '#test_contact_FE',\n        run: \"click\",\n    },\n    ...checkEditorSteps,\n\n    // Case 2: From frontend, click on `enable_editor=1` link with `/@/` in it\n    ...goToFrontendSteps,\n    {\n        content: \"Click on the link to backend\",\n        trigger: '#test_contact_BE',\n        run: \"click\",\n    },\n    ...checkEditorSteps,\n\n    // Case 3: From backend, click on `enable_editor=1` link without `/@/` in it\n    // TODO: This will be fixed in another fix related to the listening of the\n    //       URL changes from the client action.\n    // ...goToBackendSteps,\n    // {\n    //     content: \"Click on the link to frontend (2)\",\n    //     trigger: ':iframe #test_contact_FR',\n    // },\n    // ...checkEditorSteps,\n\n    // Case 4: From backend, click on `enable_editor=1` link with `/@/` in it\n    ...goToBackendSteps,\n    {\n        content: \"Click on the link to backend (2)\",\n        trigger: ':iframe #test_contact_BE',\n        run: \"click\",\n    },\n    ...checkEditorSteps,\n]});\n", "import {\n    insertSnippet,\n    clickOnSave,\n    clickOnEditAndWaitEditMode,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nfunction selectColorpickerSwitchPanel(type) {\n    return [\n        {\n            content: \"Select text snippet\",\n            trigger: \":iframe #wrap .s_text_block\",\n            run: \"click\"\n        },\n        {\n            content: \"Click on background-color option\",\n            trigger: \".o_we_so_color_palette[data-css-property='background-color']\",\n            run: \"click\"\n        },\n        {\n            content: \"Select type of colorpicker in switch panel\",\n            trigger: `.o_we_colorpicker_switch_pane_btn[data-target=\"${type}\"]`,\n            run: \"click\"\n        },\n    ]\n}\n\nfunction checkBackgroundColorWithRGBA(red, green, blue) {\n    return [\n        {\n            content: \"Check if the RGBA color matches the selected color\",\n            trigger: \".o_rgba_div\",\n            run: function () {\n                const rgbaEl = this.anchor;\n                const red_color = rgbaEl.querySelector(\".o_red_input\").value;\n                const green_color = rgbaEl.querySelector(\".o_green_input\").value;\n                const blue_color = rgbaEl.querySelector(\".o_blue_input\").value;\n                if (red_color != red || green_color != green || blue_color != blue) {\n                    console.error(\"There may be a problem with the RGBA colorpicker\");\n                }\n            }\n        },\n    ]\n}\n\nregisterWebsitePreviewTour(\"website_background_colorpicker\", {\n    edition: true,\n    url: \"/\",\n}, () => [\n    ...insertSnippet({\n        id: \"s_text_block\",\n        name: \"Text\",\n        groupName: \"Text\",\n    }),\n    ...selectColorpickerSwitchPanel(\"gradients\"),\n    {\n        content: \"Select first gradient element\",\n        trigger: \".o_colorpicker_section .o_we_color_btn[data-color='linear-gradient(135deg, rgb(255, 204, 51) 0%, rgb(226, 51, 255) 100%)']\",\n        run: \"click\"\n    },\n    ...clickOnSave(),\n    ...clickOnEditAndWaitEditMode(),\n    ...selectColorpickerSwitchPanel(\"gradients\"),\n    ...checkBackgroundColorWithRGBA(\"255\", \"204\", \"51\"),\n    ...clickOnSave(),\n    ...clickOnEditAndWaitEditMode(),\n    ...selectColorpickerSwitchPanel(\"custom-colors\"),\n    {\n        content: \"Select first custom color element\",\n        trigger: \".o_colorpicker_section .o_we_color_btn[style='background-color:#65435C;']\",\n        run: \"click\"\n    },\n    ...clickOnSave(),\n    ...clickOnEditAndWaitEditMode(),\n    ...selectColorpickerSwitchPanel(\"custom-colors\"),\n    ...checkBackgroundColorWithRGBA(\"101\", \"67\", \"92\"),\n]);\n", "/** @odoo-module */\n\nimport {\n    changeOption,\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    clickOnSnippet,\n    insertSnippet,\n    goBackToBlocks,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nconst snippets = [\n    {\n        id: 's_text_image',\n        name: 'Text - Image',\n        groupName: \"Content\",\n    },\n    {\n        id: \"s_banner\",\n        name: \"Banner\",\n        groupName: \"Intro\",\n    },\n    {\n        id: \"s_popup\",\n        name: \"Popup\",\n        groupName: \"Content\",\n    },\n];\nfunction checkEyeIcon(snippetName, visible) {\n    const eyeIcon = visible ? \"fa-eye\" : \"fa-eye-slash\";\n    const openOrClose = visible ? \"open\" : \"close\";\n    const endExplanation = `should be ${openOrClose} in the \"Invisible Elements\" panel`;\n    const invisibleElPanel = \"o_we_invisible_el_panel\";\n    return {\n            content: `The eye icon of ${snippetName} ${endExplanation}`,\n            trigger:\n            `.${invisibleElPanel} .o_we_invisible_entry:contains(\"${snippetName}\") i.${eyeIcon}`,\n        };\n}\nfunction checkEyesIconAfterSave(footerIsHidden = true) {\n    const eyeIconChecks = [\n        checkEyeIcon(\"Header\", false),\n        checkEyeIcon(\"Text - Image\", true),\n        checkEyeIcon(\"Popup\", false),\n        checkEyeIcon(\"Banner\", true),\n    ];\n    if (footerIsHidden) {\n        eyeIconChecks.push(checkEyeIcon(\"Footer\", false));\n    }\n    return eyeIconChecks;\n}\nregisterWebsitePreviewTour('conditional_visibility_1', {\n    edition: true,\n    url: '/',\n}, () => [\n...insertSnippet(snippets[0]),\n...clickOnSnippet(snippets[0]),\nchangeOption('ConditionalVisibility', 'we-toggler'),\n{\n    content: 'click on conditional visibility',\n    trigger: '[data-name=\"visibility_conditional\"]',\n    run: 'click',\n},\n{\n    content: 'click on utm medium toggler',\n    trigger: '[data-save-attribute=\"visibilityValueUtmMedium\"] we-toggler',\n    run: 'click',\n},\n{\n    trigger: '[data-save-attribute=\"visibilityValueUtmMedium\"] we-selection-items .o_we_m2o_search input',\n    content: 'Search for Email',\n    run: \"edit Email\",\n},\n{\n    trigger: '[data-save-attribute=\"visibilityValueUtmMedium\"] we-selection-items [data-add-record=\"Email\"]',\n    content: 'click on Email',\n    run: 'click',\n},\n...clickOnSave(),\n{\n    trigger: \".o_website_preview:only-child\",\n},\n{\n    content: 'Check if the rule was applied',\n    trigger: ':iframe #wrap:not(:visible)',\n    run: function (actions) {\n        const style = window.getComputedStyle(this.anchor.getElementsByClassName('s_text_image')[0]);\n        if (style.display !== 'none') {\n            console.error('error This item should be invisible and only visible if utm_medium === email');\n        }\n    },\n},\n...clickOnEditAndWaitEditMode(),\n{\n    content: 'Check if the element is visible as it should always be visible in edit view',\n    trigger: ':iframe #wrap .s_text_image',\n    run: function (actions) {\n        const style = window.getComputedStyle((this.anchor));\n        if (style.display === 'none') {\n            console.error('error This item should now be visible because utm_medium === email');\n        }\n    },\n},\n]);\n\nregisterWebsitePreviewTour(\"conditional_visibility_3\", {\n    edition: true,\n    url: \"/\",\n},\n() => [\ncheckEyeIcon(\"Text - Image\", true),\n// Drag a \"Banner\" snippet on the website.\n...insertSnippet(snippets[1]),\n// Click on the \"Banner\" snippet.\n...clickOnSnippet(snippets[1]),\nchangeOption(\"ConditionalVisibility\", \"we-toggler\"),\nchangeOption(\"ConditionalVisibility\", '[data-name=\"visibility_conditional\"]'),\ncheckEyeIcon(\"Banner\", true),\ngoBackToBlocks(),\n// Drag a \"Popup\" snippet on the website.\n...insertSnippet(snippets[2]),\n{\n    content: \"Toggle the visibility of the popup\",\n    trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Popup')\",\n    run: \"click\",\n},\ncheckEyeIcon(\"Popup\", false),\n{\n    content: \"Click on footer\",\n    trigger: \":iframe #wrapwrap footer\",\n    run: \"click\",\n},\nchangeOption(\"HideFooter\", \"we-checkbox\"),\ncheckEyeIcon(\"Footer\", false),\n{\n    content: \"Click on Header\",\n    trigger: \":iframe #wrapwrap header\",\n    run: \"click\",\n},\nchangeOption(\"TopMenuVisibility\", \"we-toggler\"),\nchangeOption(\"TopMenuVisibility\", '[data-visibility=\"hidden\"]'),\ncheckEyeIcon(\"Header\", false),\n{\n    content: \"Toggle the visibility of the Banner snippet\",\n    trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Banner')\",\n    run: \"click\",\n},\ncheckEyeIcon(\"Banner\", false),\n...clickOnSave(),\n...clickOnEditAndWaitEditMode(),\n...checkEyesIconAfterSave(),\n]);\n\nregisterWebsitePreviewTour(\"conditional_visibility_4\", {\n    edition: true,\n    url: \"/\",\n},\n() => [\n// Click on the \"Text-Image\" snippet.\n...clickOnSnippet(snippets[0]),\n{\n    content: \"Click on the 'move down' option\",\n    trigger: \":iframe we-button.o_we_user_value_widget.fa-angle-down\",\n    run: \"click\",\n},\n...checkEyesIconAfterSave(),\n{\n    content: \"Check the order on the 'Invisible Elements' panel\",\n    trigger: \".o_we_invisible_el_panel div:nth-child(3):contains('Banner')\",\n},\n{\n    content: \"Toggle the visibility of the Footer\",\n    trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Footer')\",\n    run: \"click\",\n},\n{\n    content: \"Check that the footer is visible\",\n    trigger: \":iframe #wrapwrap footer\",\n},\n// Click on the \"Banner\" snippet.\n...clickOnSnippet(snippets[1]),\n{\n    content: \"Drag the 'Banner' snippet to the end of the page\",\n    trigger: \":iframe .o_overlay_move_options .o_move_handle\",\n    run: \"drag_and_drop :iframe #wrapwrap footer\",\n},\n...checkEyesIconAfterSave(false),\n{\n    content: \"Check the order on the 'Invisible Elements' panel\",\n    trigger: \".o_we_invisible_el_panel div:nth-child(3):contains('Text - Image')\",\n},\n]);\n\nregisterWebsitePreviewTour(\"conditional_visibility_5\", {\n    edition: true,\n    url: \"/\",\n}, () => [\n    {\n        content: \"Toggle the visibility of the Footer\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Footer')\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the footer is visible\",\n        trigger: \":iframe #wrapwrap footer\",\n    },\n    ...insertSnippet(snippets[0]),\n    {\n        content: \"Click on the image of the dragged snippet\",\n        trigger: \":iframe .s_text_image img\",\n        run: \"click\",\n    },\n    changeOption(\"DeviceVisibility\", 'we-button[data-toggle-device-visibility=\"no_desktop\"]'),\n    {\n        content: \"Check that the Column has been added in the 'Invisible Elements' panel\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Column')\",\n    },\n    {\n        content: \"Click on the 'Text - Image' snippet\",\n        trigger: \":iframe .s_text_image\",\n        run: \"click\",\n    },\n    changeOption(\"ConditionalVisibility\", 'we-button[data-toggle-device-visibility=\"no_desktop\"]'),\n    {\n        content: \"Check that the 'Text - Image' is the parent of 'Column' in the 'Invisible Elements' panel\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_root_parent.o_we_invisible_entry:contains('Text - Image') + ul .o_we_invisible_entry.o_we_sublevel_1:contains('Column')\",\n    },\n    {\n        content: \"Click on the 'Text - Image' entry on the 'Invisible Elements' panel\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_root_parent.o_we_invisible_entry:contains('Text - Image')\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the snippet is visible on the website\",\n        trigger: \":iframe .s_text_image.o_snippet_desktop_invisible.o_snippet_override_invisible\",\n    },\n    changeOption(\"ConditionalVisibility\", 'we-button[data-toggle-device-visibility=\"no_mobile\"]'),\n    {\n        content: \"Check that the 'Text - Image' has been removed from the 'Invisible Elements' panel\",\n        trigger: \".o_we_invisible_el_panel:not(.o_we_invisible_entry:contains('Text - Image'))\",\n    },\n    {\n        content: \"Click on the 'Column' entry on the 'Invisible Elements' panel\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Column')\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the column is visible on the website\",\n        trigger: \":iframe .s_text_image .row > .o_snippet_desktop_invisible.o_snippet_override_invisible\",\n    },\n    changeOption(\"DeviceVisibility\", 'we-button[data-toggle-device-visibility=\"no_mobile\"]'),\n    {\n        content: \"Check that the column has been removed from the 'Invisible Elements' panel\",\n        trigger: \"#oe_snippets:not(:has(.o_we_invisible_entry:contains('Column')))\",\n    },\n    {\n        content: \"Activate mobile preview\",\n        trigger: \".o_we_website_top_actions button[data-action='mobile']\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the 'Text - Image' is the parent of 'Column' in the 'Invisible Elements' panel\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_root_parent.o_we_invisible_entry:contains('Text - Image') + ul .o_we_invisible_entry.o_we_sublevel_1:contains('Column')\",\n    },\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('conditional_visibility_2', {\n    url: '/?utm_medium=Email',\n    steps: () => [{\n    content: 'The content previously hidden should now be visible',\n    trigger: 'body #wrap',\n    run: function (actions) {\n        const style = window.getComputedStyle(\n            this.anchor.getElementsByClassName(\"s_text_image\")[0]\n        );\n        if (style.display === 'none') {\n            console.error('error This item should now be visible because utm_medium === email');\n        }\n    },\n},\n]});\n", "/** @odoo-module */\n\nimport { localization } from \"@web/core/l10n/localization\";\nimport { translatedTerms } from \"@web/core/l10n/translation\";\nimport { registry } from \"@web/core/registry\";\nimport { clickOnEditAndWaitEditMode } from \"@website/js/tours/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('configurator_translation', {\n    url: '/website/configurator',\n    steps: () => [\n    // Configurator first screen\n    {\n        content: \"click next\",\n        trigger: 'button.o_configurator_show',\n        run: \"click\",\n    },\n    // Make sure \"Back\" works\n    {\n        content: \"use browser's Back\",\n        trigger: 'a.o_change_website_type',\n        run() {\n            window.history.back();\n        },\n    }, {\n        content: \"return to description screen\",\n        trigger: 'button.o_configurator_show',\n        run: \"click\",\n    },\n    // Description screen\n    {\n        content: \"select a website type\",\n        trigger: 'a.o_change_website_type',\n        run: \"click\",\n    }, {\n        content: \"insert a website industry\",\n        trigger: '.o_configurator_industry input',\n        run: \"edit ab\",\n    }, {\n        content: \"select a website industry from the autocomplete\",\n        trigger: '.o_configurator_industry_wrapper ul li a:contains(\"in fr\")',\n        run: \"click\",\n    }, {\n        content: \"select an objective\",\n        trigger: '.o_configurator_purpose_dd a',\n        run: \"click\",\n    }, {\n        content: \"choose from the objective list\",\n        trigger: 'a.o_change_website_purpose',\n        run: \"click\",\n    },\n    // Palette screen\n    {\n        content: \"chose a palette card\",\n        trigger: '.palette_card',\n        run: \"click\",\n    },\n    // Features screen\n    {\n        content: \"select confidentialit\u00e9\",\n        trigger: '.card:contains(Parseltongue_privacy)',\n        run: \"click\",\n    }, {\n        content: \"Click on build my website\",\n        trigger: 'button.btn-primary',\n        run: \"click\",\n    }, {\n        content: \"Loader should be shown\",\n        trigger: '.o_website_loader_container',\n    }, {\n        content: \"Wait until the configurator is finished\",\n        trigger: \".o_website_preview[data-view-xmlid='website.homepage']\",\n        timeout: 30000,\n    }, {\n        content: \"Check if the current interface language is active and monkey patch terms\",\n        trigger: \"body\",\n        run() {\n            if (localization.code !== \"pa_GB\") {\n                throw new Error(\"The user language is not the correct one\");\n            } else {\n                translatedTerms[\"Save\"] = \"Save_Parseltongue\";\n            }\n        }\n    },\n    ...clickOnEditAndWaitEditMode(),\n    {\n        // Check the content of the save button to make sure the website is in\n        // Parseltongue. (The editor should be in the website's default language,\n        // which should be parseltongue in this test.)\n        content: \"exit edit mode\",\n        trigger: '.o_we_website_top_actions button.btn-primary:contains(\"Save_Parseltongue\")',\n        run: \"click\",\n    }, {\n         content: \"wait for editor to be closed\",\n         trigger: ':iframe body:not(.editor_enable)',\n    }\n]});\n", "/** @odoo-module */\n\nimport {\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from \"@website/js/tours/tour_utils\";\n\nconst snippets = [\n    { id: \"s_popup\", name: \"Popup\", groupName: \"Content\" },\n    { id: \"s_banner\", name: \"Banner\", groupName: \"Into\" },\n    { id: \"s_popup\", name: \"Custom Popup\", groupName: \"Custom\" },\n];\n\nregisterWebsitePreviewTour(\n    \"custom_popup_snippet\",\n    {\n        url: \"/\",\n        edition: true,\n    },\n    () => [\n        ...insertSnippet(snippets[0]),\n        ...clickOnSnippet(snippets[1]),\n        {\n            content: \"save this snippet to save later\",\n            trigger: \".o_we_user_value_widget.fa-save\",\n            run: \"click\",\n        },\n        {\n            content: \"confirm and reload custom snippet\",\n            trigger: \".modal-footer > .btn.btn-primary\",\n            run: \"click\",\n        },\n        ...insertSnippet(snippets[2]),\n        {\n            content: \"check whether new custom popup is visible or not.\",\n            trigger: \":iframe section[data-snippet='s_banner']\",\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport { queryFirst } from \"@odoo/hoot-dom\";\nimport {\n    changeOption,\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from \"@website/js/tours/tour_utils\";\n\nregisterWebsitePreviewTour(\"default_shape_gets_palette_colors\", {\n    url: '/',\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n        groupName: \"Content\",\n    }),\n    ...clickOnSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    changeOption('ColoredLevelBackground', 'Shape'),\n    {\n        content: \"Check that shape does not have a background-image in its inline style\",\n        trigger: ':iframe #wrap .s_text_image .o_we_shape',\n        run() {\n            const shape = queryFirst(\":iframe :not(.o_ignore_in_tour) #wrap .s_text_image .o_we_shape\");\n            if (shape.style.backgroundImage) {\n                throw new Error(\"The default shape has a background-image in its inline style (should rely on the class)\");\n            }\n        },\n    },\n]);\n", "/** @odoo-module **/\n\nimport { insertSnippet, goBackToBlocks, registerWebsitePreviewTour } from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour(\"test_drag_and_drop_on_non_editable\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_company_team\",\n        name: \"Team\",\n        groupName: \"People\",\n    }),\n    {\n        content: \"Click on an editable media in non editable env.\",\n        trigger: \":iframe .s_company_team .o_not_editable > .o_editable_media\",\n        run: \"click\",\n    },\n    {\n        content: \"Verify that the Replace options is in the editor.\",\n        trigger: \"we-button[data-replace-media]\",\n    },\n    goBackToBlocks(),\n    {\n        trigger: \".o_website_preview.editor_enable.editor_has_snippets\",\n    },\n    {\n        content: \"Drag and drop the Text Highlight building block next to the Team block media.\",\n        trigger: `#oe_snippets .oe_snippet[name=\"Text Highlight\"].o_we_draggable .oe_snippet_thumbnail:not(.o_we_ongoing_insertion)`,\n        run: \"drag_and_drop :iframe .s_company_team .o_not_editable > .o_editable_media\",\n    },\n    {\n        content: \"Verify that the Text Highlight building block isn't in a non editable element.\",\n        trigger: \":iframe .s_company_team :not(.o_not_editable) > .s_text_highlight\",\n    },\n]);\n", "/** @odoo-module **/\n\nimport {\n    changeOption,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('drop_404_ir_attachment_url', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: 's_404_snippet',\n        name: '404 Snippet',\n        groupName: \"Images\",\n    }),\n    {\n        content: 'Click on the snippet image',\n        trigger: ':iframe .s_404_snippet img',\n        run: \"click\",\n    },\n    {\n        trigger: \".snippet-option-ReplaceMedia\",\n    },\n    {\n        content: 'Once the image UI appears, check the image has no size (404)',\n        trigger: ':iframe .s_404_snippet img',\n        run() {\n            const imgEl = this.anchor;\n            if (!imgEl.complete\n                || imgEl.naturalWidth !== 0\n                || imgEl.naturalHeight !== 0) {\n                throw new Error('This is supposed to be a 404 image');\n            }\n        },\n    },\n    changeOption('ImageTools', 'we-select[data-name=\"shape_img_opt\"] we-toggler'),\n    changeOption('ImageTools', 'we-button[data-set-img-shape]'),\n    {\n        content: 'Once the shape is applied, check the image has now a size (placeholder image)',\n        trigger: ':iframe .s_404_snippet img[src^=\"data:\"]',\n        run() {\n            const imgEl = this.anchor;\n            if (!imgEl.complete\n                || imgEl.naturalWidth === 0\n                || imgEl.naturalHeight === 0) {\n                throw new Error('Even though the original image was a 404, the option should have been applied on the placeholder image');\n            }\n        },\n    },\n]);\n", "/** @odoo-module */\n\nimport {\n    clickOnSave,\n    changeOption,\n    checkIfVisibleOnScreen,\n    insertSnippet,\n    registerWebsitePreviewTour,\n    selectHeader,\n} from \"@website/js/tours/tour_utils\";\n\nconst checkIfUserMenuNotMasked = function () {\n    return [\n        {\n            content: \"Click on the user dropdown\",\n            trigger: \":iframe #wrapwrap header li.dropdown > a:contains(mitchell admin)\",\n            run: \"click\",\n        },\n        checkIfVisibleOnScreen(\n            \":iframe #wrapwrap header li.dropdown .dropdown-menu.show a[href='/my/home']\"\n        ),\n    ];\n};\n\nconst scrollDownToMediaList = function () {\n    return {\n        content: \"Scroll down the page a little to leave the dropdown partially visible\",\n        trigger: \":iframe #wrapwrap .s_media_list\",\n        run() {\n            // Scroll down to the media list snippet.\n            this.anchor.scrollIntoView({ behavior: \"instant\" });\n        },\n    };\n};\n\nregisterWebsitePreviewTour(\"dropdowns_and_header_hide_on_scroll\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({id: \"s_media_list\", name: \"Media List\", groupName: \"Content\"}),\n    selectHeader(),\n    changeOption(\"undefined\", 'we-select[data-variable=\"header-scroll-effect\"]'),\n    changeOption(\"undefined\", 'we-button[data-name=\"header_effect_fixed_opt\"]'),\n    {\n        content: \"Wait for the modification has been applied\",\n        trigger: \".o_we_customize_panel:contains(Select a block on your page to style it.)\",\n        timeout: 30000,\n    },\n    {\n        trigger: \":iframe #wrapwrap header.o_header_fixed\",\n    },\n    selectHeader(),\n    changeOption(\"WebsiteLevelColor\", 'we-select[data-variable=\"header-template\"] we-toggler'),\n    changeOption(\"WebsiteLevelColor\", 'we-button[data-name=\"header_sales_two_opt\"]'),\n    {\n        trigger: \":iframe .o_header_sales_two_top\",\n        timeout: 30000,\n    },\n    {\n        content: \"check that header_sales_two_opt is well selected\",\n        trigger: \":iframe #wrapwrap header.o_header_fixed div[aria-label=Middle] div[role=search]\",\n    },\n    ...clickOnSave(undefined, 30000),\n    ...checkIfUserMenuNotMasked(),\n    // We scroll the page a little because when clicking on the dropdown, the\n    // page needs to scroll to the top first and then open the dropdown menu.\n    scrollDownToMediaList(),\n    ...checkIfUserMenuNotMasked(),\n    // We scroll the page again because when typing in the searchbar input, the\n    // page needs also to scroll to the top first and then open the dropdown\n    // with the search results.\n    scrollDownToMediaList(),\n    {\n        content: \"Type a search query into the searchbar input\",\n        trigger: \":iframe #wrapwrap header .s_searchbar_input input.search-query\",\n        run: \"edit a\",\n    },\n    checkIfVisibleOnScreen(\":iframe #wrapwrap header .s_searchbar_input.show .o_dropdown_menu.show\"),\n]);\n", "/** @odoo-module **/\n\nimport {\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from \"@website/js/tours/tour_utils\";\nimport { browser } from \"@web/core/browser/browser\";\nimport { patch } from \"@web/core/utils/patch\";\n\nconst FIRST_PARAGRAPH = ':iframe #wrap .s_text_image p:nth-child(2)';\n\nconst clickFooter = [{\n    content: \"Save the link by clicking outside the URL input (not on a link element)\",\n    trigger: ':iframe footer h5:first',\n    run: \"click\",\n}, {\n    content: \"Wait delayed click on footer\",\n    trigger: '.o_we_customize_panel we-title:contains(\"Footer\")',\n}];\n\nconst clickEditLink = [{\n    content: \"Click on Edit Link in Popover\",\n    trigger: ':iframe .o_edit_menu_popover .o_we_edit_link',\n    run: \"click\",\n}, {\n    content: \"Ensure popover is closed\",\n    trigger: ':iframe html:not(:has(.o_edit_menu_popover))', // popover should be closed\n}];\n\nregisterWebsitePreviewTour('edit_link_popover', {\n    url: '/',\n    edition: true,\n}, () => [\n    // 1. Test links in page content (web_editor)\n    ...insertSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n        groupName: \"Content\",\n    }),\n    {\n        content: \"Click on a paragraph\",\n        trigger: FIRST_PARAGRAPH,\n        run: \"editor Paragraph\", // Make sure the selection is set in the paragraph\n    },\n    {\n        content: \"Click on 'Link' to open Link Dialog\",\n        trigger: \"#toolbar:not(.oe-floating) #create-link\",\n        run: \"click\",\n    },\n    {\n        content: \"Type the link URL /contactus\",\n        trigger: '#o_link_dialog_url_input',\n        run: \"edit /contactus\",\n    },\n    ...clickFooter,\n    {\n        content: \"Click on newly created link\",\n        trigger: `${FIRST_PARAGRAPH} a`,\n        run: \"click\",\n    },\n    {\n        content: \"Popover should be shown\",\n        trigger: ':iframe .o_edit_menu_popover .o_we_url_link:contains(\"Contact Us\")', // At this point preview is loaded\n    },\n    ...clickEditLink,\n    {\n        content: \"Type the link URL /\",\n        trigger: '#o_link_dialog_url_input',\n        run: `edit /`,\n    },\n    ...clickFooter,\n    {\n        content: \"Click on link\",\n        trigger: `${FIRST_PARAGRAPH} a`,\n        run: \"click\",\n    },\n    {\n        content: \"Popover should be shown with updated preview data\",\n        trigger: ':iframe .o_edit_menu_popover .o_we_url_link:contains(\"Home\")',\n    },\n    {\n        content: \"Click on Remove Link in Popover\",\n        trigger: ':iframe .o_edit_menu_popover .o_we_remove_link',\n        run: \"click\",\n    },\n    {\n        content: \"Link should be removed\",\n        trigger: `${FIRST_PARAGRAPH}:not(:has(a))`,\n    },\n    {\n        content: \"Ensure popover is closed\",\n        trigger: ':iframe html:not(:has(.o_edit_menu_popover))', // popover should be closed\n    },\n    // 2. Test links in navbar (website)\n    {\n        content: \"Click navbar menu Home\",\n        trigger: ':iframe .top_menu a:contains(\"Home\")',\n        run: \"click\",\n    },\n    {\n        content: \"Popover should be shown (2)\",\n        trigger: ':iframe .o_edit_menu_popover .o_we_url_link:contains(\"Home\")',\n    },\n    ...clickEditLink,\n    {\n        content: \"Change the URL\",\n        trigger: '#url_input',\n        run: \"edit /contactus\",\n    },\n    {\n        content: \"Save the Edit Menu modal\",\n        trigger: '.modal-footer .btn-primary',\n        run: \"click\",\n    },\n    {\n        trigger: \"div:not(.o_loading_dummy) > #oe_snippets\",\n    },\n    {\n        content: \"Click on the Home menu again\",\n        trigger: ':iframe .top_menu a:contains(\"Home\")[href=\"/contactus\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Popover should be shown with updated preview data (2)\",\n        trigger: ':iframe .o_edit_menu_popover .o_we_url_link:contains(\"Contact Us\")',\n    },\n    {\n        content: \"Click on Edit Menu in Popover\",\n        trigger: ':iframe .o_edit_menu_popover .js_edit_menu',\n        run: \"click\",\n    },\n    {\n        content: \"Edit Menu (tree) should open\",\n        trigger: '.o_website_dialog .oe_menu_editor',\n    },\n    {\n        content: \"Close modal\",\n        trigger: '.modal-footer .btn-secondary',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the modal is closed\",\n        trigger: \":iframe html:not(.modal-body)\",\n    },\n    // 3. Test other links (CTA in navbar & links in footer)\n    {\n        content: \"Click CTA in navbar\",\n        trigger: ':iframe .o_main_nav a.btn-primary[href=\"/contactus\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Popover should be shown (3)\",\n        trigger: ':iframe .o_edit_menu_popover .o_we_url_link:contains(\"Contact Us\")',\n    },\n    {\n        content: \"Toolbar should be shown (3)\",\n        trigger: `.oe-toolbar:not(.oe-floating):has(#o_link_dialog_url_input:value('/contactus'))`,\n    },\n    {\n        content: \"Click 'Home' link in footer\",\n        trigger: ':iframe footer a[href=\"/\"]',\n        async run(helpers) {\n            await helpers.click();\n            const el = this.anchor;\n            const sel = el.ownerDocument.getSelection();\n            sel.collapse(el.childNodes[1], 1);\n            el.focus();\n        }\n    },\n    {\n        content: \"Popover should be shown (4)\",\n        trigger: ':iframe .o_edit_menu_popover .o_we_url_link:contains(\"Home\")',\n    },\n    {\n        content: \"Toolbar should be shown (4)\",\n        trigger: `.oe-toolbar:not(.oe-floating):has(#o_link_dialog_url_input:value('/'))`,\n    },\n    // 4. Popover should close when clicking non-link element\n    ...clickFooter,\n    // 5. Double click should not open popover but should open toolbar link\n    {\n        trigger: \":iframe html:not(:has(.o_edit_menu_popover))\", // popover should be closed\n    },\n    {\n        content: \"Double click on link\",\n        trigger: ':iframe footer a[href=\"/\"]',\n        async run(actions) {\n            // Create range to simulate real double click, see pull request\n            const range = document.createRange();\n            range.selectNodeContents(this.anchor);\n            const sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n            await actions.click();\n            await actions.dblclick();\n        },\n    },\n    {\n        trigger: \":iframe html:has(.o_edit_menu_popover)\",\n    },\n    {\n        content: \"Ensure popover is opened on double click, and so is right panel edit link\",\n        trigger: 'html:has(#o_link_dialog_url_input)',\n    },\n    {\n        trigger: ':iframe .o_edit_menu_popover a.o_we_full_url[target=\"_blank\"]',\n    },\n    {\n        content: \"Ensure that a click on the link popover link opens a new window in edit mode\",\n        trigger: ':iframe .o_edit_menu_popover a.o_we_url_link[target=\"_blank\"]',\n        run(actions) {\n            // We do not want to open a link in a tour\n            patch(browser, {\n                open(url) {\n                    if (window.location.hostname === url.hostname && url.pathname.startsWith('/@/')) {\n                        document.querySelector('body').classList.add('new_backend_window_opened');\n                    }\n                }\n            }, {pure: true});\n            actions.click();\n        },\n    },\n    {\n        content: \"Ensure that link is opened correctly in edit mode\",\n        trigger: '.new_backend_window_opened',\n    },\n]);\n", "/** @odoo-module **/\n\nimport {\n    changeOption,\n    clickOnExtraMenuItem,\n    clickOnSave,\n    registerWebsitePreviewTour,\n} from \"@website/js/tours/tour_utils\";\n\nconst toggleMegaMenu = (stepOptions) => Object.assign({}, {\n    content: \"Toggles the mega menu.\",\n    trigger: \":iframe .top_menu .nav-item a.o_mega_menu_toggle\",\n    run(helpers) {\n        // If the mega menu is displayed inside the extra menu items, it should\n        // already be displayed.\n        if (!this.anchor.closest(\".o_extra_menu_items\")) {\n            helpers.click();\n        }\n    },\n}, stepOptions);\n\nregisterWebsitePreviewTour('edit_megamenu', {\n    url: '/',\n    edition: true,\n}, () => [\n    // Add a megamenu item to the top menu.\n    {\n        content: \"Click on a menu item\",\n        trigger: \":iframe .top_menu .nav-item a\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Link' to open Link Dialog\",\n        trigger: ':iframe .o_edit_menu_popover a.js_edit_menu',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_website_dialog:visible\",\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Mega Menu Item')\",\n        trigger: '.modal-body a:eq(1)',\n        run: \"click\",\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input',\n        run: \"edit Megaaaaa!\",\n    },\n    {\n        content: \"Confirm the mega menu label\",\n        trigger: \".modal .modal-footer button:contains(ok)\",\n        run: \"click\",\n    },\n    {\n        trigger: '.oe_menu_editor [data-is-mega-menu=\"true\"] .js_menu_label:contains(\"Megaaaaa!\")',\n    },\n    {\n        content: \"Save the website menu with a new mega menu\",\n        trigger: \".modal .modal-footer button:contains(save)\",\n        run: \"click\",\n    },\n    {\n        trigger: \"body:not(:has(.modal))\",\n    },\n    {\n        trigger: '#oe_snippets.o_loaded',\n    },\n    {\n        trigger: \".o_website_preview.editor_enable.editor_has_snippets:not(.o_is_blocked)\"\n    },\n    // Edit a menu item\n    clickOnExtraMenuItem({}, true),\n    toggleMegaMenu({}),\n    {\n        content: \"Select the last menu link of the first column\",\n        trigger: ':iframe .s_mega_menu_odoo_menu .row > div:first-child .nav > :nth-child(6)', // 6th is the last one\n        run: \"click\",\n    },\n    {\n        content: \"Hit the delete button to remove the menu link\",\n        trigger: ':iframe .oe_overlay .oe_snippet_remove',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the last menu link was deleted\",\n        trigger: ':iframe .s_mega_menu_odoo_menu .row > div:first-child .nav:not(:has(:nth-child(6)))',\n    },\n    {\n        content: \"Click on the first title item.\",\n        trigger: ':iframe .o_mega_menu h4',\n        run: \"click\",\n    },\n    {\n        content: \"Press enter.\",\n        trigger: ':iframe .o_mega_menu h4',\n        run() {\n            this.anchor.dispatchEvent(\n                new window.InputEvent(\"input\", {bubbles: true, inputType: \"insertParagraph\"})\n            );\n        },\n    },\n    {\n        content: \"The menu should still be visible. Edit a menu item.\",\n        trigger: ':iframe .o_mega_menu h4',\n        // The content is removed in the previous step so it's now invisible.\n        run: \"editor New Menu Item\",\n    },\n    {\n        // If this step fails, it means that a patch inside bootstrap was lost.\n        content: \"Press the 'down arrow' key.\",\n        trigger: ':iframe .o_mega_menu h4',\n        run: \"press ArrowDown\",\n    },\n    ...clickOnSave(),\n    clickOnExtraMenuItem({}, true),\n    toggleMegaMenu(),\n    {\n        content: \"The menu item should have been renamed.\",\n        trigger: ':iframe .o_mega_menu h4:contains(\"New Menu Item\")',\n    },\n]);\nregisterWebsitePreviewTour(\"megamenu_active_nav_link\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n       // Add a megamenu item to the top menu.\n    {\n        content: \"Click on a menu item\",\n        trigger: \":iframe .top_menu .nav-item a\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Link' to open Link Dialog\",\n        trigger: \":iframe .o_edit_menu_popover a.js_edit_menu\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_website_dialog\",\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Mega Menu Item')\",\n        trigger: \".modal-body a:eq(1)\",\n        run: \"click\",\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: \".modal-dialog .o_website_dialog input\",\n        run: \"edit MegaTron\",\n    },\n    {\n        content: \"Confirm the mega menu label\",\n        trigger: \".modal .modal-footer .btn-primary:contains(ok)\",\n        run: \"click\",\n    },\n    {\n        trigger: `.oe_menu_editor [data-is-mega-menu=\"true\"] .js_menu_label:contains(\"MegaTron\")`,\n    },\n    {\n        content: \"Save the website menu with a new mega menu\",\n        trigger: \".modal-footer .btn-primary\",\n        run: \"click\",\n    },\n    {\n        trigger: \"#oe_snippets.o_loaded\",\n    },\n    {\n        content: \"Check for the new mega menu\",\n        trigger: `:iframe .top_menu:has(.nav-item a.o_mega_menu_toggle:contains(\"Megatron\"))`,\n    },\n    {\n        trigger: \".o_website_preview.editor_enable.editor_has_snippets:not(.o_is_blocked)\"\n    },\n    clickOnExtraMenuItem({}, true),\n    toggleMegaMenu({}),\n    {\n        content: \"Select the last menu link of the first column\",\n        trigger: \":iframe .s_mega_menu_odoo_menu .row > div:first-child .nav > :nth-child(6)\",\n        run: \"click\",\n    },\n    {\n        content: \"Click 'edit link' button if URL input is now shown\",\n        trigger: \"#create-link\",\n        async run(actions) {\n            // Note: the 'create-link' button is always here, however the input \n            // for the URL might not be.\n            // We have to consider both cases:\n            // 1. Single-app website build: a few menu, so no extra menu added \n            //    and the URL input is shown\n            // 2. Multi-app website build:  many menu, so extra menu added \n            //    and the URL input is not shown\n            if (!document.querySelector(\"#o_link_dialog_url_input\")) {\n                await actions.click();\n            }\n        },\n    },\n    {\n        content: \"Change the link\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"edit /new_page\"\n    },\n    ...clickOnSave(),\n    clickOnExtraMenuItem({}, true),\n    toggleMegaMenu(),\n    {\n        content: \"Click on the last menu link of the first column\",\n        trigger: \":iframe .s_mega_menu_odoo_menu .row > div:first-child .nav > :nth-child(6)\",\n        run: \"click\",\n    },\n    {\n        content: \"Check if the new mega menu is active\",\n        trigger: `:iframe .top_menu:has(.nav-item a.o_mega_menu_toggle.active:contains(\"MegaTron\"))`,\n    },\n])\nregisterWebsitePreviewTour('edit_megamenu_big_icons_subtitles', {\n    url: '/',\n    edition: true,\n}, () => [\n    // Add a megamenu item to the top menu.\n    {\n        content: \"Click on a menu item\",\n        trigger: ':iframe .top_menu .nav-item a',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Link' to open Link Dialog\",\n        trigger: ':iframe .o_edit_menu_popover a.js_edit_menu',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_website_dialog\",\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Mega Menu Item')\",\n        trigger: '.modal-body a:eq(1)',\n        run: \"click\",\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input',\n        run: \"edit Megaaaaa2!\",\n    },\n    {\n        content: \"Confirm the mega menu label\",\n        trigger: \".modal .modal-footer .btn-primary:contains(ok)\",\n        run: \"click\",\n    },\n    {\n        trigger: '.oe_menu_editor [data-is-mega-menu=\"true\"] .js_menu_label:contains(\"Megaaaaa2!\")',\n    },\n    {\n        content: \"Save the website menu with a new mega menu\",\n        trigger: '.modal-footer .btn-primary',\n        run: \"click\",\n    },\n    {\n        trigger: '#oe_snippets.o_loaded',\n    },\n    {\n        content: \"Check for the new mega menu\",\n        trigger: ':iframe .top_menu:has(.nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa2!\"))',\n    },\n    {\n        trigger: \".o_website_preview.editor_enable.editor_has_snippets:not(.o_is_blocked)\"\n    },\n    // Edit a menu item\n    clickOnExtraMenuItem({}, true),\n    toggleMegaMenu({}),\n    {\n        content: \"Select the first menu link of the first column\",\n        trigger: ':iframe .s_mega_menu_odoo_menu .row > div:first-child .nav > :first-child',\n        run: \"click\",\n    },\n    changeOption(\"MegaMenuLayout\", \"we-toggler\"),\n    {\n        content: \"Select Big Icons Subtitles mega menu\",\n        trigger: '[data-select-label=\"Big Icons Subtitles\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Select the h4 of first menu link of the first column\",\n        trigger: ':iframe .s_mega_menu_big_icons_subtitles .row > div:first-child .nav > :first-child h4',\n        async run(actions) {\n            // Clicking on the h4 element first time leads to the selection of\n            // the entire a.nav-link, due to presence of `o_default_snippet_text` class\n            // hence, specify the selection on the h4 element\n            await actions.click();\n            const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n            const range = iframeDocument.createRange();\n            range.selectNodeContents(this.anchor);\n            const sel = iframeDocument.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n        },\n    },\n    {\n        content: \"Convert it to Bold\",\n        trigger: '#oe_snippets #toolbar #bold',\n        run: \"click\",\n    },\n    ...clickOnSave(),\n    clickOnExtraMenuItem({}, true),\n    toggleMegaMenu(),\n    {\n        content: \"The menu item should only convert selected text to Bold.\",\n        trigger: ':iframe .s_mega_menu_big_icons_subtitles .row > div:first-child .nav > :first-child span:not(:has(strong))',\n    },\n]);\n", "/** @odoo-module */\n\nimport { delay } from '@odoo/hoot-dom';\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnExtraMenuItem,\n    clickOnSave,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('edit_menus', {\n    url: '/',\n}, () => [\n    // Add a megamenu item from the menu.\n    {\n        trigger: \":iframe #wrapwrap\",\n    },\n    {\n        content: \"open site menu\",\n        trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: 'a[data-menu-xmlid=\"website.menu_edit_menu\"]',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_website_dialog:visible\",\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Mega Menu Item')\",\n        trigger: '.modal:not(.o_inactive_modal) .modal-body a:eq(1)',\n        run: \"click\",\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: '.modal:not(.o_inactive_modal) .modal-dialog .o_website_dialog input',\n        run: \"edit Megaaaaa!\",\n    },\n    {\n        content: \"Confirm the mega menu label\",\n        trigger: \".modal:not(.o_inactive_modal) .modal-footer .btn-primary:contains(ok)\",\n        run: \"click\",\n    },\n    {\n        trigger: '.oe_menu_editor [data-is-mega-menu=\"true\"] .js_menu_label:contains(\"Megaaaaa!\")',\n    },\n    {\n        content: \"Save the new menu\",\n        trigger: '.modal-footer .btn-primary',\n        run: \"click\",\n    },\n    {\n        trigger: \"body:not(:has(.oe_menu_editor))\",\n    },\n    {\n        trigger: \":iframe body:contains(welcome to your)\",\n    },\n    clickOnExtraMenuItem({}, true),\n    {\n        content: \"There should be a new megamenu item.\",\n        trigger: ':iframe .top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")',\n    },\n    // Add a menu item in edit mode.\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: \"Click on a menu item\",\n        trigger: \":iframe .top_menu .nav-item a\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: ':iframe .o_edit_menu_popover a.js_edit_menu',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_website_dialog:visible\",\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Menu Item')\",\n        trigger: '.modal-body a:eq(0)',\n        run: \"click\",\n    },\n    {\n        trigger: \".modal:not(.o_inactive_modal) .modal-dialog .o_website_dialog input:eq(0)\",\n    },\n    {\n        content: \"Confirm the new menu entry without a label\",\n        trigger: \".modal:not(.o_inactive_modal) .modal-footer .btn-primary:contains(ok)\",\n        run: \"click\",\n    },\n    {\n        content: \"It didn't save without a label. Fill label input.\",\n            trigger: \".modal:not(.o_inactive_modal) .modal-dialog .o_website_dialog input:eq(0)\",\n        run: \"edit Random!\",\n    },\n    {\n        content: \"Confirm the new menu entry without a url\",\n        trigger: \".modal:not(.o_inactive_modal) .modal-footer .btn-primary:contains(ok)\",\n        run: \"click\",\n    },\n    {\n        trigger: \".modal:not(.o_inactive_modal) .modal-dialog .o_website_dialog input.is-invalid\",\n    },\n    {\n        content: \"It didn't save without a url. Fill url input.\",\n        trigger: '.modal:not(.o_inactive_modal) .modal-dialog .o_website_dialog input:eq(1)',\n        run: \"edit #\",\n    },\n    {\n        content: \"Confirm the new menu entry\",\n        trigger: \".modal:not(.o_inactive_modal) .modal-footer .btn-primary:contains(ok)\",\n        run: \"click\",\n    },\n    {\n        trigger: '.oe_menu_editor .js_menu_label:contains(\"Random!\")',\n    },\n    {\n        content: \"Save the website menu with the new entry\",\n        trigger: '.modal:not(.o_inactive_modal) .modal-footer .btn-primary',\n        run: \"click\",\n    },\n    {\n        trigger: \"body:not(:has(.modal))\",\n    },\n    {\n        trigger: \"#oe_snippets.o_loaded\",\n    },\n    // Edit the new menu item from the \"edit link\" popover button\n    clickOnExtraMenuItem({}, true),\n    {\n        trigger: \".o_website_preview.editor_enable.editor_has_snippets:not(.o_is_blocked)\",\n    },\n    {\n        content: \"Menu should have a new link item\",\n        trigger: ':iframe .top_menu .nav-item a:contains(\"Random!\")',\n        // Don't click the new menu when the editor is still blocked.\n        run: \"click\",\n    },\n    {\n        content: \"navbar shouldn't have any zwnbsp and no o_link_in_selection class\",\n        trigger: ':iframe nav.navbar:not(:has(.o_link_in_selection)):not(:contains(\"\\ufeff\"))',\n    },\n    {\n        content: \"Click on Edit Link\",\n        trigger: ':iframe .o_edit_menu_popover a.o_we_edit_link',\n        run: \"click\",\n    },\n    {\n        content: \"Change the label\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        run: \"edit Modnar\",\n    },\n    {\n        content: \"Confirm the new label\",\n        trigger: '.modal-footer .btn-primary',\n        run: \"click\",\n    },\n    ...clickOnSave(),\n    clickOnExtraMenuItem({}, true),\n    {\n        content: \"Label should have changed\",\n        trigger: ':iframe .top_menu .nav-item a:contains(\"Modnar\")',\n    },\n    // Edit the menu item from the \"edit menu\" popover button\n    ...clickOnEditAndWaitEditMode(),\n    clickOnExtraMenuItem({}, true),\n    {\n        content: \"Click on the 'Modnar' link\",\n        trigger: ':iframe .top_menu .nav-item a:contains(\"Modnar\")',\n        run: \"click\",\n    },\n    {\n        content: \"Click on the popover Edit Menu button\",\n        trigger: ':iframe .o_edit_menu_popover a.js_edit_menu',\n        run: \"click\",\n    },\n    {\n        content: \"Click on the dialog Edit Menu button\",\n        trigger: '.oe_menu_editor .js_menu_label:contains(\"Modnar\")',\n        run() {\n            const liEl = this.anchor.closest('[data-menu-id]');\n            liEl.querySelector('button.js_edit_menu').click();\n        },\n    },\n    {\n        content: \"Change the label\",\n        trigger: \".modal:not(.o_inactive_modal) .modal-dialog .o_website_dialog input:eq(0)\",\n        run: \"edit Modnar !!\",\n    },\n    {\n        content: \"Confirm the new menu label\",\n        trigger: \".modal:not(.o_inactive_modal) .modal-footer button:contains(ok)\",\n        run: \"click\",\n    },\n    {\n        trigger: '.oe_menu_editor .js_menu_label:contains(\"Modnar !!\")',\n    },\n    {\n        content: \"Save the website menu with the new menu label\",\n        trigger: \".modal:not(.o_inactive_modal) .modal-footer button:contains(save)\",\n        run: \"click\",\n    },\n    // Drag a block to be able to scroll later.\n    ...insertSnippet({id: \"s_media_list\", name: \"Media List\", groupName: \"Content\"}),\n    ...clickOnSave(),\n    clickOnExtraMenuItem({}, true),\n    {\n        content: \"Label should have changed\",\n        trigger: ':iframe .top_menu .nav-item a:contains(\"Modnar !!\")',\n    },\n    // Nest menu item from the menu.\n    {\n        content: \"open site menu\",\n        trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: 'a[data-menu-xmlid=\"website.menu_edit_menu\"]',\n        run: \"click\",\n    },\n    {\n        content: `Drag \"Contact Us\" menu below \"Home\" menu`,\n        trigger: '.oe_menu_editor li:contains(\"Contact us\") .fa-bars',\n        run(helpers) {\n            return helpers.drag_and_drop('.oe_menu_editor li:contains(\"Home\")', {\n                position: {\n                    top: 57,\n                    left:5,\n                },\n                relative: true,\n            });\n        },\n    },\n    {\n        content: \"Drag 'Contact Us' item as a child of the 'Home' item\",\n        trigger: '.oe_menu_editor li:contains(\"Contact us\") .fa-bars',\n        run: 'drag_and_drop .oe_menu_editor li:contains(\"Contact us\") .form-control',\n    },\n    {\n        content: \"Wait for drop\",\n        trigger: '.oe_menu_editor li:contains(\"Home\") ul li:contains(\"Contact us\")',\n    },\n    // Drag the Mega menu to the first position.\n    {\n        content: \"Drag Mega at the top\",\n        trigger: '.oe_menu_editor li:contains(\"Megaaaaa!\") .fa-bars',\n        run(helpers) {\n            return helpers.drag_and_drop(\".oe_menu_editor li:contains('Home') .fa-bars\", {\n                position : {\n                    top: 20,\n                },\n                relative: true,\n            });\n        },\n    },\n    {\n        content: \"Wait for drop\",\n        trigger: '.oe_menu_editor:first-child:contains(\"Megaaaaa!\")',\n    },\n    {\n        content: \"Save the website menu with new nested menus\",\n        trigger: '.modal-footer .btn-primary',\n        run: \"click\",\n    },\n    {\n        content: \"Menu item should have a child\",\n        trigger: ':iframe .top_menu .nav-item a.dropdown-toggle:contains(\"Home\")',\n        run: \"click\",\n    },\n    // Check that with the auto close of dropdown menus, the dropdowns remain\n    // openable.\n    {\n        content: \"When menu item is opened, child item must appear in the shown menu\",\n        trigger: ':iframe .top_menu .nav-item:contains(\"Home\") ul.show li a.dropdown-item:contains(\"Contact us\")[href=\"/contactus\"]',\n        run() {\n            // Scroll down.\n            this.anchor.closest(\"body\").querySelector(\".o_footer_copyright_name\")\n                .scrollIntoView(true);\n        },\n    },\n    {\n        content: \"The Home menu should be closed\",\n        trigger: ':iframe .top_menu .nav-item:contains(\"Home\"):has(ul:not(.show))',\n    },\n    {\n        content: \"Open the Home menu after scroll\",\n        trigger: ':iframe .top_menu .nav-item a.dropdown-toggle:contains(\"Home\")',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the Home menu is opened\",\n        trigger: ':iframe .top_menu .nav-item:contains(\"Home\") ul.show li' +\n            ' a.dropdown-item:contains(\"Contact us\")[href=\"/contactus\"]',\n    },\n    {\n        content: \"Close the Home menu\",\n        trigger: ':iframe .top_menu .nav-item:has(a.dropdown-toggle:contains(\"Home\"))',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the Home menu is closed\",\n        trigger: ':iframe .top_menu .nav-item:contains(\"Home\"):has(ul:not(.show))',\n    },\n    {\n        content: \"Open the mega menu\",\n        trigger: ':iframe .top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")',\n        run: \"click\",\n    },\n    {\n        content: \"When the mega menu is opened, scroll up\",\n        trigger: \":iframe .top_menu .o_mega_menu_toggle.show\",\n        run() {\n            const marginTopOfMegaMenu = getComputedStyle(\n                this.anchor.closest(\".dropdown\").querySelector(\".o_mega_menu\"))[\"margin-top\"];\n            if (marginTopOfMegaMenu !== '0px') {\n                console.error('The margin-top of the mega menu should be 0px');\n            }\n            // Scroll up.\n            this.anchor.closest(\"body\").querySelector(\".s_media_list_item:nth-child(2)\")\n                .scrollIntoView(true);\n        }\n    },\n    {\n        content: \"Check that the mega menu is closed\",\n        trigger: ':iframe .top_menu .nav-item:contains(\"Megaaaaa!\"):has(div[data-name=\"Mega Menu\"]:not(.show))',\n    },\n    {\n        content: \"Open the mega menu after scroll\",\n        trigger: ':iframe .top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the mega menu is opened\",\n        trigger: ':iframe .top_menu .nav-item:has(a.o_mega_menu_toggle:contains(\"Megaaaaa!\")) ' +\n                 '.s_mega_menu_odoo_menu',\n    },\n    ...clickOnEditAndWaitEditMode(),\n    {\n        trigger: \":iframe main section.s_media_list .s_media_list_item:eq(2) h3:contains(post)\",\n    },\n    {\n        content: \"Open nested menu item\",\n        trigger: ':iframe .o_header_is_scrolled.o_top_fixed_element .nav-item:contains(\"Home\"):nth-child(2) .dropdown-toggle',\n        async run(actions) {\n            // If you scroll after click on dropdown, nested menu disappears.\n            await delay(500);\n            // So wait that scroll is finished before click.\n            await actions.click();\n        },\n    },\n    {\n        // If this step fails, it means that a patch inside bootstrap was lost.\n        content: \"Press the 'down arrow' key.\",\n        trigger: ':iframe .top_menu .nav-item:contains(\"Home\") li:contains(\"Contact us\")',\n        run: \"press ArrowDown\",\n    },\n    ...clickOnSave(),\n    // Nest and re-arrange menu items for a newly created menu\n    {\n        content: \"Open site menu\",\n        trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: 'a[data-menu-xmlid=\"website.menu_edit_menu\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Trigger link dialog (click 'Add Menu Item')\",\n        trigger: '.modal-body a:eq(0)',\n        run: \"click\",\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        run: \"edit new_menu\",\n    },\n    {\n        content: \"Write a url for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(1)',\n        run: \"edit #\",\n    },\n    {\n        content: \"Confirm the new menu entry\",\n        trigger: '.modal:not(.o_inactive_modal) .modal-footer .btn-primary:contains(ok)',\n        run: \"click\",\n    },\n    {\n        content: \"Check if new menu(new_menu) is added\",\n        trigger: '.oe_menu_editor li:contains(\"new_menu\")',\n    },\n    {\n        content: \"Trigger link dialog (click 'Add Menu Item')\",\n        trigger: '.modal-body a:eq(0)',\n        run: \"click\",\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        run: \"edit new_nested_menu\",\n    },\n    {\n        content: \"Write a url for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(1)',\n        run: \"edit #\",\n    },\n    {\n        content: \"Confirm the new menu entry\",\n        trigger: '.modal:not(.o_inactive_modal) .modal-footer .btn-primary:contains(ok)',\n        run: \"click\",\n    },\n    {\n        content: \"Check if new menu(new_nested_menu) is added\",\n        trigger: '.oe_menu_editor li:contains(\"new_nested_menu\")',\n    },\n    {\n        content: \"Nest 'new_nested_menu' under 'new_menu'\",\n        trigger: '.oe_menu_editor li:contains(\"new_nested_menu\") .fa-bars',\n        run: \"drag_and_drop .oe_menu_editor li:contains('new_menu') .form-control\",\n    },\n    {\n        content: \"Drag 'Modnar !!' below 'new_menu'\",\n        trigger: '.oe_menu_editor li:contains(\"Modnar !!\") .fa-bars',\n        async run(helpers) {\n            await helpers.drag_and_drop('.oe_menu_editor li:contains(\"new_menu\") .fa-bars', {\n                position: \"bottom\",\n            });\n        },\n    },\n    {\n        content: \"Nest 'Modnar !!' under 'new_menu'\",\n        trigger: '.oe_menu_editor li:contains(\"Modnar !!\") .fa-bars',\n        run: \"drag_and_drop .oe_menu_editor li:contains('new_menu') .form-control\",\n    },\n    {\n        content: \"Check if 'nested_menu' and 'Modnar !!' is nested under 'new_menu'\",\n        trigger: '.oe_menu_editor li:contains(\"new_menu\") > ul > li:contains(\"Modnar !!\") + li:contains(\"nested_menu\")',\n    },\n    {\n        content: \"Move 'Modnar !!' below 'new_nested_menu' inside the 'new_menu'\",\n        trigger: '.oe_menu_editor  li:contains(\"new_menu\") > ul > li:contains(\"Modnar !!\") .fa-bars',\n        async run(helpers) {\n            await helpers.drag_and_drop(\".oe_menu_editor  li:contains('new_menu') > ul > li:contains('new_nested_menu') .fa-bars\", {\n                position: \"bottom\",\n            });\n        },\n    },\n    {\n        content: \"Check if 'Modnar !!' is now below 'new_nested_menu' in 'new_menu'\",\n        trigger: '.oe_menu_editor li:contains(\"new_menu\") > ul > li:last-child:contains(\"Modnar !!\")',\n    },\n]);\n\nregisterWebsitePreviewTour(\n    \"edit_menus_delete_parent\",\n    {\n        url: \"/\",\n    },\n    () => [\n        {\n            trigger: \":iframe #wrapwrap\",\n        },\n        {\n            content: \"Open site menu\",\n            trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Click on Edit Menu\",\n            trigger: 'a[data-menu-xmlid=\"website.menu_edit_menu\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Delete Home menu\",\n            trigger: \".modal-body ul li:nth-child(1) button.js_delete_menu\",\n            run: \"click\",\n        },\n        {\n            content: \"Save\",\n            trigger: \".modal-footer button:first-child\",\n            run: \"click\",\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { clickOnEditAndWaitEditModeInTranslatedPage } from \"@website/js/tours/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('edit_translated_page_redirect', {\n    url: '/nl/contactus',\n    steps: () => [\n    {\n        content: \"Enter backend\",\n        trigger: 'a.o_frontend_to_backend_edit_btn',\n        run: \"click\",\n    },\n    {\n        content: \"Check the data-for attribute\",\n        trigger: ':iframe main:has([data-for=\"contactus_form\"])',\n    },\n    ...clickOnEditAndWaitEditModeInTranslatedPage(),\n    {\n        content: \"Go to /nl\",\n        trigger: \"body\",\n        run: () => {\n            // After checking the presence of the editor dashboard, we visit a\n            // translated version of the homepage. The homepage is a special\n            // case (there is no trailing slash), so we test it separately.\n            location.href = '/nl';\n        },\n    },\n    {\n        content: \"Enter backend\",\n        trigger: 'a.o_frontend_to_backend_edit_btn',\n        run: \"click\",\n    },\n    ...clickOnEditAndWaitEditModeInTranslatedPage(),\n]});\n", "/** @odoo-module **/\n\nimport {\n    changeOption,\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour(\"editable_root_as_custom_snippet\", {\n    edition: true,\n    url: '/custom-page',\n}, () => [\n    ...clickOnSnippet('.s_title.custom[data-oe-model][data-oe-id][data-oe-field][data-oe-xpath]'),\n    changeOption('SnippetSave', 'we-button'),\n    {\n        content: \"Confirm modal\",\n        trigger: '.modal-footer .btn-primary',\n        run: \"click\",\n    },\n    {\n        content: \"Wait for the custom category to appear in the panel\",\n        trigger: '.oe_snippet[name=\"Custom\"]',\n    },\n    ...clickOnSave(),\n    {\n        content: \"Go to homepage\",\n        trigger: ':iframe a[href=\"/\"].nav-link',\n        run: \"click\",\n    },\n    {\n        content: \"Wait to land on homepage\",\n        trigger: ':iframe a[href=\"/\"].nav-link.active',\n    },\n    ...clickOnEditAndWaitEditMode(),\n    ...insertSnippet({id: \"s_title\", name: \"Custom Title\", groupName: \"Custom\"}),\n    {\n        content: \"Check that the custom snippet does not have branding\",\n        trigger: ':iframe #wrap .s_title.custom:not([data-oe-model]):not([data-oe-id]):not([data-oe-field]):not([data-oe-xpath])',\n    },\n]);\n", "/** @odoo-module **/\n\nimport { insertSnippet, registerWebsitePreviewTour } from '@website/js/tours/tour_utils';\n\nconst blockIDToData = {\n    parent: {\n        selector: ':iframe .s_focusblur',\n        name: 'section',\n        overlayIndex: 2,\n    },\n    child1: {\n        selector: ':iframe .s_focusblur_child1',\n        name: 'first child',\n        overlayIndex: 0,\n    },\n    child2: {\n        selector: ':iframe .s_focusblur_child2',\n        name: 'second child',\n        overlayIndex: 1,\n    },\n};\n\nfunction clickAndCheck(blockID, expected) {\n    const blockData = blockIDToData[blockID] || {};\n\n    return [{\n        content: blockID ? `Enable the ${blockData.name}` : 'Disable all blocks',\n        trigger: blockData.selector || ':iframe #wrapwrap',\n        run: \"click\",\n    }, {\n        content: 'Once the related overlays are enabled/disabled, check that the focus/blur calls have been correct.',\n        trigger: blockID\n            ? `:iframe .oe_overlay.o_draggable:eq(${blockData.overlayIndex}).oe_active`\n            : `:iframe #oe_manipulators:not(:has(.oe_active)):not(:visible)`,\n        run() {\n            const result = window.focusBlurSnippetsResult;\n            window.focusBlurSnippetsResult = [];\n\n            if (expected.length !== result.length\n                || !expected.every((item, i) => item === result[i])) {\n                throw new Error(`\n                    Expected: ${expected.toString()}\n                    Result: ${result.toString()}\n                `);\n            }\n        },\n    }];\n}\n\nwindow.focusBlurSnippetsResult = [];\n\nregisterWebsitePreviewTour(\"focus_blur_snippets\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_focusblur\",\n        name: \"s_focusblur\",\n        groupName: \"Content\",\n    }),\n    ...clickAndCheck('parent', ['focus parent']),\n    ...clickAndCheck(null, ['blur parent']),\n    ...clickAndCheck('child1', ['focus parent', 'focus child1']),\n    ...clickAndCheck('child1', []),\n    ...clickAndCheck(null, ['blur parent', 'blur child1']),\n    ...clickAndCheck('parent', ['focus parent']),\n    ...clickAndCheck('child1', ['blur parent', 'focus parent', 'focus child1']),\n    ...clickAndCheck('child2', ['blur parent', 'blur child1', 'focus parent', 'focus child2']),\n    ...clickAndCheck('parent', ['blur parent', 'blur child2', 'focus parent']),\n]);\n", "import { registerWebsitePreviewTour, goToTheme } from \"@website/js/tours/tour_utils\";\nimport { patch } from \"@web/core/utils/patch\";\n\nregisterWebsitePreviewTour(\n    \"website_font_family\",\n    {\n        url: \"/\",\n        edition: true,\n    },\n    () => [\n        ...goToTheme(),\n        {\n            content: \"Click on the heading font family selector\",\n            trigger: \"we-select[data-variable='headings-font']\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on the 'Arvo' font we-button from the font selection list.\",\n            trigger: \"we-selection-items we-button[data-font-family='Arvo']\",\n            run: \"click\",\n        },\n        {\n            content: \"Verify that the 'Arvo' font family is correctly applied to the heading.\",\n            trigger: \"we-toggler[style*='font-family: Arvo;']\",\n        },\n        {\n            content: \"Open the heading font family selector\",\n            trigger: \"we-toggler[style*='font-family: Arvo;']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"we-select[data-variable='headings-font']\",\n            // This is a workaround to prevent the _reloadBundles method from being called.\n            // It addresses the issue where selecting a we-button with data-no-bundle-reload,\n            // such as o_we_add_font_btn.\n            run: function () {\n                const options = odoo.loader.modules.get(\"@web_editor/js/editor/snippets.options\")[\n                    Symbol.for(\"default\")\n                ];\n                patch(options.Class.prototype, {\n                    async _refreshBundles() {\n                        console.error(\"The font family selector value get reload to its default.\");\n                    },\n                });\n            },\n        },\n        {\n            content: \"Click on the 'Add a custom font' button\",\n            trigger: \"we-select[data-variable='headings-font'] .o_we_add_font_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait for the modal to open and then refresh\",\n            trigger: \"body .o_dialog button.btn-secondary\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that 'Arvo' font family is still applied and not reverted\",\n            trigger: \"we-toggler[style*='font-family: Arvo;']\",\n        },\n    ]\n);\n", "/** @odoo-module **/\nimport { goBackToBlocks, goToTheme, registerWebsitePreviewTour } from '@website/js/tours/tour_utils';\n\nfunction waitForCSSReload() {\n    // TODO we should find a better way to wait for this in tests after CSS\n    // reload, it is currently done multiple different ways depending on the\n    // test.\n    return [\n        // This step is here because the option is applied but triggers a\n        // reloading of the CC value, so if the second value is sent too soon,\n        // it will be ignored. Clicking on the snippet tab and back will ensure\n        // that the mutex is cleared, and therefore we can apply the saturation\n        // step.\n        goBackToBlocks(),\n        ...goToTheme(),\n        {\n            content: \"Wait for no loading\",\n            trigger: 'body:not(:has(.o_we_ui_loading)) :iframe body:not(:has(.o_we_ui_loading))',\n        },\n    ];\n}\n\nregisterWebsitePreviewTour('website_gray_color_palette', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...goToTheme(),\n    {\n        content: \"Toggle gray color palette\",\n        trigger: '.o_we_gray_preview.o_we_collapse_toggler',\n        run: \"click\",\n    },\n    {\n        content: \"Drag the hue slider\",\n        trigger: '.o_we_slider_tint[data-param=\"gray-hue\"] input',\n        run: \"range 100\",\n    },\n    {\n        content: \"Wait for loading\",\n        trigger: \":iframe body:has(.o_we_ui_loading)\",\n    },\n    {\n        content: \"Check the preview of the gray 900 after hue change\",\n        trigger: '[variable=\"900\"][style=\"background-color: rgb(36, 41, 33) !important;\"]',\n    },\n    ...waitForCSSReload(),\n    {\n        content: \"Drag the saturation slider\",\n        trigger: '.o_we_user_value_widget[data-param=\"gray-extra-saturation\"] input',\n        run: \"range 15\",\n    },\n    {\n        content: \"Wait for loading\",\n        trigger: \":iframe body:has(.o_we_ui_loading)\",\n    },\n    {\n        content: \"Check the preview of the gray 900 after saturation change\",\n        trigger: '[variable=\"900\"][style=\"background-color: rgb(34, 47, 27) !important;\"]',\n    },\n    ...waitForCSSReload(),\n    {\n        content: \"Wait for the iframe to be loaded\",\n        trigger: ':iframe body',\n        run() {\n            const iframeEl = document.querySelector('.o_website_preview .o_iframe');\n            const styles = iframeEl.contentWindow.getComputedStyle(iframeEl.contentDocument.documentElement);\n            if (styles.getPropertyValue('--900').toString().replace(/ /g, '') !== '#222F1B') {\n                throw new Error('The value for the gray 900 is not right');\n            }\n        }\n    },\n]);\n", "/** @odoo-module **/\n\nimport {\n    changeOption,\n    clickOnSave,\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nconst snippet = {\n    id: 's_text_image',\n    name: 'Text - Image',\n    groupName: \"Content\",\n};\n\nregisterWebsitePreviewTour('website_replace_grid_image', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...insertSnippet(snippet),\n    ...clickOnSnippet(snippet),\n    {\n        content: \"Toggle to grid mode\",\n        trigger: '.o_we_user_value_widget[data-name=\"grid_mode\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Replace image\",\n        trigger: ':iframe .s_text_image img',\n        run: 'dblclick',\n    },\n    {\n        content: \"Pick new image\",\n        trigger: '.o_select_media_dialog img[title=\"s_banner_default_image.jpg\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Add new image column\",\n        trigger: '.o_we_user_value_widget[data-add-element=\"image\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Pick new image\",\n        trigger: '.o_select_media_dialog img[title=\"s_banner_default_image2.jpg\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Replace new image\",\n        trigger: ':iframe .s_text_image img[src*=\"s_banner_default_image2.jpg\"]',\n        run: 'dblclick',\n    },\n    {\n        content: \"Pick new image\",\n        trigger: '.o_select_media_dialog img[title=\"s_banner_default_image.jpg\"]',\n        run: \"click\",\n    },\n    ...clickOnSave()\n]);\n\nregisterWebsitePreviewTour(\"scroll_to_new_grid_item\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    // Drop enough snippets to scroll.\n    ...insertSnippet({id: \"s_text_image\", name: \"Text - Image\", groupName: \"Content\"}),\n    ...insertSnippet({id: \"s_image_text\", name: \"Image - Text\", groupName: \"Content\"}),\n    ...insertSnippet({id: \"s_image_text\", name: \"Image - Text\", groupName: \"Content\"}),\n    // Toggle the first snippet to grid mode.\n    ...clickOnSnippet({id: \"s_text_image\", name: \"Text - Image\"}),\n    changeOption(\"layout_column\", 'we-button[data-name=\"grid_mode\"]'),\n    // Add a new grid item.\n    changeOption(\"layout_column\", 'we-button[data-add-element=\"image\"]'),\n    {\n        content: \"Select the new image in the media dialog\",\n        trigger: '.o_select_media_dialog img[title=\"s_banner_default_image.jpg\"]',\n        run: \"click\",\n    }, {\n        content: \"Check that the page scrolled to the new grid item\",\n        trigger: \":iframe .s_text_image .o_grid_item:nth-child(3)\",\n        async run() {\n            // Leave some time to the page to scroll.\n            await new Promise((r) => setTimeout(r, 500));\n            const newItemPosition = this.anchor.getBoundingClientRect();\n            if (newItemPosition.top < 0) {\n                throw new Error(\"The page did not scroll to the new grid item.\");\n            }\n            document.body.classList.add(\"o_scrolled_to_grid_item\");\n        },\n    }, {\n        content: \"Make sure the scroll check is done\",\n        trigger: \".o_scrolled_to_grid_item\",\n    },\n    ...clickOnSave(),\n]);\n", "/** @odoo-module**/\n/* global ace */\n\nimport {clickOnSave, registerWebsitePreviewTour } from \"@website/js/tours/tour_utils\";\n\nconst adminCssModif = '#wrap {display: none;}';\nconst demoCssModif = '// demo_edition';\n\nregisterWebsitePreviewTour('html_editor_language', {\n    url: '/test_page',\n}, () => [\n    {\n        content: \"Wait the content is loaded and html/css editor is in menu before clicking on open site menu\",\n        trigger: \":iframe main:contains(rommelpot)\",\n    },\n    {\n    content: \"open site menu\",\n    trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n    run: \"click\",\n}, {\n    content: \"open html editor\",\n    trigger: 'a[data-menu-xmlid=\"website.menu_ace_editor\"]',\n    run: \"click\",\n}, {\n    content: \"add something in the page's default language version\",\n    trigger: 'div.ace_line .ace_xml:contains(\"rommelpot\")',\n    run: () => {\n        ace.edit(document.querySelector('#resource-editor div')).getSession().insert({\n            row: 1,\n            column: 1,\n        }, '<div class=\"test_language\"/>\\n');\n    },\n}, {\n    content: \"save the html editor\",\n    trigger: 'body:has(div.ace_line .ace_xml:contains(\"test_language\")) .o_resource_editor .btn-primary',\n    run: \"click\",\n}, {\n    content: \"check that the page has the modification\",\n    trigger: ':iframe #wrapwrap:has(.test_language)',\n}, {\n    content: \"check that the page has not lost the original text\",\n    trigger: ':iframe #wrapwrap:contains(\"rommelpot\")',\n}]\n);\n\nregisterWebsitePreviewTour('html_editor_multiple_templates', {\n    url: '/generic',\n    edition: true,\n},\n    () => [\n        {\n            content: \"drop a snippet group\",\n            trigger: \"#oe_snippets .oe_snippet[name=Intro].o_we_draggable .oe_snippet_thumbnail\",\n            // id starting by 'oe_structure..' will actually create an inherited view\n            run: \"drag_and_drop :iframe #oe_structure_test_ui\",\n        },\n        {\n            content: \"Click on the s_cover snippet\",\n            trigger: ':iframe .o_snippet_preview_wrap[data-snippet-id=\"s_cover\"]',\n            run: \"click\",\n        },\n        ...clickOnSave(),\n        // 2. Edit generic view\n        {\n            content: \"open site menu\",\n            trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n            run: \"click\",\n        },\n        {\n            content: \"open html editor\",\n            trigger: 'a[data-menu-xmlid=\"website.menu_ace_editor\"]',\n            run: \"click\",\n        },\n        {\n            content: \"add something in the generic view\",\n            trigger: 'div.ace_line .ace_xml:contains(\"Generic\")',\n            run() {\n                ace.edit(document.querySelector('#resource-editor div')).getSession().insert({row: 3, column: 1}, '<p>somenewcontent</p>\\n');\n            },\n        },\n        // 3. Edit oe_structure specific view\n        {\n            content: \"select oe_structure specific view\",\n            trigger: 'div.ace_line .ace_xml:contains(\"somenewcontent\")',\n        },\n        {\n            content: \"open file selector menu\",\n            trigger: \".o_resource_editor .o_select_menu_toggler\",\n            run: \"click\",\n        },\n        {\n            content: \"open oe_structure_test_ui view\",\n            trigger: \".o-dropdown--menu .o-dropdown-item:contains(oe_structure_test_ui)\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_resource_editor .o_select_menu_toggler:contains(\"oe_structure_test_ui\")',\n        },\n        {\n            content: \"add something in the oe_structure specific view\",\n            trigger: 'div.ace_line .ace_xml:contains(\"s_cover\")',\n            run() {\n                ace.edit(document.querySelector('#resource-editor div')).getSession().insert({row: 2, column: 1}, '<p>anothernewcontent</p>\\n');\n            },\n        },\n        {\n            trigger: 'div.ace_line .ace_xml:contains(\"anothernewcontent\")',\n        },\n        {\n            content: \"save the html editor\",\n            trigger: \".o_resource_editor button:contains(Save)\",\n            run: \"click\",\n        },\n        {\n            trigger: ':iframe #wrapwrap:contains(\"anothernewcontent\")',\n        },\n        {\n           content: \"check that the page has both modification\",\n           trigger: ':iframe #wrapwrap:contains(\"somenewcontent\")',\n       },\n    ]\n);\n\nregisterWebsitePreviewTour('test_html_editor_scss', {\n    url: '/contactus',\n},\n    () => [\n        // 1. Open Html Editor and select a scss file\n        {\n            trigger: \":iframe #wrap:visible\", // ensure state for later\n        },\n        {\n            trigger: \":iframe h1:contains(contact us)\",\n        },\n        {\n            trigger: \":iframe input[name=company]\",\n        },\n        {\n            content: \"open site menu\",\n            trigger: 'nav button[data-menu-xmlid=\"website.menu_site\"]:contains(site)',\n            run: \"click\",\n        },\n        {\n            content: \"open html editor\",\n            trigger: '.o_popover a[data-menu-xmlid=\"website.menu_ace_editor\"]:contains(/^HTML/)',\n            run: \"click\",\n        },\n        {\n            content: \"open type switcher\",\n            trigger: '.o_resource_editor_type_switcher button',\n            run: \"click\",\n        },\n        {\n            content: \"select scss files\",\n            trigger: '.o-dropdown--menu .dropdown-item:contains(\"SCSS\")',\n            run: \"click\",\n        },\n        {\n            content: \"select 'user_custom_rules'\",\n            trigger: '.o_resource_editor .o_select_menu_toggler:contains(\"user_custom_rules\")',\n        },\n        // 2. Edit that file and ensure it was saved then reset it\n        {\n            content: \"add some scss content in the file\",\n            trigger: 'div.ace_line .ace_comment:contains(\"footer {\")',\n            run() {\n                ace.edit(document.querySelector('#resource-editor div')).getSession().insert({row: 2, column: 0}, `${adminCssModif}\\n`);\n            },\n        },\n        {\n            trigger: `div.ace_line:contains(\"${adminCssModif}\")`,\n        },\n        {\n            content: \"save the html editor\",\n            trigger: \".o_resource_editor_title button:contains(Save)\",\n            run: \"click\",\n        },\n        {\n            content: \"check that the scss modification got applied\",\n            trigger: ':iframe body:has(#wrap:hidden)',\n            timeout: 30000, // SCSS compilation might take some time\n        },\n        {\n            content: \"reset view (after reload, html editor should have been reopened where it was)\",\n            trigger: '#resource-editor-id button:contains(Reset)',\n            run: \"click\",\n        },\n        {\n            content: \"confirm reset warning\",\n            trigger: '.modal-footer .btn-primary',\n            run: \"click\",\n        },\n        {\n            content: \"check that the scss file was reset correctly, wrap content should now be visible again\",\n            trigger: ':iframe #wrap:visible',\n            timeout: 30000, // SCSS compilation might take some time\n        },\n        // 3. Customize again that file (will be used in second part of the test\n        //    to ensure restricted user can still use the HTML Editor)\n        {\n            content: \"add some scss content in the file\",\n            trigger: 'div.ace_line .ace_comment:contains(\"footer {\")',\n            run() {\n                ace.edit(document.querySelector('#resource-editor div')).getSession().insert({row: 2, column: 0}, `${adminCssModif}\\n`);\n            },\n        },\n        {\n            trigger: `div.ace_line:contains(\"${adminCssModif}\")`,\n        },\n        {\n            content: \"save the html editor\",\n            trigger: \".o_resource_editor_title button:contains(Save)\",\n            run: \"click\",\n        },\n        {\n            content: \"check that the scss modification got applied\",\n            trigger: ':iframe body:has(#wrap:hidden)',\n        },\n    ]\n);\n\nregisterWebsitePreviewTour('test_html_editor_scss_2', {\n    url: '/',\n},\n    () => [\n        // This part of the test ensures that a restricted user can still use\n        // the HTML Editor if someone else made a customization previously.\n\n        // 4. Open Html Editor and select a scss file\n        {\n            trigger: \"[is-ready=true]:iframe #wrapwrap\",\n        },\n        {\n            content: \"open site menu\",\n            trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n            run: \"click\",\n        },\n        {\n            content: \"open html editor\",\n            trigger: '.o_popover a[data-menu-xmlid=\"website.menu_ace_editor\"]:contains(/^HTML/)',\n            run: \"click\",\n        },\n        {\n            content: \"open type switcher\",\n            trigger: '.o_resource_editor_type_switcher button',\n            run: \"click\",\n        },\n        {\n            content: \"select scss files\",\n            trigger: '.o-dropdown--menu .dropdown-item:contains(\"SCSS\")',\n            run: \"click\",\n        },\n        {\n            content: \"select 'user_custom_rules'\",\n            trigger: '.o_resource_editor .o_select_menu_toggler:contains(\"user_custom_rules\")',\n        },\n        // 5. Edit that file and ensure it was saved then reset it\n        {\n            content: \"add some scss content in the file\",\n            trigger: `div.ace_line:contains(\"${adminCssModif}\")`,\n            // ensure the admin modification is here\n            run() {\n                ace.edit(document.querySelector('#resource-editor div')).getSession().insert({row: 2, column: 0}, `${demoCssModif}\\n`);\n            },\n        },\n        {\n            trigger: `div.ace_line:contains(\"${demoCssModif}\")`,\n        },\n        {\n            content: \"save the html editor\",\n            trigger: \".o_resource_editor button:contains(Save)\",\n            run: \"click\",\n        },\n        {\n            content: \"reset view (after reload, html editor should have been reopened where it was)\",\n            trigger: '#resource-editor-id button:contains(Reset)',\n            timeout: 30000, // SCSS compilation might take some time\n            run: \"click\",\n        },\n        {\n            content: \"confirm reset warning\",\n            trigger: \".modal:contains(careful) .modal-footer .btn-primary\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait for the reload of the iframe\",\n            trigger: \"[is-ready=false]:iframe #wrapwrap\",\n        },\n        {\n            trigger: \"[is-ready=true]:iframe #wrapwrap\",\n        },\n        {\n            trigger: `body:not(:has(div.ace_line:contains(\"${adminCssModif}\")))`,\n        },\n        {\n            content: \"check that the scss file was reset correctly\",\n            trigger: `body:not(:has(div.ace_line:contains(\"${demoCssModif}\")))`,\n            timeout: 30000, // SCSS compilation might take some time\n        },\n    ]\n);\n\nregisterWebsitePreviewTour(\n    \"website_code_editor_usable\",\n    {\n        // TODO: enable debug mode when failing tests have been fixed (props validation)\n        url: \"/\",\n    },\n    () => [\n        {\n            trigger: \":iframe #wrapwrap\",\n        },\n        {\n            content: \"Open Site menu\",\n            trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Open HTML / CSS Editor\",\n            trigger: '.o_popover a[data-menu-xmlid=\"website.menu_ace_editor\"]:contains(/^HTML/)',\n            run: \"click\",\n        },\n        {\n            content: \"Bypass warning\",\n            trigger: \".o_resource_editor_wrapper div:nth-child(2) button:nth-child(3)\",\n            run: \"click\",\n        },\n        // Test all 3 file type options\n        ...[{\n            menuItemIndex: 1,\n            editorMode: 'qweb',\n        }, {\n            menuItemIndex: 2,\n            editorMode: 'scss',\n        }, {\n            menuItemIndex: 3,\n            editorMode: 'javascript',\n        }]\n            .map(({ menuItemIndex, editorMode }) => [\n                {\n                    content: \"Open file type dropdown\",\n                    trigger: \".o_resource_editor_type_switcher .dropdown-toggle\",\n                    run: \"click\",\n                },\n                {\n                    content: `Select type ${menuItemIndex}`,\n                    trigger: `.o-overlay-container .o-dropdown--menu .dropdown-item:nth-child(${menuItemIndex})`,\n                    run: \"click\",\n                },\n                {\n                    content: \"Wait for editor mode to change\",\n                    trigger: `.ace_editor[data-mode=\"${editorMode}\"]`,\n                },\n                {\n                    content: \"Make sure text is being highlighted\",\n                    trigger: \".ace_content .ace_text-layer .ace_line:first-child span\",\n                },\n            ])\n            .flat(),\n    ]\n);\n", "import { insertSnippet, registerWebsitePreviewTour } from \"@website/js/tours/tour_utils\";\nimport { patch } from \"@web/core/utils/patch\";\n\n// Opening the system's file selector is not possible programmatically, so we\n// mock the upload service.\nlet unpatch;\nconst patchStep = {\n    content: \"Patch upload service\",\n    trigger: \"body\",\n    run: () => {\n        const uploadService = odoo.__WOWL_DEBUG__.root.env.services.uploadLocalFiles;\n        unpatch = patch(uploadService, {\n            async upload() {\n                return [{ id: 1, name: \"file.txt\", public: true, checksum: \"123\" }];\n            },\n        });\n    },\n};\nconst unpatchStep = {\n    content: \"Unpatch upload service\",\n    trigger: \"body\",\n    run: () => unpatch(),\n};\n\n/**\n * The purpose of this tour is to check the Linktools to create a link to an\n * uploaded document.\n */\nregisterWebsitePreviewTour(\n    \"test_link_to_document\",\n    {\n        url: \"/\",\n        edition: true,\n    },\n    () => [\n        ...insertSnippet({\n            name: \"Banner\",\n            id: \"s_banner\",\n            groupName: \"Intro\",\n        }),\n        {\n            content: \"Click on button Start Now\",\n            trigger: \":iframe #wrap .s_banner a:nth-child(1)\",\n            run: \"click\",\n        },\n        patchStep,\n        {\n            content: \"Click on link to an uploaded document\",\n            trigger: \".o_url_input .o_we_user_value_widget.fa.fa-upload\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if a document link is created\",\n            trigger: \":iframe #wrap .s_banner .oe_edited_link[href^='/web/content']\",\n        },\n        unpatchStep,\n        {\n            content: \"Check if by default the option auto-download is enabled\",\n            trigger: \":iframe #wrap .s_banner .oe_edited_link[href$='download=true']\",\n        },\n        {\n            content: \"Deactivate direct download\",\n            trigger: \".o_switch > we-checkbox[name='direct_download']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if auto-download is disabled\",\n            trigger: \":iframe #wrap .s_banner .oe_edited_link:not([href$='download=true'])\",\n        },\n    ]\n);\n", "/** @odoo-module */\n\nimport {\n    changeOption,\n    clickOnEditAndWaitEditMode,\n    clickOnElement,\n    clickOnSave,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\nimport { boundariesIn, setSelection, nodeSize } from '@web_editor/js/editor/odoo-editor/src/utils/utils';\n\nconst clickOnImgStep = {\n    content: \"Click somewhere else to save.\",\n    trigger: ':iframe #wrap .s_text_image img',\n    run: \"click\",\n};\n\nregisterWebsitePreviewTour('link_tools', {\n    url: '/',\n    edition: true,\n}, () => [\n    // 1. Create a new link from scratch.\n    ...insertSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n        groupName: \"Content\",\n    }),\n    {\n        content: \"Replace first paragraph, to insert a new link\",\n        trigger: ':iframe #wrap .s_text_image p',\n        run: 'editor Go to odoo: ',\n    },\n    {\n        content: \"Open link tools\",\n        trigger: \"#toolbar:not(.oe-floating) #create-link\",\n        run: \"click\",\n    },\n    {\n        content: \"Type the link URL odoo.com\",\n        trigger: '#toolbar:not(.oe-floating) #o_link_dialog_url_input',\n        run: 'edit odoo.com',\n    },\n    clickOnImgStep,\n    {\n        content: \"Select the newly created link\",\n        trigger: ':iframe #wrap .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo.com\")',\n        run() {\n            setSelection(this.anchor, 0, this.anchor, nodeSize(this.anchor));\n        }\n    },\n    // Remove the link.\n    {\n        content: \"Click on the newly created link\",\n        trigger: ':iframe #wrap .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo.com\")',\n        run: 'click',\n    },\n    {\n        content: \"Remove the link.\",\n        trigger: ':iframe .popover:contains(\"http://odoo.com\") a .fa-chain-broken',\n        run: 'click',\n    },\n    {\n        content: \"Check that the link was removed\",\n        trigger: ':iframe #wrap .s_text_image p:contains(\"Go to odoo:\"):not(:has(a))',\n    },\n    // Recreate the link.\n    {\n        content: \"Select first paragraph, to insert a new link\",\n        trigger: ':iframe #wrap .s_text_image p',\n        run: 'click',\n    },\n    {\n        content: \"Open link tools\",\n        trigger: \"#toolbar #create-link\",\n        run: 'click',\n    },\n    {\n        content: \"Type the link URL odoo.com\",\n        trigger: '#o_link_dialog_url_input',\n        run: 'edit odoo.com'\n    },\n    clickOnImgStep,\n    // 2. Edit the link with the link tools.\n    {\n        content: \"Click on the newly created link\",\n        trigger: ':iframe .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo.com\")',\n        run: \"click\",\n    },\n    {\n        content: \"Change content (editing the label input) to odoo website_2\",\n        trigger: '#o_link_dialog_label_input:value(odoo.com)',\n        run: 'edit odoo website_2',\n    },\n    {\n        content: \"Change content (editing the DOM) to odoo website\",\n        trigger: ':iframe .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo website_2\")',\n        run: 'editor odoo website',\n    },\n    clickOnImgStep,\n    {\n        content: \"Click again on the link\",\n        trigger: ':iframe .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo website\")',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the label input contains the new content\",\n        trigger: '#o_link_dialog_label_input:value(odoo website)',\n    },\n    {\n        content: \"Link tools, should be open, change the url\",\n        trigger: '#o_link_dialog_url_input',\n        run: \"edit odoo.be\",\n    },\n\n    ...clickOnSave(),\n    // 3. Edit a link after saving the page.\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: \"The new link content should be odoo website and url odoo.be\",\n        trigger: ':iframe .s_text_image a[href=\"http://odoo.be\"]:contains(\"odoo website\")',\n        run: \"click\",\n    },\n    {\n        content: \"The new link content should be odoo website and url odoo.be\",\n        trigger: '#toolbar:not(.oe-floating) .dropdown:has([name=\"link_style_color\"]) > button',\n        run: \"click\",\n    },\n    {\n        content: \"Click on the secondary style button.\",\n        trigger: '#toolbar:not(.oe-floating) we-button[data-value=\"secondary\"]',\n        run: \"click\",\n    },\n    ...clickOnSave(),\n    {\n        content: \"The link should have the secondary button style.\",\n        trigger: ':iframe .s_text_image a.btn.btn-secondary[href=\"http://odoo.be\"]:contains(\"odoo website\")',\n    },\n    // 4. Add link on image.\n    ...clickOnEditAndWaitEditMode(),\n    ...insertSnippet({\n        id: 's_three_columns',\n        name: 'Columns',\n        groupName: \"Columns\",\n    }),\n    {\n        content: \"Click on the first image.\",\n        trigger: ':iframe .s_three_columns .row > :nth-child(1) img',\n        run: \"click\",\n    },\n    {\n        content: \"Activate link.\",\n        trigger: '.o_we_customize_panel we-row:contains(\"Media\") we-button.fa-link',\n        run: \"click\",\n    },\n    {\n        content: \"Set URL.\",\n        trigger: '.o_we_customize_panel we-input:contains(\"Your URL\") input',\n        // TODO: remove && click\n        run: \"edit odoo.com && click(we-title:contains(Your URL))\",\n    },\n    {\n        content: \"Deselect image.\",\n        trigger: ':iframe .s_three_columns .row > :nth-child(2) img',\n        run: \"click\",\n    },\n    {\n        content: \"Re-select image.\",\n        trigger: ':iframe .s_three_columns .row > :nth-child(1) img',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the second image is not within a link.\",\n        trigger: ':iframe .s_three_columns .row > :nth-child(2) figure > img',\n    },\n    {\n        content: \"Check that link tools appear.\",\n        trigger: ':iframe .popover div a:contains(\"http://odoo.com\")',\n    },\n    ...clickOnSave(),\n    {\n        content: \"Check that the first image was saved.\",\n        trigger: ':iframe .s_three_columns .row > :nth-child(1) figure > a > img',\n    },\n    {\n        content: \"Check that the second image was saved.\",\n        trigger: ':iframe .s_three_columns .row > :nth-child(2) figure > img',\n    },\n    // 5. Remove link from image.\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: \"Reselect the first image.\",\n        trigger: ':iframe .s_three_columns .row > :nth-child(1) figure > a > img',\n        run: 'click',\n    },\n    {\n        content: \"Check that link tools appear.\",\n        trigger: ':iframe .popover div a:contains(\"http://odoo.com\")',\n    },\n    {\n        content: \"Remove link.\",\n        trigger: ':iframe .popover:contains(\"http://odoo.com\") a .fa-chain-broken',\n        run: \"click\",\n    },\n    {\n        content: \"Check that image is not within a link anymore.\",\n        trigger: ':iframe .s_three_columns .row > :nth-child(1) figure > img',\n    },\n    // 6. Add mega menu with Cards template and edit URL on text-selected card.\n    clickOnElement(\"menu link\", \":iframe header .nav-item a\"),\n    clickOnElement(\"'Edit menu' icon\", \":iframe .o_edit_menu_popover .fa-sitemap\"),\n    {\n        trigger: \".o_website_dialog:visible\",\n    },\n    {\n        content: \"Click on 'Add Mega Menu Item' link\",\n        trigger: \".modal-body a:contains('Add Mega Menu Item')\",\n        run: \"click\",\n    },\n    {\n        content: \"Enter mega menu name\",\n        trigger: \".modal .modal-body input\",\n        run: \"edit Mega\",\n    },\n    {\n        content: \"Clicking on the OK button\",\n        trigger: \".modal button:contains(ok)\",\n        run: \"click\",\n    },\n    {\n        content: \"Drag Mega at the top\",\n        trigger: '.oe_menu_editor li:contains(\"Mega\") .fa-bars',\n        run(helpers) {\n            return helpers.drag_and_drop(\".oe_menu_editor li:contains('Home') .fa-bars\", {\n                position : {\n                    top: 20,\n                },\n                relative: true,\n            });\n        },\n    },\n    {\n        content: \"Wait for drop\",\n        trigger: '.oe_menu_editor:first-child:contains(\"Mega\")',\n    },\n    {\n        content: \"Clicking on the OK button\",\n        trigger: \".modal button:contains(Save)\",\n        run: \"click\",\n    },\n    clickOnElement(\"mega menu\", \":iframe header .o_mega_menu_toggle\"),\n    changeOption(\"MegaMenuLayout\", \"we-toggler\"),\n    changeOption(\"MegaMenuLayout\", '[data-select-label=\"Cards\"]'),\n    clickOnElement(\"card's text\", \":iframe header .s_mega_menu_cards span\"),\n    {\n        content: \"Enter an URL\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"edit https://www.odoo.com\",\n    },\n    {\n        content: \"Check nothing is lost\",\n        trigger: \":iframe header .s_mega_menu_cards a[href='https://www.odoo.com']:has(img):has(h4):has(span)\",\n    },\n    // 7. Create new a link from a URL-like text.\n    // TODO: the two following steps should be removed.\n    // Note that human couldn't replace text hidden by the mega menu.\n    {\n        content: \"click on Mega menu item to hide Mega menu content\",\n        trigger: `:iframe a[role=\"menuitem\"]:contains(Mega)`,\n        run: \"click\",\n    },\n    {\n        content: \"Be sure that mega menu is hidden\",\n        trigger: `:iframe #wrapwrap:not(div[data-name=\"Mega Menu\"])`,\n    },\n    {\n        content: \"Replace first paragraph, write a URL\",\n        trigger: ':iframe #wrap .s_text_image p',\n        run: \"editor odoo.com\",\n    },\n    {\n        content: \"Select text\",\n        trigger: ':iframe #wrap .s_text_image p:contains(odoo.com)',\n        run() {\n            setSelection(...boundariesIn(this.anchor), false);\n        }\n    },\n    {\n        content: \"Open link tools\",\n        trigger: \"#toolbar #create-link\",\n        run: \"click\",\n    },\n    clickOnImgStep,\n    {\n        // URL transformation into link should persist, without the need for\n        // input at input[name=url]\n        content: \"Check that link was created\",\n        trigger: \":iframe .s_text_image p a[href='http://odoo.com']:contains('odoo.com')\",\n    },\n    {\n        content: \"Click on link to open the link tools\",\n        trigger: \":iframe .s_text_image p a[href='http://odoo.com']\",\n        run: \"click\",\n    },\n    // 8. Check that http links are not coerced to https and vice-versa.\n    {\n        content: \"Change URL to https\",\n        trigger: \"#o_link_dialog_url_input\",\n        run() {\n            // TODO: update the tour to use helpers.edit(\"https://odoo.com\")\n            // To see what happens with edit, add `pause:true` to the previous step\n            // and type yourself https://odoo.com in #o_link_dialog_url_input\n            // The label will be ohttps://\n            this.anchor.value = \"https://odoo.com\";\n            this.anchor.dispatchEvent(new InputEvent(\"input\", { bubbles: true }));\n        }\n    },\n    {\n        content: \"Check that link was updated\",\n        trigger: \":iframe .s_text_image p a[href='https://odoo.com']:contains('odoo.com')\",\n    },\n    {\n        trigger: \"div#oe_snippets:not(div.o_we_ui_loading)\",\n    },\n    {\n        content: \"Change it back http\",\n        trigger: \"#o_link_dialog_url_input\",\n        run() {\n            // TODO: update the tour to use helpers.edit(\"http://odoo.com\")\n            this.anchor.value = \"http://odoo.com\";\n            this.anchor.dispatchEvent(new InputEvent(\"input\", { bubbles: true }));\n        }\n    },\n    {\n        content: \"Check that link was updated\",\n        trigger: \":iframe .s_text_image p a[href='http://odoo.com']:contains('odoo.com')\",\n    },\n    // 9. Test conversion between http and mailto links.\n    {\n        trigger: \"div#oe_snippets:not(div.o_we_ui_loading)\",\n    },\n    {\n        content: \"Change URL into an email address\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"edit callme@maybe.com\",\n    },\n    {\n        content: \"Check that link was updated and link content is synced with URL\",\n        trigger: \":iframe .s_text_image p a[href='mailto:callme@maybe.com']:contains('callme@maybe.com')\",\n    },\n    {\n        trigger: \"div#oe_snippets:not(div.o_we_ui_loading)\",\n    },\n    {\n        content: \"Change URL back into a http one\",\n        trigger: \"#o_link_dialog_url_input\",\n        // TODO: remove && click\n        run: \"edit callmemaybe.com && click body\",\n    },\n    {\n        content: \"Check that link was updated and link content is synced with URL\",\n        trigger: \":iframe .s_text_image p a[href='http://callmemaybe.com']:contains('callmemaybe.com')\",\n    },\n    // 10. Test that UI stays up-to-date.\n    // TODO this step which was added by https://github.com/odoo/odoo/commit/9fc283b514d420fdfd66123845d9ec3563572692\n    // for no apparent reason (the X-original-commit of that one does not add\n    // this step) is not required for the test to work (it passes more often\n    // without this step than with it). It is a cause of race condition (last\n    // check: 31 over 162 tries failed on this). It however makes sense: the\n    // popover should indeed be shown and stay shown at this point. To be\n    // reenabled once the related feature is robust.\n    /*\n    {\n        content: \"Popover should be shown\",\n        trigger: \":iframe .o_edit_menu_popover .o_we_url_link:contains('http://callmemaybe.com')\",\n    },\n    */\n    {\n        content: \"Edit link label\",\n        trigger: \":iframe .s_text_image p a\",\n        run: \"click\",\n            // See SHOPS_STEP_DISABLED. TODO. These steps do not consistently\n            // update the link for some reason... to investigate.\n            /*\n            // Simulating text input.\n            const link = this.anchor;\n            actions.text(\"callmemaybe.com/shops\");\n            // Trick the editor into keyboardType === 'PHYSICAL' and delete the\n            // last character \"s\" and end with \"callmemaybe.com/shop\"\n            link.dispatchEvent(new KeyboardEvent(\"keydown\", { key: \"Backspace\", bubbles: true }));\n            // Trigger editor's '_onInput' handler, which leads to a history step.\n            link.dispatchEvent(new InputEvent('input', {inputType: 'insertText', bubbles: true}));\n            */\n    },\n    // See SHOPS_STEP_DISABLED. TODO.\n    /*\n    {\n        content: \"Check that links's href was updated\",\n        trigger: \":iframe .s_text_image p a[href='http://callmemaybe.com/shop']:contains('callmemaybe.com/shop')\",\n    },\n    */\n    // TODO this step is disabled for now because it is a cause of race\n    // condition (last check: 57 over 162 tries failed on this). The popover\n    // seems to sometimes unexpectedly close. Probably why the \"Popover should\n    // be shown\" step above had to be disabled as well.\n    /*\n    {\n        content: \"Check popover content is up-to-date\",\n        trigger: \":iframe .popover div a:contains('http://callmemaybe.com/shop')\",\n    },\n    */\n    // TODO this step is disabled for now because writing \"/shop\" in above steps\n    // currently is not considered most of the time all of a sudden... to\n    // investigate (it was not needed in 16.4). See SHOPS_STEP_DISABLED.\n    /*\n    {\n        content: \"Check Link tools URL input content is up-to-date\",\n        trigger: \"#o_link_dialog_url_input\",\n        run() {\n            // FIXME this was changed with 69a27360c98aee3d97eb42e9a27a751311791e15\n            // to omit the http:// part... but this part is removed\n            // inconsistently. Trying to fix the test actually made it so\n            // http:// is still there at this point... make it consistent and\n            // then remove http:// here again.\n            if (this.anchor.value !== 'http://callmemaybe.com/shop') {\n                throw new Error(\"Tour step failed\");\n            }\n        }\n    },\n    */\n    // 11. Pick a URL with auto-complete\n    {\n        trigger: `input#o_link_dialog_url_input`,\n    },\n    {\n        content: \"Wait the sidebar is openend\",\n        trigger: `we-title:contains(Inline text)`,\n    },\n    {\n        trigger: 'body:not(:has(.o_we_ui_loading))',\n    },\n    {\n        content: \"Enter partial URL\",\n        trigger: \"input#o_link_dialog_url_input\",\n        run: \"edit /contact\",\n    },\n    {\n        content: \"Pick '/contactus\",\n        trigger: \"ul.ui-autocomplete li div:contains('/contactus (Contact Us)')\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that links's href and label were updated\",\n        trigger: \":iframe .s_text_image p a[href='/contactus']:contains('/contactus')\",\n    },\n    // 12. Add a link leading to a 404 page\n    {\n        content: \"Enter a non-existent URL\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"edit /this-address-does-not-exist\",\n    },\n    {\n        content: \"Check that the link's href was updated and click on it\",\n        trigger: \":iframe .s_text_image p a[href='/this-address-does-not-exist']\",\n        run: \"click\",\n    },\n    // TODO this step is disabled for now because it is a cause of race\n    // condition (last check: 3 times over 95). The popover seems to sometimes\n    // unexpectedly close.\n    /*\n    {\n        content: \"Check popover content is up-to-date (2)\",\n        trigger: \":iframe .popover div a:contains('/this-address-does-not-exist')\",\n    },\n    */\n    // 13. Check that ZWS is not added in the link label input.\n    clickOnImgStep,\n    {\n        content: \"Click on contact us button\",\n        trigger: \":iframe a.btn[href='/contactus']\",\n        run: \"click\",\n    },\n    {\n        trigger: \"div#oe_snippets:not(div.o_we_ui_loading)\",\n    },\n    {\n        content: \"Verify that the link label input does not contain ZWS\",\n        trigger: \"#o_link_dialog_label_input:value('Contact Us')\",\n    },\n    // TODO: understand why tour need big timeout to passed and remove it\n    ...clickOnSave(\"bottom\", 20000),\n]);\n", "/** @odoo-module */\n\nimport {\n    changeOption,\n    clickOnSave,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour(\"website_media_dialog_undraw\", {\n    url: '/',\n    edition: true,\n}, () => [\n...insertSnippet({\n    id: 's_text_image',\n    name: 'Text - Image',\n    groupName: \"Content\",\n}),\n{\n    content: \"Open the media dialog from the snippet\",\n    trigger: \":iframe .s_text_image img\",\n    run: \"dblclick\",\n}, {\n    content: \"Search for 'banner' to call the media library\", // Mocked call\n    trigger: \".o_select_media_dialog .o_we_search\",\n    run: \"edit banner\",\n}, {\n    content: \"Check that the media library is available\",\n    trigger: '.o_select_media_dialog:has(.o_we_search_select option[value=\"media-library\"])',\n},\n{\n    content: \"Ensure all images are loaded to avoid CORS is misconfigured on the API server, image will be treated as non-dynamic.\",\n    trigger: \".modal .o_load_done_msg\",\n},\n]);\n\nregisterWebsitePreviewTour(\"website_media_dialog_external_library\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_text_image\",\n        name: \"Text - Image\",\n        groupName: \"Content\",\n    }),\n    {\n        content: \"Open the media dialog from the snippet\",\n        trigger: \":iframe .s_text_image img\",\n        run: \"dblclick\",\n    }, {\n        content: \"Dummy search to call the media library\",\n        trigger: \".o_select_media_dialog .o_we_search\",\n        run: \"edit a\",\n    }, {\n        content: \"Choose the media library to only show its media\",\n        trigger: \".o_select_media_dialog .o_we_search_select\",\n        run: \"select Illustrations\",\n    }, {\n        content: \"Double click on the first image\",\n        trigger: \".o_select_media_dialog img.o_we_attachment_highlight\",\n        run: \"click\",\n    }, {\n        content: \"Reopen the media dialog\",\n        trigger: \":iframe .s_text_image img\",\n        run: \"dblclick\",\n    }, {\n        content: \"Check that the image was created only once\",\n        trigger: \".o_select_media_dialog .o_we_existing_attachments .o_existing_attachment_cell img[src^='/html_editor/shape/illustration/']\",\n        run() {\n            const listEl = this.anchor.closest(\".o_select_media_dialog .o_we_existing_attachments\");\n            const selector = \".o_existing_attachment_cell img[src^='/html_editor/shape/illustration/']\";\n            const uploadedImgs = listEl.querySelectorAll(`${selector}[title='${this.anchor.title}']`);\n            if (uploadedImgs.length !== 1) {\n                throw new Error(`${uploadedImgs.length} attachment(s) were found. Exactly 1 should have been created.`);\n            }\n        },\n    },\n    {\n        content: \"Click on the first illustration image\",\n        trigger: \".o_select_media_dialog .o_we_attachment_highlight\",\n        run: \"click\",\n    },\n    {\n        content: \"Select the image\",\n        trigger: \":iframe .s_text_image img\",\n        run: \"click\",\n    },\n    {\n        content: \"Try to crop the image\",\n        trigger: \"#oe_snippets .o_we_customize_panel .o_we_user_value_widget[data-crop='true']\",\n        run: \"click\",\n    },\n    {\n        content: \"Observe the crop is denied for illustration image\",\n        trigger: \".o_notification_manager .o_notification\",\n    },\n    ...clickOnSave(),\n]);\n\nregisterWebsitePreviewTour('website_media_dialog_icons', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: 's_social_media',\n        name: 'Social Media',\n    }),\n    {\n        content: \"Open MediaDialog from a snippet icon\",\n        trigger: ':iframe .s_social_media .fa-instagram',\n        run: \"dblclick\",\n    },\n    {\n        content: \"Pick the same icon\",\n        trigger: '.o_select_media_dialog .o_we_attachment_selected.fa-instagram',\n        run: \"click\",\n    },\n    {\n        content: \"Check if the icon remains the same\",\n        trigger: ':iframe .s_social_media .fa-instagram',\n    },\n    {\n        content: \"Open MediaDialog again\",\n        trigger: ':iframe .s_social_media .fa-instagram',\n        run: \"dblclick\",\n    },\n    {\n        content: \"Click on the ADD button\",\n        trigger: '.o_select_media_dialog .btn:contains(Add)',\n        run: \"click\",\n    },\n    {\n        content: \"Check if the icon remains the same\",\n        trigger: ':iframe .s_social_media .fa-instagram',\n    },\n    ...clickOnSave()\n]);\n\nregisterWebsitePreviewTour(\"website_media_dialog_image_shape\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_text_image\",\n        name: \"Text - Image\",\n        groupName: \"Content\",\n    }),\n    {\n        content: \"Click on the image\",\n        trigger: \":iframe .s_text_image img\",\n        run: \"click\",\n    },\n    changeOption(\"ImageTools\", 'we-select[data-name=\"shape_img_opt\"] we-toggler'),\n    changeOption(\"ImageTools\", \"we-button[data-set-img-shape]\"),\n    {\n        content: \"Open MediaDialog from an image\",\n        trigger: \"we-customizeblock-option:contains(media) we-button:contains(replace)\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on the 'Icons' tab\",\n        trigger: '.o_select_media_dialog .o_notebook_headers .nav-item a:contains(\"Icons\")',\n        run: \"click\",\n    },\n    {\n        content: \"Select an icon\",\n        trigger: \".o_select_media_dialog:has(.nav-link.active:contains('Icons')) .tab-content span.fa-heart\",\n        run: \"click\",\n    },\n    {\n        content: \"Checks that the icon doesn't have a shape\",\n        trigger: \":iframe .s_text_image .fa-heart:not([data-shape])\",\n    },\n]);\n\nregisterWebsitePreviewTour(\"website_media_dialog_insert_media\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_text_block\",\n        name: \"Text\",\n        groupName: \"Text\",\n    }),\n    {\n        content: \"Click on the first paragraph\",\n        trigger: \":iframe .s_text_block p\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on the toolbar's 'insert media' button\",\n        trigger: \".oe-toolbar #media-insert\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on the 'Icons' tab\",\n        trigger: \".o_select_media_dialog a.nav-link:contains('Icons')\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on the first icon\",\n        trigger: \".o_select_media_dialog .font-icons-icon\",\n        run: \"click\",\n    },\n    {\n        content: \"Verify that the icon was inserted\",\n        trigger: \":iframe .s_text_block p > span.fa\",\n    },\n]);\n", "import { insertSnippet, registerWebsitePreviewTour } from \"@website/js/tours/tour_utils\";\n\nregisterWebsitePreviewTour(\"website_media_iframe_video\", {\n        url: \"/\",\n        edition: true,\n    }, () => [\n        ...insertSnippet({\n            id: \"s_text_image\",\n            name: \"Text - Image\",\n            groupName: \"Content\",\n        }),\n        {\n            content: \"Select the image\",\n            trigger: \":iframe #wrap .s_text_image img\",\n            run: \"click\",\n        },\n        {\n            content: \"Open image link options\",\n            trigger: \"[data-name='media_link_opt']\",\n            run: \"click\",\n        },\n        {\n            content: \"Enter the url\",\n            trigger: \"input[placeholder='www.example.com']\",\n            run: \"edit odoo.com\",\n        },\n        {\n            content: \"Click on replace media\",\n            trigger: \"[data-replace-media='true']\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on video button\",\n            trigger: \"a:contains('Videos')\",\n            run: \"click\",\n        },\n        {\n            content: \"Enter video link\",\n            trigger: \"#o_video_text\",\n            run: \"edit https://youtu.be/nbso3NVz3p8\",\n        },\n        {\n            content: \"Check video is preview\",\n            trigger: \".o_video_dialog_iframe\",\n        },\n        {\n            content: \"Click on 'add' button\",\n            trigger: \".modal-footer button:contains('Add')\",\n            run: \"click\",\n        },\n        {\n            content: \"Ensure that the parent of media_iframe_video is not an 'a' tag.\",\n            trigger: \":iframe .media_iframe_video\",\n            run: function () {\n                if (this.anchor.parentElement.tagName === \"A\") {\n                    console.error(\"Iframe video has link!!!\");\n                }\n            },\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport { clickOnSave, insertSnippet, registerWebsitePreviewTour } from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('website_multi_edition', {\n    url: '/',\n    edition: true,\n}, () => [\n    {\n        content: 'Check the current page has not the elements that will be added',\n        trigger: ':iframe body:not(:has(.s_text_image)):not(:has(.s_hr))',\n    },\n    // Edit the main element of the page\n    ...insertSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n        groupName: \"Content\",\n    }),\n    // Edit another part in the page, like the footer\n    {\n        trigger: \".o_website_preview.editor_enable.editor_has_snippets\",\n    },\n    {\n        trigger: `#oe_snippets .oe_snippet[name=\"Separator\"].o_we_draggable .oe_snippet_thumbnail:not(.o_we_ongoing_insertion)`,\n        content: \"Drag the Separator building block and drop it at the bottom of the page.\",\n        run: \"drag_and_drop :iframe .oe_drop_zone:last\",\n    },\n    ...clickOnSave(),\n    {\n        content: 'Check that the main element of the page was properly saved',\n        trigger: ':iframe main .s_text_image',\n    },\n    {\n        content: 'Check that the footer was properly saved',\n        trigger: ':iframe footer .s_hr',\n    },\n]);\n", "/** @odoo-module **/\n\nimport { testSwitchWebsite, registerWebsitePreviewTour } from '@website/js/tours/tour_utils';\nimport { registry } from \"@web/core/registry\";\n\n// TODO: This part should be moved in a QUnit test\nconst checkKanbanGroupBy = [\n    {\n        content: \"Click on Kanban View\",\n        trigger: \".o_cp_switch_buttons .o_kanban\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_kanban_renderer\",\n    },\n    {\n        content: \"Open search panel menu\",\n        trigger: \".o_control_panel .o_searchview_dropdown_toggler\",\n        run: \"click\",\n    },\n    {\n        content: \"Select 'Active' in the select of Add Custom Group\",\n        trigger: \"select.o_add_custom_group_menu\",\n        run: \"select active\",\n    },\n    {\n        trigger: \".o_kanban_renderer .o_kanban_header\",\n    },\n    {\n        content: \"Click on List View\",\n        trigger: \".o_cp_switch_buttons .o_list\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_list_renderer\",\n    },\n    {\n        content: \"Remove applied Group By\",\n        trigger: \".o_cp_searchview .o_facet_remove\",\n        run: \"click\",\n    },\n];\n\nconst checkWebsiteFilter = [{\n\tcontent: \"Click on the search options\",\n\ttrigger: \".o_searchview_dropdown_toggler\",\n    run: \"click\",\n}, {\n\tcontent: \"Select Test Website\",\n\ttrigger: \".o_dropdown_container.o_website_menu > .dropdown-item:contains('Test Website')\",\n    run: \"click\",\n}, {\n\tcontent: \"Check that the homepage is now the one of Test Website\",\n\ttrigger: \".o_list_table .o_data_row .o_data_cell[name=name]:contains('Home') \" +\n\t\t\t \"~ .o_data_cell[name=website_id]:contains('Test Website')\",\n}, {\n\tcontent: \"Check that the search options are still open\",\n\ttrigger: \".o_search_bar_menu\",\n}, {\n\tcontent: \"Go back to My Website\",\n\ttrigger: \".o_dropdown_container.o_website_menu > .dropdown-item:contains('My Website')\",\n    run: \"click\",\n}, {\n\tcontent: \"Check that the homepage is now the one of My Website\",\n\ttrigger: \".o_list_table .o_data_row .o_data_cell[name=name]:contains('Home') \" +\n\t\t\t \"~ .o_data_cell[name=website_id]:contains('My Website'):not(:contains('2'))\",\n}];\n\nconst deleteSelectedPage = [\n    {\n        content: \"Click on Action\",\n        trigger: '.o_cp_action_menus button',\n        run: \"click\",\n    },\n    {\n        content: \"Click on Delete\",\n        trigger: '.o-dropdown--menu span:contains(\"Delete\")',\n        run: \"click\",\n    },\n    {\n        content: \"Click on I am sure about this\",\n        trigger: 'main.modal-body input[type=\"checkbox\"]',\n        // The loading of the dependencies can take a while and\n        // sometimes reach the default 10s timeout\n        timeout: 20000,\n        run: \"click\",\n    },\n    {\n        content: \"Click on OK\",\n        trigger: '.modal-content footer button.btn-primary:not([disabled])',\n        run: \"click\",\n    }\n];\nconst homePage = 'tr:contains(\"Home\")';\n\nconst refreshPage = [\n    {\n        trigger: \"body\",\n        run() {window.location.reload();},\n    },\n];\nconst duplicateSinglePage = [\n    {\n        content: \"Click on checkbox\",\n        trigger:\n            '.o_list_renderer tr:contains(\"/test-duplicate\") td.o_list_record_selector input[type=\"checkbox\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on Action button\",\n        trigger: \".o_cp_action_menus button\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on Duplicate\",\n        trigger: '.o-dropdown--menu span:contains(\"Duplicate\")',\n        run: \"click\",\n    },\n    {\n        content: \"Put your website name as 'Test Duplicate' here\",\n        trigger: 'main.modal-body input[type=\"text\"]',\n        run: \"edit Test Duplicate\",\n    },\n    {\n        content: \"Click on OK\",\n        trigger: \".modal-footer button.btn-primary\",\n        run: \"click\",\n    },\n    ...refreshPage,\n];\n\nconst duplicateMultiplePage = [\n    {\n        content: \"Click on checkbox\",\n        trigger:\n            '.o_list_renderer tr:contains(\"/test-duplicate\") td.o_list_record_selector input[type=\"checkbox\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on checkbox\",\n        trigger:\n            '.o_list_renderer tr:contains(\"/test-duplicate-1\") td.o_list_record_selector input[type=\"checkbox\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on Action button\",\n        trigger: \".o_cp_action_menus button\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on Duplicate\",\n        trigger: '.o-dropdown--menu span:contains(\"Duplicate\")',\n        run: \"click\",\n    },\n    {\n        content: \"Put your website name as 'Test Duplicate' here\",\n        trigger: 'main.modal-body input[type=\"text\"]',\n        run: \"edit Test Duplicate\",\n    },\n    {\n        content: \"Click on OK\",\n        trigger: \".modal-footer button.btn-primary\",\n        run: \"click\",\n    },\n    ...refreshPage,\n];\n\nregisterWebsitePreviewTour('website_page_manager', {\n    url: '/',\n}, () => [\n    {\n        content: \"Click on Site\",\n        trigger: 'button.dropdown-toggle[data-menu-xmlid=\"website.menu_site\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on Pages\",\n        trigger: 'a.dropdown-item[data-menu-xmlid=\"website.menu_website_pages_list\"]',\n        run: \"click\",\n    },\n    ...checkKanbanGroupBy,\n    ...checkWebsiteFilter,\n    {\n        content: \"Click on Home Page\",\n        trigger: `.o_list_renderer ${homePage} td.o_list_record_selector input[type=\"checkbox\"]`,\n        run: \"click\",\n    },\n    ...deleteSelectedPage,\n    {\n        content: \"Check that the page has been removed\",\n        trigger: `.o_list_renderer:not(:has(${homePage}))`,\n    },\n    {\n        content: \"Click on All Pages\",\n        trigger: '.o_list_renderer thead input[type=\"checkbox\"]',\n        run: \"click\",\n    },\n    ...deleteSelectedPage,\n    {\n        content: \"Check that all pages have been removed\",\n        trigger: '.o_list_renderer tbody:not(:has([data-id]))',\n    },\n]);\n\nregisterWebsitePreviewTour('website_page_manager_session_forced', {\n    url: '/',\n}, () => [...testSwitchWebsite('Test Website'), {\n    content: \"Click on Site\",\n    trigger: 'button.dropdown-toggle[data-menu-xmlid=\"website.menu_site\"]',\n    run:\" click\",\n}, {\n    content: \"Click on Pages\",\n    trigger: 'a.dropdown-item[data-menu-xmlid=\"website.menu_website_pages_list\"]',\n    run:\" click\",\n}, {\n    content: \"Check that the homepage is the one of Test Website\",\n    trigger: \".o_list_table .o_data_row .o_data_cell[name=name]:contains('Home') \" +\n             \"~ .o_data_cell[name=website_id]:contains('Test Website')\",\n}, {\n\tcontent: \"Click on the search options\",\n\ttrigger: \".o_searchview_dropdown_toggler\",\n    run:\" click\",\n}, {\n\tcontent: \"Check that the selected website is Test Website\",\n\ttrigger: \".o_dropdown_container.o_website_menu > .dropdown-item:contains('Test Website')\",\n}]);\n\nregistry.category(\"web_tour.tours\").add('website_page_manager_direct_access', {\n    url: '/odoo/action-website.action_website_pages_list',\n    steps: () => [{\n    content: \"Check that the homepage is the one of Test Website\",\n    trigger: \".o_list_table .o_data_row .o_data_cell[name=name]:contains('Home') \" +\n             \"~ .o_data_cell[name=website_id]:contains('Test Website')\",\n}, {\n\tcontent: \"Click on the search options\",\n\ttrigger: \".o_searchview_dropdown_toggler\",\n    run:\" click\",\n}, {\n\tcontent: \"Check that the selected website is Test Website\",\n\ttrigger: \".o_dropdown_container.o_website_menu > .dropdown-item:contains('Test Website')\",\n}]});\n\nregisterWebsitePreviewTour(\n    \"website_clone_pages\",\n    {\n        url: \"/\",\n    },\n    () => [\n        {\n            content: \"Click on Site\",\n            trigger: 'button.dropdown-toggle[data-menu-xmlid=\"website.menu_site\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Click on Pages\",\n            trigger: 'a.dropdown-item[data-menu-xmlid=\"website.menu_website_pages_list\"]',\n            run: \"click\",\n        },\n        ...duplicateSinglePage,\n        ...duplicateMultiplePage,\n        {\n            trigger: \"td:contains('/test-duplicate-2-1')\",\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport {\n    changeOption,\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from \"@website/js/tours/tour_utils\";\n\nconst coverSnippet = {id: \"s_cover\", name: \"Cover\", groupName: \"Intro\"};\n\nregisterWebsitePreviewTour(\"test_parallax\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet(coverSnippet),\n    ...clickOnSnippet(coverSnippet),\n    changeOption(\"BackgroundOptimize\", \"we-toggler\"),\n    changeOption(\"BackgroundOptimize\", 'we-button[data-gl-filter=\"blur\"]'),\n{\n    content: \"Check that the Cover snippet has the Blur filter on its background image\",\n    trigger: \":iframe .s_cover span[data-gl-filter='blur']\",\n},\n    changeOption(\"Parallax\", \"we-toggler\"),\n    changeOption(\"Parallax\", 'we-button[data-select-data-attribute=\"0\"]'),\n{\n    content: \"Check that the data related to the filter have been transferred to the new target\",\n    trigger: \":iframe .s_cover[data-gl-filter='blur']\",\n},\n{\n    content: \"Check that the 'o_modified_image_to_save' class has been transferred to the new target\",\n    trigger: \":iframe .s_cover.o_modified_image_to_save\",\n},\n    changeOption(\"Parallax\", \"we-toggler\"),\n    changeOption(\"Parallax\", 'we-button[data-select-data-attribute=\"1\"]'),\n{\n    content: \"Check that the 'o_modified_image_to_save' class has been deleted from the old target\",\n    trigger: \":iframe .s_cover:not(.o_modified_image_to_save)\",\n},\n{\n    content: \"Check that the 'o_modified_image_to_save' class has been transferred to the new target\",\n    trigger: \":iframe span.s_parallax_bg.o_modified_image_to_save\",\n},\n{\n    content: \"Check that the data related to the filter have been transferred to the new target\",\n    trigger: \":iframe span.s_parallax_bg[data-gl-filter='blur']\",\n},\n    changeOption(\"Parallax\", \"we-toggler\"),\n    changeOption(\"Parallax\", 'we-button[data-select-data-attribute=\"1.5\"]'),\n{\n    content: \"Check that the option was correctly applied\",\n    trigger: ':iframe span.s_parallax_bg[style*=top][style*=bottom][style*=transform]',\n},\n    ...clickOnSave(),\n    ...clickOnEditAndWaitEditMode(),\n{\n    content: \"The parallax should not add o_dirty when entering edit mode\",\n    trigger: ':iframe #wrap:not(.o_dirty)',\n},\n]);\n", "import { insertSnippet, registerWebsitePreviewTour } from \"@website/js/tours/tour_utils\";\n\nregisterWebsitePreviewTour(\n    \"website_popup_visibility_option\",\n    {\n        url: \"/\",\n        edition: true,\n    },\n    () => [\n        ...insertSnippet({\n            id: \"s_popup\",\n            name: \"Popup\",\n            groupName: \"Content\",\n        }),\n        {\n            content: \"Click on the column within the popup snippet.\",\n            trigger: \":iframe #wrap .s_popup .o_cc1\",\n            run: \"click\",\n        },\n        {\n            content: \"Click the 'No Desktop' visibility option.\",\n            trigger:\n                \".snippet-option-DeviceVisibility we-button[data-toggle-device-visibility='no_desktop']\",\n            run: \"click\",\n        },\n        {\n            content: \"Verify that the popup is visible and the column is invisible.\",\n            trigger:\n                \".o_we_invisible_root_parent i.fa-eye, ul .o_we_invisible_entry i.fa-eye-slash\",\n        },\n    ]\n);\n", "import {clickOnSnippet, insertSnippet, registerWebsitePreviewTour } from \"@website/js/tours/tour_utils\";\n\nregisterWebsitePreviewTour(\"website_powerbox_snippet\",{\n    edition: true,\n},\n() => [\n...insertSnippet({\n    id: \"s_text_block\",\n    name: \"Text\",\n    groupName: \"Text\",\n}),\n...clickOnSnippet({\n    id: \"s_text_block\",\n    name: \"Text\",\n}),\n{\n    content: \"Select the last paragraph\",\n    trigger: \":iframe .s_text_block p:last-child\",\n    run: \"click\",\n},\n{\n    content: \"Show the powerbox\",\n    trigger: \":iframe .s_text_block p:last-child\",\n    async run(actions) {\n        await actions.editor(`/`);\n        const wrapwrap = this.anchor.closest(\"#wrapwrap\");\n        wrapwrap.dispatchEvent(\n            new InputEvent(\"input\", {\n                inputType: \"insertText\",\n                data: \"/\",\n            })\n        );\n    },\n},\n{\n    content: \"Click on the alert snippet\",\n    trigger: \".oe-powerbox-wrapper .oe-powerbox-commandWrapper:contains('Alert')\",\n    run: \"click\",\n},\n{\n    content: \"Check if s_alert snipept is inserted\",\n    trigger: \":iframe .s_alert\",\n}\n]);\n\nregisterWebsitePreviewTour(\n    \"website_powerbox_keyword\",\n    {\n        edition: true,\n    },\n    () => [\n        ...insertSnippet({\n            id: \"s_text_block\",\n            name: \"Text\",\n            groupName: \"Text\",\n        }),\n        ...clickOnSnippet({\n            id: \"s_text_block\",\n            name: \"Text\",\n        }),\n        {\n            content: \"Select the last paragraph\",\n            trigger: \":iframe .s_text_block p:last-child\",\n            run: \"click\",\n        },\n        {\n            content: \"Show the powerbox\",\n            trigger: \":iframe .s_text_block p:last-child\",\n            async run(actions) {\n                await actions.editor(`/`);\n                const wrapwrapEl = this.anchor.closest(\"#wrapwrap\");\n                wrapwrapEl.dispatchEvent(\n                    new InputEvent(\"input\", {\n                        inputType: \"insertText\",\n                        data: \"/\",\n                    })\n                );\n            },\n        },\n        {\n            content: \"Initially alert snippet should be present in the powerbox\",\n            trigger: \".oe-powerbox-wrapper .oe-powerbox-commandName:contains('Alert')\",\n        },\n        {\n            content: \"Change the content to '/table' so that alert snippet should not be present in the powerbox\",\n            trigger: \":iframe .s_text_block p:last-child\",\n            run() {\n                const wrapwrapEl = this.anchor.closest(\"#wrapwrap\");\n                this.anchor.textContent = \"/table\";\n                wrapwrapEl.ownerDocument.dispatchEvent(\n                    new KeyboardEvent(\"keyup\", {\n                        key: \"DummyKey\",\n                        code: \"KeyDummy\",\n                        cancelable: true,\n                    })\n                );\n            },\n        },\n        {\n            content: \"Alert snippet should not be present in the powerbox\",\n            trigger: \".oe-powerbox-wrapper .oe-powerbox-commandName:not(:contains('Alert'))\",\n        },\n        {\n            content: \"Change the content to '/banner'\",\n            trigger: \":iframe .s_text_block p:last-child\",\n            run() {\n                const wrapwrapEl = this.anchor.closest(\"#wrapwrap\");\n                this.anchor.textContent = \"/banner\";\n                wrapwrapEl.ownerDocument.dispatchEvent(\n                    new KeyboardEvent(\"keyup\", {\n                        key: \"DummyKey\",\n                        code: \"KeyDummy\",\n                        cancelable: true,\n                    })\n                );\n            },\n        },\n        {\n            content: \"Alert snippet should be present in the powerbox\",\n            trigger: \".oe-powerbox-wrapper .oe-powerbox-commandName:contains('Alert')\",\n        },\n        {\n            content: \"Click on the alert snippet\",\n            trigger: \".oe-powerbox-wrapper .oe-powerbox-commandName:contains('Alert')\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if s_alert snippet is inserted\",\n            trigger: \":iframe .s_alert\",\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('public_user_editor', {\n    steps: () => [{\n    trigger: '.note-editable',\n}]});\n", "// @odoo-module ignore\n\nodoo.loader.bus.addEventListener(\"module-started\", (e) => {\n    if (e.detail.moduleName === \"@web_editor/js/frontend/loadWysiwygFromTextarea\") {\n        const publicWidget = odoo.loader.modules.get(\"@web/legacy/js/public/public_widget\")[Symbol.for('default')];\n        const { loadWysiwygFromTextarea } = e.detail.module;\n\n        publicWidget.registry['public_user_editor_test'] = publicWidget.Widget.extend({\n            selector: 'textarea.o_public_user_editor_test_textarea',\n\n            /**\n             * @override\n             */\n            start: async function () {\n                await this._super(...arguments);\n                await loadWysiwygFromTextarea(this, this.el, {});\n            },\n        });\n    }\n})\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_reset_password', {\n    steps: () => [\n    {\n        content: \"fill new password\",\n        trigger: '.oe_reset_password_form input[name=\"password\"]',\n        run: \"edit adminadmin\",\n    },\n    {\n        content: \"fill confirm password\",\n        trigger: '.oe_reset_password_form input[name=\"confirm_password\"]',\n        run: \"edit adminadmin\",\n    },\n    {\n        content: \"submit reset password form\",\n        trigger: '.oe_reset_password_form button[type=\"submit\"]',\n        run: \"click\",\n    },\n    {\n        content: \"check that we're logged in\",\n        trigger: '.o_user_menu .dropdown-toggle',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { clickOnEditAndWaitEditMode, registerWebsitePreviewTour } from \"@website/js/tours/tour_utils\";\n\nregisterWebsitePreviewTour(\"restricted_editor\", {\n    url: \"/\",\n}, () => [\n    ...clickOnEditAndWaitEditMode(),\n]);\n", "/** @odoo-module **/\n\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    insertSnippet,\n    goToTheme,\n    registerWebsitePreviewTour,\n} from \"@website/js/tours/tour_utils\";\nimport { whenReady } from \"@odoo/owl\";\n\nregisterWebsitePreviewTour('rte_translator', {\n    url: '/',\n    edition: true,\n    wait_for: whenReady(),\n}, () => [\n...goToTheme(),\n{\n    content: \"click on Add a language\",\n    trigger: \"we-button[data-add-language]\",\n    run: \"click\",\n}, {\n    content: \"confirm leave editor\",\n    trigger: \".modal-dialog button.btn-primary\",\n    run: \"click\",\n}, {\n    content: \"type Parseltongue\",\n    trigger: 'div[name=\"lang_ids\"] .o_input_dropdown input',\n    run: \"edit Parseltongue\",\n}, {\n    content: 'select Parseltongue',\n    trigger: '.dropdown-item:contains(Parseltongue)',\n    run: \"click\",\n},\n{\n    trigger: '.modal-dialog div[name=\"lang_ids\"] .rounded-pill .o_tag_badge_text:contains(Parseltongue)',\n},\n{\n    content: \"load Parseltongue\",\n    trigger: '.modal-footer .btn-primary',\n    run: \"click\",\n}, {\n    content: \"click language dropdown (2)\",\n    trigger: ':iframe .js_language_selector .dropdown-toggle',\n    timeout: 60000,\n    run: \"click\",\n},\n{\n    trigger: ':iframe html[lang*=\"pa-GB\"]',\n},\n{\n    content: \"go to english version\",\n    trigger: ':iframe .js_language_selector a[data-url_code=\"en\"]',\n    run: \"click\",\n},\n{\n    trigger: ':iframe html[lang*=\"en-US\"]',\n},\n{\n    content: \"Open new page menu\",\n    trigger: \".o_menu_systray .o_new_content_container > a\",\n    run: \"click\",\n}, {\n    content: \"click on new page\",\n    trigger: '.o_new_content_element a',\n    run: \"click\",\n}, {\n    content: \"click on Use this template\",\n    trigger: \".o_page_template .o_button_area:not(:visible)\",\n    run: \"click\",\n}, {\n    content: \"insert file name\",\n    trigger: \".modal:not(.o_inactive_modal):contains(new page) .modal-body input[type=text]\",\n    run: \"edit rte_translator.xml && press Enter\",\n},\n{\n    trigger: '.modal:not(.o_inactive_modal):contains(new page) .modal-body input[type=\"text\"]:value(rte_translator.xml)',\n},\n{\n    content: \"create file\",\n    trigger: \".modal:not(.o_inactive_modal):contains(new page) button.btn-primary:contains(create)\",\n    run: \"click\",\n}, {\n    content: \"click on the 'page manager' button\",\n    trigger: 'button[name=\"website.action_website_pages_list\"]',\n    run: \"click\",\n}, {\n    content: \"click on the record to display the xml file in the iframe\",\n    trigger: 'td:contains(\"rte_translator.xml\")',\n    run: \"click\",\n}, {\n    content: \"Open new page menu\",\n    trigger: \".o_menu_systray .o_new_content_container > a\",\n    run: \"click\",\n}, {\n    content: \"click on new page\",\n    trigger: '.o_new_content_element a',\n    run: \"click\",\n}, {\n    content: \"click on Use this template\",\n    trigger: \".o_page_template .o_button_area:not(:visible)\",\n    run: \"click\",\n}, {\n    content: \"insert page name\",\n    trigger: '.modal .modal-dialog .modal-body input[type=\"text\"]',\n    run: \"edit rte_translator\",\n},\n{\n    trigger: 'input[type=\"text\"]:value(rte_translator)',\n},\n{\n    content: \"create page\",\n    trigger: \".modal button.btn-primary:contains(create)\",\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n...insertSnippet({\n    id: \"s_cover\",\n    name: \"Cover\",\n    groupName: \"Intro\",\n}), {\n    content: \"change content\",\n    trigger: ':iframe #wrap',\n    run() {\n        $('iframe:not(.o_ignore_in_tour)').contents().find(\"#wrap p:first\").replaceWith('<p>Write one or <font style=\"background-color: yellow;\">two paragraphs <b>describing</b></font> your product or\\\n            <font style=\"color: rgb(255, 0, 0);\">services</font>. To be successful your content needs to be\\\n            useful to your <a href=\"/999\">readers</a>.</p> <input value=\"test translate default value\" placeholder=\"test translate placeholder\"/>\\\n            <p>&lt;b&gt;&lt;/b&gt; is an HTML&nbsp;tag &amp; is empty</p>');\n        $('iframe:not(.o_ignore_in_tour)').contents().find(\"#wrap img\").attr(\"title\", \"test translate image title\");\n    }\n    }, {\n    content: \"ensure change was applied\",\n    trigger: ':iframe #wrap p:first b',\n},\n...clickOnSave(),\n{\n    content: \"click language dropdown (3)\",\n    trigger: ':iframe .js_language_selector .dropdown-toggle',\n    run: \"click\",\n},\n{\n    trigger: ':iframe html[lang*=\"en\"]',\n},\n{\n    content: \"click on Parseltongue version\",\n    trigger: ':iframe .js_language_selector a[data-url_code=\"pa_GB\"]',\n    run: \"click\",\n}, {\n    content: \"edit\",\n    trigger: '.o_edit_website_container button',\n    run: \"click\",\n},\n{\n    trigger: \":iframe html:not(:has(#wrap p span))\",\n},\n{\n    content: \"translate\",\n    trigger: '.o_translate_website_dropdown_item',\n    run: \"click\",\n}, {\n    content: \"close modal\",\n    trigger: '.modal-footer .btn-secondary',\n    run: \"click\",\n}, {\n    content: \"check if translation is activate\",\n    trigger: ':iframe [data-oe-translation-source-sha]',\n    run: \"click\",\n},\n{\n    trigger: \"#oe_snippets.o_loaded\",\n},\n{\n    content: \"translate text\",\n    trigger: ':iframe #wrap p font:first',\n    async run(actionHelper) {\n        await actionHelper.editor('translated Parseltongue text');\n        const {Wysiwyg} = odoo.loader.modules.get('@web_editor/js/wysiwyg/wysiwyg');\n        Wysiwyg.setRange(this.anchor.childNodes[0], 22);\n        this.anchor.dispatchEvent(new KeyboardEvent(\"keyup\", {bubbles: true, key: \"_\"}));\n        this.anchor.dispatchEvent(new InputEvent(\"input\", {bubbles: true}));\n    },\n}, {\n    content: \"translate text with special char\",\n    trigger: ':iframe #wrap input + p span:first',\n    async run(actionHelper) {\n        await actionHelper.click();\n        this.anchor.textContent = '<{translated}>' + this.anchor.textContent;\n        const {Wysiwyg} = odoo.loader.modules.get('@web_editor/js/wysiwyg/wysiwyg');\n        Wysiwyg.setRange(this.anchor.childNodes[0], 0);\n        this.anchor.dispatchEvent(new KeyboardEvent(\"keyup\", {bubbles: true, key: \"_\"}));\n        this.anchor.dispatchEvent(new InputEvent(\"input\", {bubbles: true}));\n    },\n},\n{\n    trigger: ':iframe #wrap .o_dirty font:first:contains(translated Parseltongue text)',\n},\n{\n    content: \"click on input\",\n    trigger: ':iframe #wrap input:first',\n    run: 'click',\n}, {\n    content: \"translate placeholder\",\n    trigger: '.modal-dialog input:first',\n    run: \"edit test Parseltongue placeholder\",\n}, {\n    content: \"translate default value\",\n    trigger: '.modal-dialog input:last',\n    run: \"edit test Parseltongue default value\",\n},\n{\n    trigger: '.modal input:value(\"test Parseltongue placeholder\")',\n},\n{\n    content: \"close modal\",\n    trigger: '.modal-footer .btn-primary',\n    run: \"click\",\n}, {\n    content: \"check: input marked as translated\",\n    trigger: ':iframe input[placeholder=\"test Parseltongue placeholder\"].oe_translated',\n},\n...clickOnSave(),\n{\n    content: \"check: content is translated\",\n    trigger: ':iframe #wrap p font:first:contains(translated Parseltongue text)',\n}, {\n    content: \"check: content with special char is translated\",\n    trigger: \":iframe #wrap input + p:contains(<{translated}><b></b> is an HTML tag & )\",\n}, {\n    content: \"check: placeholder translation\",\n    trigger: ':iframe input[placeholder=\"test Parseltongue placeholder\"]',\n}, {\n    content: \"check: default value translation\",\n    trigger: ':iframe input[value=\"test Parseltongue default value\"]',\n},\n{\n    trigger: ':iframe html[lang*=\"pa-GB\"]:not(:has(#wrap p span))',\n},\n{\n    content: \"open language selector\",\n    trigger: ':iframe .js_language_selector button:first',\n    run: \"click\",\n}, {\n    content: \"return to english version\",\n    trigger: ':iframe .js_language_selector a[data-url_code=\"en\"]',\n    run: \"click\",\n}, {\n    content: \"Check body\",\n    trigger: \":iframe body:not(:has(#wrap p font:first:contains(/^paragraphs <b>describing</b>$/)))\",\n},\n...clickOnEditAndWaitEditMode(),\n{\n    content: \"select text\",\n    trigger: ':iframe #wrap p',\n    async run(actionHelper) {\n        await actionHelper.click();\n        var el = this.anchor;\n        var mousedown = document.createEvent('MouseEvents');\n        mousedown.initMouseEvent('mousedown', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, el);\n        el.dispatchEvent(mousedown);\n        var mouseup = document.createEvent('MouseEvents');\n        const { Wysiwyg } = odoo.loader.modules.get('@web_editor/js/wysiwyg/wysiwyg');\n        Wysiwyg.setRange(el.childNodes[2], 6, el.childNodes[2], 13);\n        mouseup.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, el);\n        el.dispatchEvent(mouseup);\n    },\n// This is disabled for now because it reveals a bug that is fixed in saas-15.1\n// and considered a tradeoff in 15.0. The bug concerns the invalidation of\n// translations when inserting tags with more than one character. Whereas <u>\n// didn't trigger an invalidation, <span style=\"text-decoration-line: underline;\">\n// does.\n// }, {\n//     content: \"underline\",\n//     trigger: '.oe-toolbar #underline',\n},\n...clickOnSave(),\n{\n    content: \"click language dropdown (4)\",\n    trigger: ':iframe .js_language_selector .dropdown-toggle',\n    run: \"click\",\n}, {\n    content: \"return in Parseltongue\",\n    trigger: ':iframe html[lang=\"en-US\"] .js_language_selector .js_change_lang[data-url_code=\"pa_GB\"]',\n    run: \"click\",\n},\n{\n    trigger: ':iframe html[lang*=\"pa-GB\"]',\n},\n{\n    content: \"check bis: content is translated\",\n    trigger: ':iframe #wrap p font:first:contains(translated Parseltongue text)',\n    run: \"click\",\n}, {\n    content: \"check bis: placeholder translation\",\n    trigger: ':iframe input[placeholder=\"test Parseltongue placeholder\"]',\n    run: \"edit Test\",\n}, {\n    content: \"open site menu\",\n    trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n    run: \"click\",\n}, {\n    content: \"Open HTML editor\",\n    trigger: 'a[data-menu-xmlid=\"website.menu_ace_editor\"]',\n    run: \"click\",\n}, {\n    content: \"Check that the editor is not showing translated content (1)\",\n    trigger: '.ace_text-layer .ace_line:contains(\"an HTML\")',\n    run() {\n        const lineEscapedText = $(this.anchor.textContent).last().text();\n        if (lineEscapedText !== \"&lt;b&gt;&lt;/b&gt; is an HTML&nbsp;tag &amp; is empty\") {\n            console.error('The HTML editor should display the correct untranslated content');\n            $('iframe:not(.o_ignore_in_tour)').contents().find('body').addClass('rte_translator_error');\n        }\n    },\n}, {\n    content: \"Check that the editor is not showing translated content (2)\",\n    trigger: ':iframe body:not(.rte_translator_error)',\n}]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('skip_website_configurator', {\n    url: '/odoo/action-website.action_website_configuration',\n    steps: () => [\n    {\n        content: \"create a new website\",\n        trigger: 'button[name=\"action_website_create_new\"]',\n        run: \"click\",\n    },\n    {\n        content: \"insert website name\",\n        trigger: 'div[name=\"name\"] input',\n        run: \"edit Website EN\",\n    },\n    {\n        content: \"validate the website creation modal\",\n        trigger: '.modal button.btn-primary',\n        run: \"click\",\n    },\n    {\n        content: \"skip configurator\",\n        // This trigger targets the skip button, it doesn't have a more\n        // explicit class or ID.\n        trigger: '.o_configurator_container .container-fluid .btn.btn-link',\n        run: \"click\",\n    },\n    {\n        content: \"Install a theme\",\n        trigger: \".o_theme_preview_top\",\n        run: \"hover && click button[name=button_choose_theme]\",\n    },\n    {\n        trigger: \".o_menu_systray .o_user_menu\",\n    },\n    {\n        content: \"Check that the homepage is loaded\",\n        trigger: \".o_website_preview[data-view-xmlid='website.homepage']\",\n        timeout: 30000,\n    },\n    {\n        content: \"Wait title is present before close tour\",\n        trigger: \":iframe h2:contains(welcome to your)\",\n    }\n]});\n", "/** @odoo-module */\n\nimport weUtils from '@web_editor/js/common/utils';\nimport {\n    changeBackgroundColor,\n    changeOption,\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nconst snippets = [\n    {\n        id: 's_text_image',\n        name: 'Text - Image',\n        groupName: \"Content\",\n    },\n];\nconst gradients = [\n    'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n    'linear-gradient(135deg, rgb(255, 222, 202) 0%, rgb(202, 115, 69) 100%)',\n];\n\nfunction typeToName(xType) {\n    return xType === 'cc' ? 'color combinations' : xType === 'bg' ? 'background colors' : 'gradients';\n}\n\nfunction switchTo(type, _name) {\n    const target = type === 'cc' ? 'color-combinations' : type === 'bg' ? 'custom-colors' : 'gradients';\n    const name = _name || typeToName(type);\n    return {\n        trigger: `.o_we_colorpicker_switch_pane_btn[data-target=\"${target}\"]`,\n        content: `Switch to ${name}`,\n        run: \"click\",\n    };\n}\n\nfunction addCheck(steps, checkX, checkNoX, xType, noSwitch = false) {\n    if (!checkX && !checkNoX) {\n        return;\n    }\n\n    const name = typeToName(xType);\n    const selectorCheckX = checkX && `.o_we_color_btn[data-color=\"${checkX}\"].selected`;\n    const selectorCheckNoX = checkNoX && `.o_we_color_btn[data-color=\"${checkNoX}\"]:not(.selected)`;\n    const step = {\n        trigger: selectorCheckX || selectorCheckNoX,\n        content: `The correct ${name} is marked as selected`,\n        tooltipPosition: \"bottom\",\n    };\n    if (!noSwitch) {\n        steps.push(switchTo(xType, name));\n    }\n    if (!selectorCheckX && selectorCheckNoX) {\n        steps.push({\n            trigger: selectorCheckNoX,\n        });\n    }\n    steps.push(step);\n}\n\nfunction checkAndUpdateBackgroundColor({\n    checkCC, checkNoCC,\n    checkBg, checkNoBg,\n    checkGradient, checkNoGradient,\n    changeType, change,\n    finalSelector, finalRun\n}) {\n    const steps = [\n        changeBackgroundColor(),\n    ];\n\n    addCheck(steps, checkCC, checkNoCC, 'cc', true);\n    addCheck(steps, checkBg, checkNoBg, 'bg');\n    addCheck(steps, checkGradient, checkNoGradient, 'gradient');\n\n    if (changeType) {\n        steps.push(switchTo(changeType));\n        steps.push(changeOption('ColoredLevelBackground', `.o_we_color_btn[data-color=\"${change}\"]`, 'background color', 'top', true));\n        steps.push({\n            trigger: finalSelector,\n            content: \"The selected colors have been applied (CC AND (BG or GRADIENT))\",\n            tooltipPosition: 'bottom',\n            run: finalRun,\n        });\n    }\n\n    return steps;\n}\n\nfunction updateAndCheckCustomGradient({updateStep, checkGradient}) {\n    const steps = [updateStep, {\n        trigger: `:iframe #wrapwrap section.${snippets[0].id}.o_cc1`,\n        content: 'Color combination 1 still selected',\n    }];\n    addCheck(steps, checkGradient, checkGradient !== gradients[0] && gradients[0], 'gradient', true);\n    return steps;\n}\n\nregisterWebsitePreviewTour('snippet_background_edition', {\n    url: '/',\n    edition: true,\n},\n() => [\n...insertSnippet(snippets[0]),\n...clickOnSnippet(snippets[0]),\n\n// Set background image and save.\n{\n    content: \"Click on camera icon\",\n    trigger: \".snippet-option-ColoredLevelBackground we-button.fa-camera\",\n    run: \"click\",\n},\n{\n    content: \"Click on image\",\n    trigger: \".o_select_media_dialog img[title='test.png']\",\n    run: \"click\",\n},\n...clickOnSave(),\n{\n    content: \"Check that the image is set\",\n    trigger: `:iframe section.${snippets[0].id} img[data-original-id]`,\n},\n...clickOnEditAndWaitEditMode(),\n...clickOnSnippet(snippets[0]),\n// Remove background image.\n{\n    content: \"Click on camera icon\",\n    trigger: \".snippet-option-ColoredLevelBackground we-button.fa-camera\",\n    run: \"click\",\n},\n\n// Add a color combination\n...checkAndUpdateBackgroundColor({\n    changeType: 'cc',\n    change: 3,\n    finalSelector: `:iframe .${snippets[0].id}.o_cc.o_cc3:not([class*=bg-]):not([style*=\"background\"])`,\n}),\n\n// Change the color combination + Check the previous one was marked as selected\n...checkAndUpdateBackgroundColor({\n    checkCC: 3,\n    changeType: 'cc',\n    change: 2,\n    finalSelector: `:iframe .${snippets[0].id}.o_cc.o_cc2:not(.o_cc3):not([class*=bg-])`,\n}),\n\n// Check the color combination was marked as selected + Edit the bg color\n...checkAndUpdateBackgroundColor({\n    checkCC: 2,\n    checkNoCC: 3,\n    changeType: 'bg',\n    change: 'black-50',\n    finalSelector: `:iframe .${snippets[0].id}.o_cc.o_cc2.bg-black-50`,\n}),\n\n// Check the current color palette selection + Change the bg color\n...checkAndUpdateBackgroundColor({\n    checkCC: 2,\n    checkBg: 'black-50',\n    changeType: 'bg',\n    change: '800',\n    finalSelector: `:iframe .${snippets[0].id}.o_cc.o_cc2.bg-800:not(.bg-black-50)`,\n}),\n\n// Check the current color palette selection + Change the color combination\n// again. It should keep the bg color class.\n...checkAndUpdateBackgroundColor({\n    checkCC: 2,\n    checkBg: '800',\n    checkNoBg: 'black-50',\n    changeType: 'cc',\n    change: 4,\n    finalSelector: `:iframe .${snippets[0].id}.o_cc.o_cc4:not(.o_cc2).bg-800`,\n}),\n\n// Check the current color palette status + Replace the bg color by a gradient\n...checkAndUpdateBackgroundColor({\n    checkCC: 4,\n    checkNoCC: 2,\n    checkBg: '800',\n    changeType: 'gradient',\n    change: gradients[0],\n    finalSelector: `:iframe .${snippets[0].id}.o_cc.o_cc4:not(.bg-800)[style*=\"background-image: ${gradients[0]}\"]`,\n}),\n\n// Check the current color palette status + Replace the gradient\n...checkAndUpdateBackgroundColor({\n    checkCC: 4,\n    checkNoBg: '800',\n    checkGradient: gradients[0],\n    changeType: 'gradient',\n    change: gradients[1],\n    finalSelector: `:iframe .${snippets[0].id}.o_cc.o_cc4[style*=\"background-image: ${gradients[1]}\"]:not([style*=\"background-image: ${gradients[0]}\"])`,\n}),\n\n// Check the current color palette selection + Change the color combination\n// again. It should keep the gradient.\n...checkAndUpdateBackgroundColor({\n    checkCC: 4,\n    checkGradient: gradients[1],\n    checkNoGradient: gradients[0],\n    changeType: 'cc',\n    change: 1,\n    finalSelector: `:iframe .${snippets[0].id}.o_cc.o_cc1:not(.o_cc4)[style*=\"background-image: ${gradients[1]}\"]`,\n}),\n\n// Final check of the color status in the color palette\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkNoCC: 4,\n    checkGradient: gradients[1],\n}),\n\n// Now, add an image on top of that color combination + gradient\n{\n    // Close the palette before selecting a media.\n    trigger: '.snippet-option-ColoredLevelBackground we-title',\n    content: 'Close palette',\n    run: \"click\",\n},\nchangeOption('ColoredLevelBackground', '[data-name=\"bg_image_toggle_opt\"]'),\n{\n    trigger: '.o_existing_attachment_cell img',\n    content: \"Select an image in the media dialog\",\n    run: \"click\",\n},\n{\n    trigger: `:iframe .${snippets[0].id}.o_cc.o_cc1`,\n    run: function () {\n        const parts = weUtils.backgroundImageCssToParts(\n            getComputedStyle(this.anchor)[\"background-image\"]\n        );\n        if (!parts.url || !parts.url.startsWith('url(')) {\n            throw new Error('An image should have been added as background.');\n        }\n        if (parts.gradient !== gradients[1]) {\n            throw new Error('The gradient should have been kept when adding the background image');\n        }\n    },\n},\n\n// Replace the gradient while there is a background-image\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkGradient: gradients[1],\n    changeType: 'gradient',\n    change: gradients[0],\n    finalSelector: `:iframe .${snippets[0].id}.o_cc.o_cc1:not([style*=\"${gradients[1]}\"])`,\n    finalRun: function () {\n        const parts = weUtils.backgroundImageCssToParts(\n            getComputedStyle(this.anchor)[\"background-image\"]\n        );\n        if (!parts.url || !parts.url.startsWith('url(')) {\n            throw new Error('The image should have been kept when changing the gradient');\n        }\n        if (parts.gradient !== gradients[0]) {\n            throw new Error('The gradient should have been changed');\n        }\n    },\n}),\n\n// Customize gradient\nchangeBackgroundColor(),\nswitchTo('gradient'),\n// Avoid navigating across tabs to maintain current editor state\n// Step colors\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_custom_gradient_scale',\n        content: 'Add step',\n        run() {\n            // TODO: use run: \"click\", instead\n            this.anchor.click();\n        }\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_slider_multi input.active',\n        content: 'Move step',\n        run(helpers) {\n            this.anchor.value = 45;\n            helpers.click();\n        },\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(203, 94, 238) 45%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_color_picker_inputs .o_hex_div input',\n        content: 'Pick step color',\n        // TODO: remove && click\n        run: \"edit #FF0000 && click .o_color_picker_inputs\",\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(255, 0, 0) 45%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_remove_color',\n        content: 'Delete step',\n        run: 'click',\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n// Linear\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker input[data-name=\"angle\"]',\n        content: 'Change angle',\n        run: \"edit 50 && click .o_color_picker_inputs\",\n    },\n    checkGradient: 'linear-gradient(50deg, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n// Radial\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker we-button[data-gradient-type=\"radial-gradient\"]',\n        content: 'Switch to Radial',\n        run: 'click',\n    },\n    checkGradient: 'radial-gradient(circle farthest-side at 25% 25%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker input[data-name=\"positionX\"]',\n        content: 'Change X position',\n        run: \"edit 33 && click .o_color_picker_inputs\",\n    },\n    checkGradient: 'radial-gradient(circle farthest-side at 33% 25%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker input[data-name=\"positionY\"]',\n        content: 'Change Y position',\n        run: \"edit 75 && click .o_color_picker_inputs\",\n    },\n    checkGradient: 'radial-gradient(circle farthest-side at 33% 75%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker we-button[data-gradient-size=\"closest-side\"]',\n        content: 'Change color spread size',\n        run: 'click',\n    },\n    checkGradient: 'radial-gradient(circle closest-side at 33% 75%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n// Revert to predefined gradient\n{\n    trigger: `.o_we_color_btn[data-color=\"${gradients[0]}\"]`,\n    content: `Revert to predefiend gradient ${gradients[0]}`,\n    run: 'click',\n},\n\n// Replace the gradient by a bg color\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkGradient: gradients[0],\n    checkNoGradient: gradients[1],\n    changeType: 'bg',\n    change: 'black-75',\n    finalSelector: `:iframe .${snippets[0].id}.o_cc.o_cc1.bg-black-75[style^=\"background-image: url(\"]:not([style*=\"${gradients[0]}\"])`\n}),\n\n// Re-add a gradient\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkBg: 'black-75',\n    checkNoGradient: gradients[0],\n    changeType: 'gradient',\n    change: gradients[1],\n    finalSelector: `:iframe .${snippets[0].id}.o_cc.o_cc1:not(.bg-black-75)`,\n    finalRun() {\n        const parts = weUtils.backgroundImageCssToParts(\n            getComputedStyle(this.anchor)[\"background-image\"]\n        );\n        if (!parts.url || !parts.url.startsWith('url(')) {\n            throw new Error('The image should have been kept when re-adding the gradient');\n        }\n        if (parts.gradient !== gradients[1]) {\n            throw new Error('The gradient should have been re-added');\n        }\n    },\n}),\n\n// Final check of color selection and removing the image\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkNoBg: 'black-75',\n    checkGradient: gradients[1],\n}),\nchangeOption('ColoredLevelBackground', '[data-name=\"bg_image_toggle_opt\"]', 'image toggle', 'top', true),\n{\n    trigger: `:iframe .${snippets[0].id}.o_cc.o_cc1[style*=\"background-image: ${gradients[1]}\"]`,\n},\n\n// Now removing all colors via the 'None' button (note: colorpicker still opened)\n{\n    trigger: '.o_colorpicker_reset',\n    content: \"Click on the None button of the color palette\",\n    run: \"click\",\n},\n{\n    trigger: `:iframe .${snippets[0].id}:not(.o_cc):not(.o_cc1):not([style*=\"background-image\"])`,\n    content: \"All color classes and properties should have been removed\",\n}\n]);\n", "/** @odoo-module **/\n\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    registerWebsitePreviewTour,\n    testSwitchWebsite,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('snippet_cache_across_websites', {\n    edition: true,\n    url: '/@/'\n}, () => [\n    {\n        content: \"Click on the Custom category block\",\n        trigger: \"#oe_snippets .oe_snippet[name='Custom'].o_we_draggable .oe_snippet_thumbnail\",\n        run: \"click\",\n    },\n    {\n        content: \"Ensure custom snippet preview appeared in the dialog\",\n        trigger: \":iframe .o_snippet_preview_wrap[data-snippet-id='s_text_block'] section[data-name='custom_snippet_test']\",\n    },\n    {\n        content: \"Close the 'add snippet' dialog\",\n        trigger: \".o_add_snippet_dialog .modal-header .btn-close\",\n        run: \"click\",\n    },\n    // There's no need to save, but canceling might or might not show a popup...\n    ...clickOnSave(),\n    ...testSwitchWebsite('Test Website'),\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: \"Check that the custom snippet category is not here\",\n        trigger: \"#oe_snippets:not(:has(.oe_snippet[name='Custom']))\",\n    },\n]);\n", "/** @odoo-module */\n\nimport {\n    changeOption,\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('snippet_countdown', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...insertSnippet({id: \"s_countdown\", name: \"Countdown\", groupName: \"Content\"}),\n    ...clickOnSnippet({id: 's_countdown', name: 'Countdown'}),\n    changeOption('countdown', 'we-select:has([data-end-action]) we-toggler', 'end action'),\n    changeOption('countdown', 'we-button[data-end-action=\"message\"]', 'end action'),\n    changeOption('countdown', 'we-button.toggle-edit-message', 'message preview'),\n    // The next two steps check that the end message does not disappear when a\n    // widgets_start_request is triggered.\n    {\n        content: \"Hover an option which has a preview\",\n        trigger: '[data-select-class=\"o_half_screen_height\"]',\n        run: \"hover\",\n    },\n    {\n        content: \"Check that the countdown message is still displayed\",\n        trigger: ':iframe .s_countdown .s_picture',\n        run() {\n            // Just a visibility check\n\n            // Also make sure the mouseout and mouseleave are triggered so that\n            // next steps make sense.\n            // TODO the next steps are not actually testing anything without\n            // it and the mouseout and mouseleave make sense but really it\n            // should not be *necessary* to simulate those for the editor flow\n            // to make some sense.\n            const previousAnchor = document.querySelector('[data-select-class=\"o_half_screen_height\"]');\n            previousAnchor.dispatchEvent(new Event(\"mouseout\"));\n            previousAnchor.dispatchEvent(new Event(\"mouseleave\"));\n        },\n    },\n    // Next, we change the end action to message and no countdown while the edit\n    // message toggle is still activated. It should hide the countdown\n    changeOption('countdown', 'we-select:has([data-end-action]) we-toggler', 'end action'),\n    changeOption('countdown', 'we-button[data-end-action=\"message_no_countdown\"]', 'end action'),\n    {\n        content: \"Check that the countdown is not displayed\",\n        trigger: ':iframe .s_countdown:has(.s_countdown_canvas_wrapper:not(:visible))',\n    },\n    {\n        content: \"Check that the message is still displayed\",\n        trigger: ':iframe .s_countdown .s_picture',\n    },\n]);\n", "/** @odoo-module */\n\nimport {\n    changeOption,\n    clickOnSave,\n    insertSnippet,\n    goBackToBlocks,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\nimport { browser } from '@web/core/browser/browser';\n\nregisterWebsitePreviewTour('snippet_editor_panel_options', {\n    url: '/',\n    edition: true,\n}, () => [\n...insertSnippet({\n    id: 's_text_image',\n    name: 'Text - Image',\n    groupName: \"Content\",\n}),\n// Test keeping the text selection when using the width option.\n{\n    content: \"Click on the first paragraph.\",\n    trigger: ':iframe .s_text_image p',\n    run: \"click\",\n}, {\n    content: \"The text toolbar should be visible. The paragraph should be selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_image p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph was not correctly selected.\");\n        }\n    },\n}, {\n    content: \"Click on the width option.\",\n    trigger: '[data-select-class=\"o_container_small\"]',\n    run: \"click\",\n}, {\n    content: \"The snippet should have the correct class.\",\n    trigger: ':iframe .s_text_image > .o_container_small',\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_image p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test the anchor option.\n{\n    content: \"Click on the anchor option\",\n    trigger: '#oe_snippets .snippet-option-anchor we-button',\n    async run(helpers) {\n        // Patch and ignore write on clipboard in tour as we don't have permissions\n        const oldWriteText = browser.navigator.clipboard.writeText;\n        browser.navigator.clipboard.writeText = () => { console.info('Copy in clipboard ignored!') };\n        await helpers.click();\n        browser.navigator.clipboard.writeText = oldWriteText;\n    }\n}, {\n    content: \"Check the copied url from the notification toast\",\n    trigger: '.o_notification_manager .o_notification_content',\n    run() {\n        const { textContent } = this.anchor;\n        const url = textContent.substring(textContent.indexOf('/'));\n\n        // The url should not target the client action\n        if (url.startsWith('/@')) {\n            console.error('The anchor option should target the frontend');\n        }\n\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const snippetId = iframeDocument.querySelector('.s_text_image').id;\n        if (!url || url.indexOf(snippetId) < 0) {\n            console.error('The anchor option does not target the correct snippet.');\n        }\n    },\n},\n// Test keeping the text selection when adding columns to a snippet with none.\ngoBackToBlocks(),\n...insertSnippet({\n    id: 's_text_block',\n    name: 'Text',\n    groupName: \"Text\",\n}),\n{\n    content: \"Click on the first paragraph.\",\n    trigger: ':iframe .s_text_block p',\n    run: \"click\",\n}, {\n    content: \"The text toolbar should be visible. The paragraph should be selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_block p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph was not correctly selected.\");\n        }\n    },\n}, {\n    content: \"Click on the columns option.\",\n    trigger: '.snippet-option-layout_column we-select',\n    run: \"click\",\n},\n{\n    content: \"Change the number of columns.\",\n    trigger: '.snippet-option-layout_column [data-select-count=\"3\"]',\n    run: \"click\",\n}, {\n    content: \"The snippet should have the correct number of columns.\",\n    trigger: ':iframe .s_text_block .container > .row .col-lg-4:eq(3)',\n    run() {\n        if (this.anchor.childElementCount !== 3) {\n            console.error(\"The snippet does not have the correct number of columns\");\n        }\n    },\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_block p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test keeping the text selection when removing all columns of a snippet.\n{\n    content: \"Click on the columns option.\",\n    trigger: '.snippet-option-layout_column we-select',\n    run: \"click\",\n},\n{\n    content: \"Change the number of columns.\",\n    trigger: '.snippet-option-layout_column [data-select-count=\"0\"]',\n    run: \"click\",\n}, {\n    content: \"The snippet should have the correct number of columns.\",\n    trigger: ':iframe .s_text_block .container:not(:has(.row))',\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_block p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test keeping the text selection when toggling the grid mode.\nchangeOption(\"layout_column\", 'we-button[data-name=\"grid_mode\"]'),\n{\n    content: \"The snippet row should have the grid mode class.\",\n    trigger: \":iframe .s_text_block .row.o_grid_mode\",\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: \"#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container\",\n    run() {\n        const iframeDocument = document.querySelector(\".o_iframe\").contentDocument;\n        const pText = iframeDocument.querySelector(\".s_text_block p\").textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test keeping the text selection when toggling back the normal mode.\nchangeOption(\"layout_column\", 'we-button[data-name=\"normal_mode\"]'),\n{\n    content: \"The snippet row should not have the grid mode class anymore.\",\n    trigger: \":iframe .s_text_block .row:not(.o_grid_mode)\",\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: \"#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container\",\n    run() {\n        const iframeDocument = document.querySelector(\".o_iframe\").contentDocument;\n        const pText = iframeDocument.querySelector(\".s_text_block p\").textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test close dropdowns if click anywhere outside the dropdown\n{\n    content: \"Open text style dropdown.\",\n    trigger: \"#style button.dropdown-toggle\",\n    run: \"click\",\n}, {\n    content: \"Check if dropdown opened correctly.\",\n    trigger: \"#style button[data-bs-toggle=dropdown][aria-expanded=true]\",\n}, {\n    content: \"Click on the first paragraph again.\",\n    trigger: \":iframe .s_text_block p\",\n    run: \"click\",\n}, {\n    content: \"Check if dropdown closed correctly.\",\n    trigger: \"#style button[data-bs-toggle=dropdown][aria-expanded=false]\",\n},\n...clickOnSave(),\n]);\n", "/** @odoo-module **/\n\nimport {\n    changeOption,\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from \"@website/js/tours/tour_utils\";\n\nfunction removeSelectedBlock() {\n    return {\n        content: \"Remove selected block\",\n        trigger: '#oe_snippets we-customizeblock-options:nth-last-child(3) .oe_snippet_remove',\n        run: \"click\",\n    };\n}\n\nregisterWebsitePreviewTour('snippet_empty_parent_autoremove', {\n    url: '/',\n    edition: true,\n}, () => [\n    // Base case: remove both columns from text - image\n    ...insertSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n        groupName: \"Content\",\n    }),\n    {\n        content: \"Click on second column\",\n        trigger: ':iframe #wrap .s_text_image .row > :nth-child(2)',\n        run: \"click\",\n    },\n    removeSelectedBlock(),\n    {\n        content: \"Click on first column\",\n        trigger: ':iframe #wrap .s_text_image .row > :first-child',\n        run: \"click\",\n    },\n    removeSelectedBlock(),\n    {\n        content: \"Check that #wrap is empty\",\n        trigger: ':iframe #wrap:empty',\n    },\n\n    // Cover: test that parallax, bg-filter and shape are not treated as content\n    ...insertSnippet({\n        id: 's_cover',\n        name: 'Cover',\n        groupName: \"Intro\",\n    }),\n    ...clickOnSnippet({\n        id: 's_cover',\n        name: 'Cover',\n    }),\n    // Add a shape\n    changeOption('ColoredLevelBackground', 'Shape'),\n    {\n        content: \"Check that the parallax element is present\",\n        trigger: ':iframe #wrap .s_cover .s_parallax_bg',\n    },\n    {\n        content: \"Check that the filter element is present\",\n        trigger: ':iframe #wrap .s_cover .o_we_bg_filter',\n    },\n    {\n        content: \"Check that the shape element is present\",\n        trigger: ':iframe #wrap .s_cover .o_we_shape',\n    },\n    // Add a column\n    changeOption('layout_column', 'we-toggler'),\n    changeOption('layout_column', '[data-select-count=\"1\"]'),\n    {\n        content: \"Click on the created column\",\n        trigger: ':iframe #wrap .s_cover .row > :first-child',\n        run: \"click\",\n    },\n    removeSelectedBlock(),\n    {\n        content: \"Check that #wrap is empty\",\n        trigger: ':iframe #wrap:empty',\n    },\n]);\n", "/** @odoo-module **/\n\nimport {insertSnippet, registerWebsitePreviewTour } from \"@website/js/tours/tour_utils\";\n\nregisterWebsitePreviewTour(\"snippet_image\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({id: \"s_image\", name: \"Image\"}),\n{\n    content: \"Verify if the media dialog opens\",\n    trigger: \".o_select_media_dialog\",\n},\n{\n    content: \"Close the media dialog\",\n    trigger: \".o_select_media_dialog .btn-close\",\n    run: \"click\",\n},\n{\n    content: \"Verify if the image placeholder has been removed\",\n    trigger: \":iframe footer:not(:has(.s_image > svg))\",\n},\n    ...insertSnippet({id: \"s_image\", name: \"Image\"}),\n{\n    content: \"Verify that the image placeholder is within the page\",\n    trigger: \":iframe footer .s_image > svg\",\n},\n{\n    content: \"Click on the image\",\n    trigger: \".o_select_media_dialog .o_we_media_dialog_img_wrapper img\",\n    run: \"click\",\n},\n{\n    content: \"Verify if the image has been added in the footer and if the image placeholder has been removed\",\n    trigger: \":iframe footer:not(:has(.s_image > svg)) img.o_we_custom_image\",\n},\n{\n    content: \"Click on the 'undo' button\",\n    trigger: '#oe_snippets button.fa-undo',\n    run: \"click\",\n},\n{\n    content: \"Check that the image and the image placeholder have been removed\",\n    trigger: \":iframe footer:not(:has(.s_image > svg)):not(:has(img.o_we_custom_image))\",\n},\n]);\n", "/** @odoo-module */\n\nimport {\n    addMedia,\n    changeOption,\n    clickOnSave,\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('snippet_image_gallery', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...insertSnippet({id: 's_images_wall', name: 'Images Wall', groupName: \"Images\"}),\n    ...clickOnSave(),\n    {\n        content: 'Click on an image of the Image Wall',\n        trigger: ':iframe .s_image_gallery img',\n        run: 'click',\n    },\n    {\n        content: 'Check that the modal has opened properly',\n        trigger: ':iframe .s_gallery_lightbox img',\n    },\n]);\n\nregisterWebsitePreviewTour(\"snippet_image_gallery_remove\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_image_gallery\",\n        name: \"Image Gallery\",\n        groupName: \"Images\",\n}),\n...clickOnSnippet({\n    id: 's_image_gallery',\n    name: 'Image Gallery',\n}), {\n    content: \"Click on Remove all\",\n    trigger: \"we-button:has(div:contains('Remove all'))\",\n    run: \"click\",\n}, {\n    content: \"Click on Add Images\",\n    trigger: \":iframe span:contains('Add Images')\",\n    run: \"click\",\n}, {\n    content: \"Click on the first new image\",\n    trigger: \".o_select_media_dialog img[title='s_default_image.jpg']\",\n    run: \"click\",\n}, {\n    content: \"Click on the second new image\",\n    trigger: \".o_select_media_dialog img[title='s_default_image2.jpg']\",\n    run: \"click\",\n},\n    addMedia(),\n   {\n    content: \"Click on the image of the Image Gallery snippet\",\n    trigger: \":iframe .s_image_gallery .carousel-item.active  img\",\n    run: \"click\",\n}, {\n    content: \"Check that the Snippet Editor of the clicked image has been loaded\",\n    trigger: \"we-customizeblock-options span:contains('Image'):not(:contains('Image Gallery'))\",\n}, {\n    content: \"Click on Remove Block\",\n    trigger: \".o_we_customize_panel we-title:has(span:contains('Image Gallery')) we-button[title='Remove Block']\",\n    run: \"click\",\n}, {\n    content: \"Check that the Image Gallery snippet has been removed\",\n    trigger: \":iframe #wrap:not(:has(.s_image_gallery))\",\n}]);\n\nregisterWebsitePreviewTour(\"snippet_image_gallery_reorder\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_image_gallery\",\n        name: \"Image Gallery\",\n        groupName: \"Images\",\n    }),\n{\n    content: \"Click on the first image of the snippet\",\n    trigger: \":iframe .s_image_gallery .carousel-item.active img\",\n    run: \"click\",\n},\n    changeOption('ImageTools', 'we-select:contains(\"Filter\") we-toggler'),\n    changeOption('ImageTools', '[data-gl-filter=\"blur\"]'),\n{\n    content: \"Check that the image has the correct filter\",\n    trigger: \".snippet-option-ImageTools we-select:contains('Filter') we-toggler:contains('Blur')\",\n}, {\n    content: \"Click on move to next\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='next']\",\n    run: \"click\",\n}, {\n    content: \"Check that the image has been moved\",\n    trigger: \":iframe .s_image_gallery .carousel-item.active img[data-index='1']\",\n}, {\n    content: \"Click on the footer to reload the editor panel\",\n    trigger: \":iframe #footer\",\n    run: \"click\",\n}, {\n    content: \"Check that the footer options have been loaded\",\n    trigger: \".snippet-option-HideFooter we-button:contains('Page Visibility')\",\n}, {\n    content: \"Click on the moved image\",\n    trigger: \":iframe .s_image_gallery .carousel-item.active img[data-index='1'][data-gl-filter='blur']\",\n    run: \"click\",\n}, {\n    content: \"Check that the image still has the correct filter\",\n    trigger: \".snippet-option-ImageTools we-select:contains('Filter') we-toggler:contains('Blur')\",\n}, {\n    content: \"Click to access next image\",\n    trigger: \":iframe .s_image_gallery .carousel-control-next\",\n    run: \"click\",\n}, {\n    content: \"Check that the option has changed\",\n    trigger: \".snippet-option-ImageTools we-select:contains('Filter') we-toggler:not(:contains('Blur'))\",\n}, {\n    content: \"Click to access previous image\",\n    trigger: \":iframe .s_image_gallery .carousel-control-prev\",\n    run: \"click\",\n}, {\n    content: \"Check that the option is restored\",\n    trigger: \".snippet-option-ImageTools we-select:contains('Filter') we-toggler:contains('Blur')\",\n}]);\n\nregisterWebsitePreviewTour(\"snippet_image_gallery_thumbnail_update\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_image_gallery\",\n        name: \"Image Gallery\",\n        groupName: \"Images\",\n    }),\n    ...clickOnSnippet({\n        id: \"s_image_gallery\",\n        name: \"Image Gallery\",\n    }),\n    changeOption(\"GalleryImageList\", \"we-button[data-add-images]\"),\n{\n    content: \"Click on the default image\",\n    trigger: \".o_select_media_dialog img[title='s_default_image.jpg']\",\n    run: \"click\",\n},\n    addMedia(),\n{\n    content: \"Check that the new image has been added\",\n    trigger: \":iframe .s_image_gallery:has(img[data-index='3'])\",\n}, {\n    content: \"Check that the thumbnail of the first image has not been changed\",\n    trigger: \":iframe .s_image_gallery div.carousel-indicators button:first-child[style='background-image: url(/web/image/website.library_image_08)']\",\n}]);\n", "/** @odoo-module */\n\nimport { insertSnippet, registerWebsitePreviewTour } from \"@website/js/tours/tour_utils\";\n\nregisterWebsitePreviewTour('website_image_quality', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n        groupName: \"Content\",\n    }),\n    {\n        content: \"Select image\",\n        trigger: ':iframe .s_text_image img',\n        run: \"click\",\n    },\n    {\n        content: \"Set low quality\",\n        trigger: 'we-customizeblock-options:has(we-title:contains(\"Image\")) we-range[data-set-quality] input',\n        run: 'range 5',\n    },\n    {\n        content: \"Wait for image update: NOT original image\",\n        trigger: ':iframe .s_text_image img:not([src$=\"s_text_image_default_image\"])',\n    },\n    {\n        content: \"Check image size\",\n        // Reached size cannot be hardcoded because it changes with\n        // different versions of Chrome.\n        trigger: 'we-customizeblock-options:has(we-title:contains(\"Image\")) .o_we_image_weight:contains(\" kb\"):not(:contains(\"42.9 kb\"))',\n        run() {\n            // Make sure the reached size is smaller than the original one.\n            if (parseFloat(this.anchor.innerText) >= 42.9) {\n                throw new Error(\"Image size should be smaller than original\");\n            }\n        },\n    },\n    {\n        content: \"Set high quality\",\n        trigger: 'we-customizeblock-options:has(we-title:contains(\"Image\")) we-range[data-set-quality] input',\n        run: 'range 99',\n    },\n    {\n        content: \"Wait for image update: back to original image\",\n        trigger: ':iframe .s_text_image img[src$=\"LRQeyj8rLxXuVHZYnLENbMShuqm5A0slYRpf/AP/Z\"]',\n    },\n    {\n        content: \"Check image size\",\n        trigger: 'we-customizeblock-options:has(we-title:contains(\"Image\")) .o_we_image_weight:contains(\"42.9\")',\n    },\n]);\n", "/** @odoo-module **/\n\nimport {clickOnSnippet, insertSnippet, registerWebsitePreviewTour } from \"@website/js/tours/tour_utils\";\n\nconst wallRaceConditionClass = \"image_wall_race_condition\";\nconst preventRaceConditionSteps = [{\n    content: \"Wait a few ms to avoid race condition\",\n    // Ensure the class is remove from previous call of those steps\n    trigger: `body:not(.${wallRaceConditionClass})`,\n    run() {\n        setTimeout(() => {\n            document.body.classList.add(wallRaceConditionClass);\n        }, 500);\n    }\n}, {\n    content: \"Check the race condition class is added after a few ms\",\n    trigger: `body.${wallRaceConditionClass}`,\n    run() {\n        document.body.classList.remove(wallRaceConditionClass);\n    }\n}];\n\nconst selectSignImageStep = [\n    {\n        trigger: \".o_we_customize_panel:not(:has(.snippet-option-GalleryElement))\",\n    },\n    {\n        content: \"Click on image 14\",\n        trigger: \":iframe .s_image_gallery img[data-original-src*='library_image_14']\",\n        run: \"click\",\n    },\n];\n// Without reselecting the image, the tour manages to click on the\n// move button before the active image is updated.\n\n// We need to wait a few ms before clicking on the footer because after\n// clicking on reposition option, there may be a delay during the click on\n// another block would be ignored.\nconst reselectSignImageSteps = [\n    ...preventRaceConditionSteps,\n    {\n        trigger: \":iframe .s_image_gallery .o_masonry_col:nth-child(2):has(img[data-index='1'])\",\n    },\n    {\n        content: \"Select footer\",\n        trigger: \":iframe footer\",\n        run: \"click\",\n    },\n    ...selectSignImageStep,\n];\n\nregisterWebsitePreviewTour(\"snippet_images_wall\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_images_wall\",\n        name: \"Images Wall\",\n        groupName: \"Images\",\n}),\n...clickOnSnippet({\n    id: \"s_image_gallery\",\n    name: \"Images Wall\",\n}),\n        ...selectSignImageStep,\n{\n    content: \"Click on add a link\",\n    trigger: \".snippet-option-ReplaceMedia we-button[data-set-link]\",\n    run: \"click\",\n}, {\n    content: \"Change the link of the image\",\n    trigger: \".snippet-option-ReplaceMedia [data-set-url] input\",\n    // TODO: This should not be needed, but there seems to be an odd behavior\n    // with the input not properly blurring when clicking on the reorder\n    // buttons. However this is also the case in older versions. It\n    // only crashes here because there is also a change in the tour framework\n    // now using hoot.\n    run: \"edit /contactus && click body\",\n}, {\n    content: \"Click on move to previous\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='prev']\",\n    run: \"click\",\n}, {\n    content: \"Check if sign is in second column\",\n    trigger: \":iframe .s_image_gallery .o_masonry_col:nth-child(2):has(a[href='/contactus'] img[data-index='1'][data-original-src*='library_image_14'])\",\n},\n...reselectSignImageSteps,\n{\n    content: \"Click on move to first\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='first']\",\n    run: \"click\",\n}, {\n    content: \"Check if sign is in first column\",\n    trigger: \":iframe .s_image_gallery .o_masonry_col:nth-child(1):has(img[data-index='0'][data-original-src*='library_image_14'])\",\n},\n...reselectSignImageSteps,\n{\n    content: \"Click on move to previous\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='prev']\",\n    run: \"click\",\n}, {\n    content: \"Check if sign is in third column\",\n    trigger: \":iframe .s_image_gallery .o_masonry_col:nth-child(3):has(img[data-index='5'][data-original-src*='library_image_14'])\",\n},\n...reselectSignImageSteps,\n{\n    content: \"Click on move to next\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='next']\",\n    run: \"click\",\n}, {\n    content: \"Check if sign is in first column\",\n    trigger: \":iframe .s_image_gallery .o_masonry_col:nth-child(1):has(img[data-index='0'][data-original-src*='library_image_14'])\",\n},\n...reselectSignImageSteps,\n{\n    content: \"Click on move to last\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='last']\",\n    run: \"click\",\n}, {\n    content: \"Check layout\",\n    trigger: \":iframe .s_image_gallery .o_masonry_col:nth-child(3):has(img[data-index='5'][data-original-src*='library_image_14'])\",\n}]);\n", "/** @odoo-module */\n\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('snippet_popup_add_remove', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        name: \"Popup\",\n        id: \"s_popup\",\n        groupName: \"Content\",\n}), {\n    content: 'Edit s_popup snippet',\n    trigger: ':iframe #wrap.o_editable [data-snippet=\"s_popup\"] .row > div', // Click deep in the snippet structure\n    run: \"click\",\n}, {\n    content: 'Check s_popup setting are loaded, wait panel is visible',\n    trigger: '.o_we_customize_panel',\n},\n...clickOnSave(),\n...clickOnEditAndWaitEditMode(),\n{\n    content: 'Toggle the visibility of the Popup',\n    trigger: '.o_we_invisible_el_panel .o_we_invisible_entry:contains(\"Popup\")',\n    run: \"click\",\n}, {\n    content: 'Edit s_popup snippet(2)',\n    trigger: ':iframe #wrap.o_editable [data-snippet=\"s_popup\"] h2',\n    run: function() {\n        // Simulating pressing enter.\n        const anchor = this.anchor;\n        // Trick the editor into keyboardType === 'PHYSICAL' and press enter\n        anchor.dispatchEvent(new KeyboardEvent(\"keydown\", { key: \"Enter\", bubbles: true }));\n        // Trigger editor's '_onInput' handler, which leads to historyRollback.\n        anchor.dispatchEvent(new InputEvent('input', { inputType: 'insertLineBreak', bubbles: true }));\n    }\n}, {\n    content: 'Check the s_popup was visible',\n    trigger: ':iframe #wrapwrap:has([data-snippet=\"s_popup\"]:not(.d-none))',\n}, {\n    content: `Remove the s_popup snippet`,\n    trigger: '.o_we_customize_panel we-customizeblock-options:contains(\"Popup\") we-button.oe_snippet_remove:first',\n    run: \"click\",\n}, {\n    content: 'Check the s_popup was removed',\n    trigger: ':iframe #wrap.o_editable:not(:has([data-snippet=\"s_popup\"]))',\n},\n// Test that undoing dropping the snippet removes the invisible elements panel.\n...insertSnippet({\n    name: \"Popup\",\n    id: \"s_popup\",\n    groupName: \"Content\",\n}), {\n    content: \"The popup should be in the invisible elements panel.\",\n    trigger: '.o_we_invisible_el_panel .o_we_invisible_entry',\n}, {\n    content: \"Click on the 'undo' button.\",\n    trigger: '#oe_snippets button.fa-undo',\n    run: \"click\",\n}, {\n    content: \"Check that the s_popup was removed.\",\n    trigger: ':iframe #wrap.o_editable:not(:has([data-snippet=\"s_popup\"]))',\n}, {\n    content: \"The invisible elements panel should also be removed.\",\n    trigger: '#oe_snippets:not(:has(.o_we_invisible_el_panel)',\n}]);\n", "/** @odoo-module */\n\nimport {\n    changeOption,\n    clickOnEditAndWaitEditMode,\n    clickOnElement,\n    clickOnSave,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from \"@website/js/tours/tour_utils\";\n\nconst snippets = [\n    {\n        id: \"s_popup\",\n        name: \"Popup\",\n        groupName: \"Content\",\n    },\n    {\n        id: \"s_media_list\",\n        name: \"Media List\",\n        groupName: \"Content\",\n    },\n    {\n        id: \"s_three_columns\",\n        name: \"Columns\",\n        groupName: \"Columns\",\n    },\n];\n\nconst setOnScrollAnim = function () {\n    return [\n        changeOption(\"WebsiteAnimate\", 'we-select[data-is-animation-type-selection=\"true\"] we-toggler'),\n        changeOption(\"WebsiteAnimate\", 'we-button[data-animation-mode=\"onScroll\"]'),\n        changeOption(\"WebsiteAnimate\", 'we-select[data-name=\"animation_effect_opt\"] we-toggler'),\n        changeOption(\"WebsiteAnimate\", 'we-button[data-name=\"o_anim_slide_in_opt\"]'),\n    ];\n};\n\nregisterWebsitePreviewTour(\"snippet_popup_and_animations\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet(snippets[1]), // Media List\n    ...insertSnippet(snippets[1]), // Media List\n    ...insertSnippet(snippets[2]), // Columns\n    clickOnElement(\"3rd columns\", \":iframe .s_three_columns .row > :last-child\"),\n    ...setOnScrollAnim(),\n    {\n        content: \"Open the Cookies Bar.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry\",\n        run: \"click\",\n    },\n    {\n        trigger: \":iframe #website_cookies_bar:not(.d-none):not(:visible)\",\n    },\n    {\n        content: \"Scroll to top\",\n        trigger: \":iframe html\",\n        run() {\n            const animatedColumnEl = this.anchor.querySelector(\".s_three_columns .row > :last-child\");\n            // When the animated element is fully visible, its animation delay\n            // should be rounded to -1 in the following condition.\n            if (Math.round(parseFloat(animatedColumnEl.style.animationDelay)) !== -1) {\n                throw new Error(\"The scroll animation in the page did not start properly with the cookies bar open.\");\n            }\n            this.anchor.scrollTo({\n                top: 0,\n                left: 0,\n                behavior: 'smooth'\n            });\n        },\n    },\n    {\n        trigger: \":iframe header#top:not(.o_header_affixed)\",\n    },\n    {\n        content: \"Wait for the page to be scrolled to the top.\",\n        trigger: \":iframe .s_three_columns .row > :last-child:not(.o_animating)\",\n        run() {\n            // If the column has been animated successfully, the animation delay\n            // should be set to approximately zero when it is not visible.\n            // The main goal of the following condition is to verify if the\n            // animation delay is being updated as expected.\n            if (Math.round(parseFloat(this.anchor.style.animationDelay)) !== 0) {\n                throw new Error(\"The scroll animation in the page did not end properly with the cookies bar open.\");\n            }\n        },\n    },\n    {\n        content: \"Close the Cookies Bar.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry\",\n        run: \"click\",\n    },\n    ...insertSnippet(snippets[0]), // Popup\n    ...insertSnippet(snippets[1]), // Media List\n    {\n        trigger: \".o_website_preview.editor_enable.editor_has_snippets\",\n    },\n    {\n        content: \"Drag the Columns snippet group and drop it at the bottom of the popup.\",\n        trigger: '#oe_snippets .oe_snippet[name=\"Columns\"] .oe_snippet_thumbnail:not(.o_we_ongoing_insertion)',\n        run: \"drag_and_drop :iframe #wrap .s_popup .modal-content.oe_structure .oe_drop_zone:last\",\n    },\n    {\n        content: \"Click on the s_three_columns snippet.\",\n        trigger: ':iframe .o_snippet_preview_wrap[data-snippet-id=\"s_three_columns\"]',\n        run: \"click\",\n    },\n    clickOnElement(\"3rd columns\", \":iframe .s_popup .s_three_columns .row > :last-child\"),\n    ...setOnScrollAnim(),\n    {\n        content: \"Verify the animation delay of the animated element in the popup at the beginning\",\n        trigger: \":iframe .s_popup .modal\",\n        run() {\n            const animatedColumnEl = this.anchor.querySelector(\".s_three_columns .row > :last-child\");\n            // When the animated element is fully visible, its animation delay\n            // should be rounded to -1 in the following condition.\n            if (Math.round(parseFloat(animatedColumnEl.style.animationDelay)) !== -1) {\n                throw new Error(\"The scroll animation in the modal did not start properly.\");\n            }\n            this.anchor.closest(\".modal\").scrollTo({\n                top: 0,\n                left: 0,\n                behavior: 'smooth'\n            });\n        },\n    },\n    {\n        content: \"Wait until the column is no longer animated/visible.\",\n        trigger: \":iframe .s_popup .s_three_columns .row > :last-child:not(:has(.o_animating))\",\n        async run() {\n            //TODO: understand why we now wait 500ms before check the condition\n            await new Promise((r) => setTimeout(r, 500));\n            // If the column has been animated successfully, the animation delay\n            // should be set to approximately zero when it is not visible.\n            if (Math.round(parseFloat(this.anchor.style.animationDelay)) !== 0) {\n                throw new Error(\"The scroll animation in the modal did not end properly.\");\n            }\n        },\n    },\n    {\n        content: \"Close the Popup\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Popup') i.fa-eye\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the popup has been closed\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Popup') i.fa-eye-slash\",\n    },\n    clickOnElement(\"Last image of the 'Columns' snippet\", \":iframe .s_three_columns .o_animate_on_scroll img\"),\n    changeOption(\"WebsiteAnimate\", 'we-toggler:contains(\"None\")'),\n    changeOption(\"WebsiteAnimate\", 'we-button[data-animation-mode=\"onHover\"]'),\n    {\n        trigger: \".snippet-option-WebsiteAnimate we-row:contains('Animation') we-select[data-is-animation-type-selection] we-toggler:contains('On Hover')\",\n    },\n    {\n        content: \"Check that the hover effect animation has been applied on the image\",\n        trigger: \":iframe .s_three_columns .o_animate_on_scroll img[data-hover-effect='overlay']\",\n    },\n    ...clickOnSave(),\n    ...clickOnEditAndWaitEditMode(),\n    clickOnElement(\"Image of the 'Columns' snippet with the overlay effect\", \":iframe .s_three_columns .o_animate_on_scroll img[data-hover-effect='overlay']\"),\n    changeOption(\"WebsiteAnimate\", 'we-toggler:contains(\"Overlay\")'),\n    changeOption(\"WebsiteAnimate\", 'we-button[data-select-data-attribute=\"outline\"]'),\n    {\n        trigger: \".snippet-option-WebsiteAnimate we-select[data-attribute-name='hoverEffect'] we-toggler:contains('Outline')\",\n    },\n    {\n        content: \"Check that the outline effect has been applied on the image\",\n        trigger: \":iframe .s_three_columns .o_animate_on_scroll img[data-hover-effect='outline']\",\n    },\n    ...clickOnSave(),\n    {\n        content: \"Check that the image src is not the raw data\",\n        trigger: \":iframe .s_three_columns .o_animate_on_scroll img[data-hover-effect='outline']\",\n        run() {\n            const imgEl = document.querySelector(\"iframe\").contentDocument.querySelector(\".s_three_columns .o_animate_on_scroll img[data-hover-effect='outline']\");\n            const src = imgEl.getAttribute(\"src\");\n            if (src.startsWith(\"data:image\")) {\n                throw new Error(\"The image source should not be raw data after the editor save\");\n            }\n        },\n    },\n    ...clickOnEditAndWaitEditMode(),\n    clickOnElement(\"Image of the 'Columns' snippet with the outline effect\", \":iframe .s_three_columns .o_animate_on_scroll img[data-hover-effect='outline']\"),\n    changeOption(\"ImageTools\", 'we-select:contains(\"Filter\") we-toggler:contains(\"None\")'),\n    changeOption(\"ImageTools\", 'we-button:contains(\"Blur\")'),\n    {\n        trigger: \".snippet-option-ImageTools we-select:contains('Filter') we-toggler:contains('Blur')\",\n    },\n    {\n        content: \"Check that the Blur filter has been applied on the image\",\n        trigger: \":iframe .s_three_columns .o_animate_on_scroll img[data-gl-filter='blur']\",\n    },\n    {\n        content: \"Click on the 'undo' button\",\n        trigger: \".o_we_external_history_buttons button.fa-undo\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the Blur filter has been removed from the image\",\n        trigger: \":iframe .s_three_columns .o_animate_on_scroll img:not([data-gl-filter='blur'])\",\n    },\n    ...clickOnSave(),\n    {\n        content: \"Check that the image src is not the raw data\",\n        trigger: \":iframe .s_three_columns .o_animate_on_scroll img[data-hover-effect='outline']\",\n        run() {\n            const imgEl = document.querySelector(\"iframe\").contentDocument.querySelector(\".s_three_columns .o_animate_on_scroll img[data-hover-effect='outline']\");\n            const src = imgEl.getAttribute(\"src\");\n            if (src.startsWith(\"data:image\")) {\n                throw new Error(\"The image source should not be raw data after the editor save\");\n            }\n        },\n    },\n]);\n", "/** @odoo-module */\n\nimport {\n    changeOption,\n    insertSnippet,\n    goBackToBlocks,\n    registerWebsitePreviewTour,\n} from \"@website/js/tours/tour_utils\";\n\nconst snippets = [\n    {\n        id: \"s_popup\",\n        name: \"Popup\",\n        groupName: \"Content\",\n    },\n    {\n        id: \"s_media_list\",\n        name: \"Media List\",\n        groupName: \"Content\",\n    },\n];\n\nconst checkScrollbar = function (hasScrollbar) {\n    return {\n        content: `Check that the page ${hasScrollbar ? \"has\" : \"does not have\"} a vertical scrollbar.`,\n        trigger: `:iframe ${hasScrollbar ? \"body:not(.modal-open)\" : \"body.modal-open\"}`,\n        run: function () {\n            const style = window.getComputedStyle(this.anchor);\n            if (!hasScrollbar && (style.overflow !== \"hidden\" || parseFloat(style.paddingRight) < 1)) {\n                console.error(\"error The vertical scrollbar should be hidden\");\n            } else if (hasScrollbar && (style.overflow === \"hidden\" || parseFloat(style.paddingRight) > 0)) {\n                console.error(\"error The vertical scrollbar should be displayed\");\n            }\n        },\n    };\n};\n\nconst toggleBackdrop = function () {\n    return changeOption('SnippetPopup', 'we-button[data-name=\"popup_backdrop_opt\"] we-checkbox', 'backdrop');\n};\n\nregisterWebsitePreviewTour(\"snippet_popup_and_scrollbar\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet(snippets[1]), // Media List\n    ...insertSnippet(snippets[0]), // Popup\n    checkScrollbar(false),\n    {\n        content: 'Click on the s_popup snippet',\n        trigger: ':iframe .s_popup .modal',\n        run: \"click\",\n    },\n    toggleBackdrop(), // hide Popup backdrop\n    checkScrollbar(true),\n    goBackToBlocks(),\n    {\n        content: \"Drag the Content snippet group and drop it at the bottom of the popup.\",\n        trigger: '#oe_snippets .oe_snippet[name=\"Content\"] .oe_snippet_thumbnail:not(.o_we_ongoing_insertion)',\n        run: \"drag_and_drop :iframe #wrap .s_popup .oe_drop_zone:last\",\n    },\n    {\n        content: \"Click on the s_media_list snippet.\",\n        trigger: ':iframe .o_snippet_preview_wrap[data-snippet-id=\"s_media_list\"]',\n        run: \"click\",\n    },\n    checkScrollbar(false),\n    {\n        content: \"Select the Media List snippet in the Popup.\",\n        trigger: \":iframe #wrap .s_popup .modal-content .s_media_list\",\n        run: \"click\",\n    },\n    {\n        content: \"Remove the Media List snippet in the Popup.\",\n        trigger: \":iframe .oe_overlay.oe_active .oe_snippet_remove\",\n        run: \"click\",\n    },\n    checkScrollbar(true),\n    toggleBackdrop(), // show Popup backdrop\n    checkScrollbar(false),\n    {\n        content: \"Close the Popup that has now backdrop.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:first\",\n        run: \"click\",\n    },\n    checkScrollbar(true),\n    {\n        content: \"Open the Cookies Bar.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:last\",\n        run: \"click\",\n    },\n    checkScrollbar(true),\n    toggleBackdrop(), // show Cookies Bar backdrop\n    checkScrollbar(false),\n    toggleBackdrop(), // hide Cookies Bar backdrop\n    checkScrollbar(true),\n    {\n        content: \"Open the Popup that has backdrop.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:first\",\n        run: \"click\",\n    },\n    /* task-4185877\n    checkScrollbar(false),\n    */\n    goBackToBlocks(),\n    {\n        content: \"Drag the Content snippet group and drop it at the bottom of the popup.\",\n        trigger: '#oe_snippets .oe_snippet[name=\"Content\"] .oe_snippet_thumbnail:not(.o_we_ongoing_insertion)',\n        run: \"drag_and_drop :iframe #wrap .s_popup .oe_drop_zone:last\",\n    },\n    {\n        content: \"Click on the s_media_list snippet.\",\n        trigger: ':iframe .o_snippet_preview_wrap[data-snippet-id=\"s_media_list\"]',\n        run: \"click\",\n    },\n    /* task-4185877\n    checkScrollbar(true), // The popup backdrop is activated so there should be a scrollbar\n    */\n    {\n        content: 'Click on the s_popup snippet',\n        trigger: ':iframe .s_popup .modal',\n        run: \"click\",\n    },\n    {\n        content: \"Remove the s_popup snippet\",\n        trigger: \".o_we_customize_panel we-customizeblock-options:contains('Popup') we-button.oe_snippet_remove:first\",\n        async run(helpers) {\n            await helpers.click();\n            // TODO: remove the below setTimeout. Without it, goBackToBlocks() not works.\n            await new Promise((r) => setTimeout(r, 1000));\n        }\n    },\n    checkScrollbar(true),\n    goBackToBlocks(),\n    {\n        content: \"Drag the Content snippet group and drop it in the Cookies Bar.\",\n        trigger: '#oe_snippets .oe_snippet[name=\"Content\"] .oe_snippet_thumbnail:not(.o_we_ongoing_insertion)',\n        run: \"drag_and_drop :iframe #website_cookies_bar .modal-content.oe_structure\",\n    },\n    {\n        content: \"Click on the s_media_list snippet.\",\n        trigger: ':iframe .o_snippet_preview_wrap[data-snippet-id=\"s_media_list\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Select the Media List snippet in the Cookies Bar.\",\n        trigger: \":iframe #website_cookies_bar .modal-content .s_media_list\",\n        run: \"click\",\n    },\n    {\n        content: \"Duplicate the Media List snippet\",\n        trigger: \".o_we_customize_panel we-customizeblock-options:contains('Media List') we-button.oe_snippet_clone:first\",\n        run() {\n            // TODO: use run: \"click\", instead\n            this.anchor.click();\n        }\n    },\n    checkScrollbar(false),\n    {\n        content: \"Remove the first Media List snippet in the Cookies Bar.\",\n        trigger: \":iframe .oe_overlay.oe_active .oe_snippet_remove\",\n        run: \"click\",\n    },\n    {\n        content: \"Remove the second Media List snippet in the Cookies Bar.\",\n        trigger: \":iframe .oe_overlay.oe_active .oe_snippet_remove\",\n        run: \"click\",\n    },\n    checkScrollbar(true),\n]);\n", "/** @odoo-module */\n\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnElement,\n    clickOnSave,\n    changeOption,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\nimport { browser } from \"@web/core/browser/browser\";\n\nregisterWebsitePreviewTour(\"snippet_popup_display_on_click\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({id: \"s_text_image\", name: \"Image - Text\", groupName: \"Content\"}),\n    ...insertSnippet({id: \"s_popup\", name: \"Popup\", groupName: \"Content\"}),\n    {\n        content: \"Click inside the popup to access its options menu.\",\n        trigger: \":iframe .s_popup .s_banner\",\n        run: \"click\",\n    },\n    changeOption(\"SnippetPopup\", 'we-select[data-attribute-name=\"display\"] we-toggler'),\n    {\n        content: \"Click on the display 'On Click' option\",\n        trigger: \"#oe_snippets we-button[data-name='onclick_opt']\",\n        async run(helpers) {\n            // Patch and ignore write on clipboard in tour as we don't have permissions\n            const oldWriteText = browser.navigator.clipboard.writeText;\n            browser.navigator.clipboard.writeText = () => { console.info('Copy in clipboard ignored!') };\n            await helpers.click();\n            browser.navigator.clipboard.writeText = oldWriteText;\n        }\n    },\n    {\n        content: \"Check the copied anchor from the notification toast\",\n        trigger: \".o_notification_manager .o_notification_content\",\n        run() {\n            const notificationContent = this.anchor.innerText;\n            const anchor = notificationContent.substring(notificationContent.indexOf(\"#\"));\n\n            if (anchor !== \"#Win-%2420\") {\n                console.error(\"The popup anchor is not '#Win-%2420' as expected.\");\n            }\n        },\n    },\n    clickOnElement(\"button to close the popup\", \":iframe .s_popup_close\"),\n    clickOnElement(\"text image snippet button\", \":iframe .s_text_image .btn-secondary\"),\n    {\n        content: \"Paste the popup anchor in the URL input\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"edit #Win-%2420\",\n    },\n    ...clickOnSave(),\n    {\n        trigger: \"body .o_notification_manager:not(.o_upload_progress_toast):empty:hidden\",\n    },\n    {\n        content: \"Wait content of iframe is loaded\",\n        trigger: \":iframe main:contains(enhance your)\",\n    },\n    clickOnElement(\"text image snippet button\", \":iframe .s_text_image .btn-secondary\"),\n    {\n        content: \"Verify that the popup opens after clicked the button.\",\n        trigger: \":iframe .s_popup .modal[id='Win-%2420'].show\",\n        run: \"click\",\n    },\n    clickOnElement(\"button to close the popup\", \":iframe .s_popup_close\"),\n    {\n        content: \"Go to the 'contactus' page.\",\n        trigger: \":iframe a[href='/contactus']\",\n        run: \"click\",\n    },\n    {\n        content: \"wait for the page to be loaded\",\n        trigger: \".o_website_preview[data-view-xmlid='website.contactus']\",\n    },\n    ...clickOnEditAndWaitEditMode(),\n    ...insertSnippet({id: \"s_text_image\", name: \"Image - Text\", groupName: \"Content\"}),\n    clickOnElement(\"text image snippet button\", \":iframe .s_text_image .btn-secondary\"),\n    {\n        content: \"Add a link to the homepage in the URL input\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"edit /\",\n    },\n    {\n        content: \"Open the page anchor selector\",\n        trigger: \".o_link_dialog_page_anchor .dropdown-toggle\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on the popup anchor to add it after the homepage link in the URL input\",\n        trigger: \".o_link_dialog_page_anchor we-button:contains('#Win-%2420')\",\n        run: \"click\",\n    },\n    ...clickOnSave(),\n    {\n        trigger: \"body .o_notification_manager:not(.o_upload_progress_toast):empty:hidden\",\n    },\n    {\n        content: \"Wait content of iframe is loaded\",\n        trigger: \":iframe main:contains(enhance your)\",\n    },\n    {\n        content: \"Wait form is patched\",\n        trigger: \":iframe form#contactus_form input[name=company]:value(yourcompany)\",\n    },\n    clickOnElement(\"text image snippet button\", \":iframe .s_text_image .btn-secondary\"),\n    {\n        trigger: \".o_website_preview[data-view-xmlid='website.homepage']\",\n    },\n    {\n        content: \"Verify that the popup opens when the homepage page loads.\",\n        trigger: \":iframe .s_popup .modal[id='Win-%2420'].show\",\n    },\n]);\n", "/** @odoo-module **/\nimport {\n    changeOption,\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour(\"snippet_rating\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({ id: \"s_rating\", name: \"Rating\" }),\n    ...clickOnSnippet({ id: \"s_rating\", name: \"Rating\" }),\n    changeOption(\"Rating\", \"we-select:has([data-select-class]) we-toggler\"),\n    changeOption(\"Rating\", 'we-button[data-select-class=\"s_rating_inline\"]'),\n    {\n        content: \"Check whether s_rating_inline class applied or not\",\n        trigger: \":iframe .s_rating_inline\",\n    },\n    changeOption(\"Rating\", \"we-select:has([data-select-class]) we-toggler\"),\n    changeOption(\"Rating\", 'we-button[data-select-class=\"s_rating_no_title\"]'),\n    {\n        content: \"Check whether s_rating_no_title class applied or not\",\n        trigger: \":iframe .s_rating_no_title\",\n    },\n    changeOption(\"Rating\", \"we-select:has([data-select-class]) we-toggler\"),\n    changeOption(\"Rating\", 'we-button[data-select-class=\"\"] div:contains(\"Top\")'),\n    {\n        content: \"Check whether s_rating_no_title class removed or not\",\n        trigger: \":iframe .s_rating:not(.s_rating_no_title)\",\n    },\n]);\n", "/** @odoo-module */\n\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\n// TODO: Remove following steps once fix of task-3212519 is done.\n// Those steps are preventing a race condition to happen in the meantime: when\n// the tour was clicking on the toggle to hide facebook in the next step, it\n// would actually \"ignore\" the result of the click on the toggle and would just\n// consider the action of focusing out the input.\nconst socialRaceConditionClass = 'social_media_race_condition';\nconst preventRaceConditionStep = [\n    {\n        trigger: `body:not(.${socialRaceConditionClass})`,\n    },\n    {\n    content: \"Wait a few ms to avoid race condition\",\n    // Ensure the class is remove from previous call of those steps\n    trigger: ':iframe .s_social_media',\n    run() {\n        setTimeout(() => {\n            document.body.classList.add(socialRaceConditionClass);\n        }, 500);\n    }\n}, {\n    content: \"Check the race condition class is added after a few ms\",\n    trigger: `body.${socialRaceConditionClass}`,\n    run() {\n        document.body.classList.remove(socialRaceConditionClass);\n    }\n}];\n\nconst replaceIconByImage = function (url) {\n    return [{\n        content: \"Replace the icon by an image\",\n        trigger: `:iframe .s_social_media a[href='${url}'] i.fa`,\n        run: \"dblclick\",\n    },\n    {\n        content: \"Go to the Images tab in the media dialog\",\n        trigger: \".o_select_media_dialog .o_notebook_headers .nav-item a:contains('Images')\",\n        run: \"click\",\n    },\n    {\n        content: \"Select the image\",\n        trigger: \".o_select_media_dialog img[title='s_banner_default_image.jpg']\",\n        run: \"click\",\n    },\n    ...preventRaceConditionStep,\n    ];\n};\n\nconst addNewSocialNetwork = function (optionIndex, linkIndex, url, replaceIcon = false) {\n    const replaceIconByImageSteps = replaceIcon ? replaceIconByImage(\"https://www.example.com\") : [];\n    return [{\n        content: \"Click on Add New Social Network\",\n        trigger: 'we-list we-button.o_we_list_add_optional',\n        run: \"click\",\n    },\n    {\n        content: \"Ensure new option is found\",\n        trigger: `we-list table input:eq(${optionIndex})[data-list-position=\"${optionIndex}\"][data-dom-position=\"${linkIndex}\"][data-undeletable=false]`,\n    },\n    {\n        content: \"Ensure new link is found\",\n        trigger: `:iframe .s_social_media:has(a:eq(${linkIndex})[href='https://www.example.com'])`,\n    },\n    ...replaceIconByImageSteps,\n    {\n        content: \"Change added Option label\",\n        trigger: `we-list table input:eq(${optionIndex})`,\n        run: `edit ${url} && click body`,\n    },\n    {\n        content: \"Ensure new link is changed\",\n        trigger: `:iframe .s_social_media:has(a:eq(${linkIndex})[href='${url}'])`,\n    },\n    ...preventRaceConditionStep,\n    ];\n};\n\nregisterWebsitePreviewTour('snippet_social_media', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...insertSnippet({id: 's_social_media', name: 'Social Media'}),\n    ...clickOnSnippet({id: 's_social_media', name: 'Social Media'}),\n    ...addNewSocialNetwork(7, 7, 'https://www.youtu.be/y7TlnAv6cto'),\n    {\n        content: 'Click on the toggle to hide Facebook',\n        trigger: 'we-list table we-button.o_we_user_value_widget',\n        run: 'click',\n    },\n    {\n        content: \"Ensure twitter became first\",\n        trigger: ':iframe .s_social_media:has(a:eq(0)[href=\"/website/social/twitter\"])',\n    },\n    {\n        content: 'Drag the facebook link at the end of the list',\n        trigger: 'we-list table we-button.o_we_drag_handle',\n        tooltipPosition: 'bottom',\n        run: \"drag_and_drop we-list table tr:last-child\",\n    },\n    {\n        content: 'Check drop completed',\n        trigger: 'we-list table input:eq(7)[data-media=\"facebook\"]',\n    },\n    ...preventRaceConditionStep,\n    // Create a Link for which we don't have an icon to propose.\n    ...addNewSocialNetwork(8, 7, 'https://whatever.it/1EdSw9X'),\n    // Create a custom instagram link.\n    ...addNewSocialNetwork(9, 8, 'https://instagr.am/odoo.official/'),\n    {\n        content: \"Check if the result is correct before removing\",\n        trigger: \":iframe .s_social_media\" +\n                 \":has(a:eq(0)[href='/website/social/twitter'])\" +\n                 \":has(a:eq(1)[href='/website/social/linkedin'])\" +\n                 \":has(a:eq(2)[href='/website/social/youtube'])\" +\n                 \":has(a:eq(3)[href='/website/social/instagram'])\" +\n                 \":has(a:eq(4)[href='/website/social/github'])\" +\n                 \":has(a:eq(5)[href='/website/social/tiktok'])\" +\n                 \":has(a:eq(6)[href='https://www.youtu.be/y7TlnAv6cto']:has(i.fa-youtube))\" +\n                 \":has(a:eq(7)[href='https://whatever.it/1EdSw9X']:has(i.fa-pencil))\" +\n                 \":has(a:eq(8)[href='https://instagr.am/odoo.official/']:has(i.fa-instagram))\",\n    },\n    // Create a custom link, not officially supported, ensure icon is found.\n    {\n        content: 'Change custom social to unsupported link',\n        trigger: 'we-list table input:eq(6)',\n        run: \"edit https://www.paypal.com/abc && click body\",\n    },\n    {\n        content: \"Ensure paypal icon is found\",\n        trigger: \":iframe .s_social_media\" +\n                 \":has(a:eq(6)[href='https://www.paypal.com/abc']:has(i.fa-paypal))\",\n    },\n    ...preventRaceConditionStep,\n    {\n        content: 'Delete the custom link',\n        trigger: 'we-list we-button.o_we_select_remove_option',\n        run: 'click',\n    },\n    {\n        content: \"Ensure custom link was removed\",\n        trigger: ':iframe .s_social_media:has(a:eq(6)[href=\"https://whatever.it/1EdSw9X\"]:has(i.fa-pencil))',\n    },\n    {\n        content: 'Click on the toggle to show Facebook',\n        trigger: 'we-list table we-button.o_we_user_value_widget:not(.active)',\n        run: 'click',\n    },\n    {\n        content: \"Check if the result is correct after removing\",\n        trigger: \":iframe .s_social_media\" +\n                 \":has(a:eq(0)[href='/website/social/twitter'])\" +\n                 \":has(a:eq(1)[href='/website/social/linkedin'])\" +\n                 \":has(a:eq(2)[href='/website/social/youtube'])\" +\n                 \":has(a:eq(3)[href='/website/social/instagram'])\" +\n                 \":has(a:eq(4)[href='/website/social/github'])\" +\n                 \":has(a:eq(5)[href='/website/social/tiktok'])\" +\n                 \":has(a:eq(6)[href='/website/social/facebook'])\" +\n                 \":has(a:eq(7)[href='https://whatever.it/1EdSw9X']:has(i.fa-pencil))\" +\n                 \":has(a:eq(8)[href='https://instagr.am/odoo.official/']:has(i.fa-instagram))\",\n    },\n    {\n        content: 'Change url of the DB instagram link',\n        trigger: 'we-list table input:eq(3)',\n        run: \"edit https://instagram.com/odoo.official/ && click body\",\n    },\n    ...preventRaceConditionStep,\n    ...clickOnSave(),\n    ...clickOnEditAndWaitEditMode(),\n    ...clickOnSnippet({\n        id: 's_social_media',\n        name: 'Social Media',\n    }),\n    {\n        content: \"Check if we can still change custom icons\",\n        trigger: ':iframe .s_social_media a[href=\"https://whatever.it/1EdSw9X\"] i.fa-pencil',\n        run: 'dblclick',\n    },\n    {\n        content: \"Select a new icon\",\n        trigger: '.o_select_media_dialog .fa-heart',\n        run: \"click\",\n    },\n    {\n        content: \"Check if the result is correct after setting the icon\",\n        trigger: \":iframe .s_social_media\" +\n                 \":has(a:eq(0)[href='/website/social/twitter'])\" +\n                 \":has(a:eq(1)[href='/website/social/linkedin'])\" +\n                 \":has(a:eq(2)[href='/website/social/youtube'])\" +\n                 \":has(a:eq(3)[href='/website/social/instagram'])\" +\n                 \":has(a:eq(4)[href='/website/social/github'])\" +\n                 \":has(a:eq(5)[href='/website/social/tiktok'])\" +\n                 \":has(a:eq(6)[href='/website/social/facebook'])\" +\n                 \":has(a:eq(7)[href='https://whatever.it/1EdSw9X']:has(i.fa-heart))\" +\n                 \":has(a:eq(8)[href='https://instagr.am/odoo.official/']:has(i.fa-instagram))\",\n    },\n    // Create a social network but replace its icon by an image before setting\n    // the link (`replaceIcon` parameter set to `true`).\n    ...addNewSocialNetwork(9, 9, \"https://google.com\", true),\n    // Create a social network after replacing the first icon by an image.\n    ...replaceIconByImage(\"/website/social/twitter\"),\n    ...addNewSocialNetwork(10, 10, \"https://facebook.com\"),\n    {\n        content: \"Check if the result is correct after adding images\",\n        trigger: \":iframe .s_social_media\" +\n                 \":has(a:eq(0)[href='/website/social/twitter']:has(img))\" +\n                 \":has(a:eq(9)[href='https://google.com']:has(img))\" +\n                 \":has(a:eq(10)[href='https://facebook.com']:has(img))\",\n    },\n    ...clickOnSave(),\n]);\n", "/** @odoo-module */\n\nimport { isVisible } from '@odoo/hoot-dom';\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    insertSnippet,\n    goBackToBlocks,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nconst scrollToHeading = function (position) {\n    return {\n        content: `Scroll to h2 number ${position}`,\n        trigger: `:iframe h2:eq(${position})`,\n        run: function () {\n            this.anchor.scrollIntoView(true);\n        },\n    };\n};\nconst checkTOCNavBar = function (tocPosition, activeHeaderPosition) {\n    return {\n        content: `Check that the header ${activeHeaderPosition} is active for TOC ${tocPosition}`,\n        trigger: `:iframe .s_table_of_content:eq(${tocPosition}) .table_of_content_link:eq(${activeHeaderPosition}).active `,\n    };\n};\n\nregisterWebsitePreviewTour('snippet_table_of_content', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...insertSnippet({id: \"s_table_of_content\", name: \"Table of Content\", groupName: \"Text\"}),\n    {\n        content: \"Drag the Text snippet group and drop it.\",\n        trigger: '#oe_snippets .oe_snippet[name=\"Text\"] .oe_snippet_thumbnail:not(.o_we_ongoing_insertion)',\n        run: \"drag_and_drop :iframe #wrap\",\n    },\n    {\n        content: \"Click on the s_table_of_content snippet.\",\n        trigger: ':iframe .o_snippet_preview_wrap[data-snippet-id=\"s_table_of_content\"]',\n        run: \"click\",\n    },\n    // To make sure that the public widgets of the two previous ones started.\n    ...insertSnippet({id: \"s_banner\", name: \"Banner\", groupName: \"Intro\"}),\n    {\n        content: \"Drag the Intro snippet group and drop it.\",\n        trigger: '#oe_snippets .oe_snippet[name=\"Intro\"] .oe_snippet_thumbnail:not(.o_we_ongoing_insertion)',\n        run: \"drag_and_drop :iframe #wrap\",\n    },\n    {\n        content: \"Click on the s_banner snippet.\",\n        trigger: ':iframe .o_snippet_preview_wrap[data-snippet-id=\"s_banner\"]',\n        run: \"click\",\n    },\n    ...clickOnSave(),\n    checkTOCNavBar(0, 0),\n    checkTOCNavBar(1, 0),\n    scrollToHeading(1),\n    checkTOCNavBar(0, 1),\n    checkTOCNavBar(1, 0),\n    scrollToHeading(2),\n    checkTOCNavBar(1, 0),\n    scrollToHeading(3),\n    checkTOCNavBar(1, 1),\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: \"Click on the first TOC's title\",\n        trigger: ':iframe .s_table_of_content:eq(0) h2',\n        run: \"click\",\n    },\n    {\n        content: \"Hide the first TOC on mobile\",\n        trigger: '[data-toggle-device-visibility=\"no_mobile\"]',\n        run: \"click\",\n    },\n    // Go back to blocks tabs to avoid changing the first ToC options\n    goBackToBlocks(),\n    {\n        content: \"Click on the second TOC's title\",\n        trigger: ':iframe .s_table_of_content:eq(1) h2',\n        run: \"click\",\n    },\n    {\n        content: \"Hide the second TOC on desktop\",\n        trigger: '[data-toggle-device-visibility=\"no_desktop\"]',\n        run: \"click\",\n    },\n    ...clickOnSave(),\n    {\n        content: \"Check that we have the good TOC on desktop\",\n        trigger: ':iframe .s_table_of_content.o_snippet_mobile_invisible',\n        run: () => {\n            if (isVisible(':iframe .s_table_of_content.o_snippet_desktop_invisible')) {\n                console.error('The mobile TOC should not be visible on desktop');\n            }\n        },\n    },\n    {\n        content: \"Toggle the mobile view\",\n        trigger: '.o_mobile_preview > a',\n        run: \"click\",\n    },\n    {\n        content: \"Check that we have the good TOC on mobile\",\n        trigger: ':iframe .s_table_of_content.o_snippet_desktop_invisible',\n        run: () => {\n            if (isVisible(':iframe .s_table_of_content.o_snippet_mobile_invisible')) {\n                console.error('The desktop TOC should not be visible on mobile');\n            }\n        },\n    },\n]);\n", "/** @odoo-module **/\n\nimport { localization } from '@web/core/l10n/localization';\nimport { translatedTerms } from '@web/core/l10n/translation';\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnEditAndWaitEditModeInTranslatedPage,\n    clickOnSave,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('snippet_translation', {\n    url: '/',\n}, () => [\n    {\n        content: \"Wait for website preview and check language\",\n        trigger: \":iframe html:has(body:contains(welcome to your)):has(.o_top_fixed_element)\",\n        run: () => {\n            if (localization.code !== \"fu_GB\") {\n                console.error(\"the user language is not properly set\");\n            } else {\n                translatedTerms[\"Save\"] = \"Save in fu_GB\";\n            }\n        }\n    },\n    ...clickOnEditAndWaitEditMode(),\n    ...insertSnippet({id: \"s_cover\", name: \"Cover\", groupName: \"Intro\"}),\n    {\n        content: \"Check that contact us contain Parseltongue\",\n        trigger: ':iframe .s_cover .btn-outline-secondary:contains(\"Contact us in Parseltongue\")',\n    },\n    {\n        content: \"Check that the save button contains 'in fu_GB'\",\n        trigger: '.btn[data-action=\"save\"]:contains(\"Save in fu_GB\")',\n    },\n]);\nregisterWebsitePreviewTour('snippet_translation_changing_lang', {\n    url: '/',\n}, () => [\n    {\n        content: \"Open dropdown language selector\",\n        trigger: ':iframe .js_language_selector button',\n        run: \"click\",\n    },\n    {\n        content: \"Select the language to Parseltongue\",\n        trigger: \":iframe .js_language_selector .js_change_lang[data-url_code=pa_GB]\",\n        run: \"click\",\n    },\n    {\n        content: \"Wait the language has changed.\",\n        trigger: \":iframe header.o_top_fixed_element nav li:contains(parseltongue)\",\n    },\n    {\n        content: \"Open dropdown language selector\",\n        trigger: ':iframe .js_language_selector button',\n        run: \"click\",\n    },\n    {\n        content: \"Select the language to English\",\n        trigger: \":iframe .js_language_selector .js_change_lang[data-url_code=en]\",\n        run: \"click\",\n    },\n    {\n        content: \"Wait the language has changed.\",\n        trigger: \":iframe nav li:contains(english)\",\n    },\n    {\n        content: \"Open Edit dropdown\",\n        trigger: '.o_edit_website_container button',\n        run: \"click\",\n    },\n    {\n        content: \"Enable translation\",\n        trigger: '.o_translate_website_dropdown_item',\n        run: \"click\",\n    },\n    {\n        content: \"Close the dialog\",\n        trigger: '.modal-footer .btn-primary',\n        run: \"click\",\n    },\n    ...clickOnSave(),\n    ...clickOnEditAndWaitEditModeInTranslatedPage(),\n    ...insertSnippet({name: \"Cover\", id: \"s_cover\", groupName: \"Intro\"}),\n    {\n        content: \"Check that contact us contain Parseltongue\",\n        trigger: ':iframe .s_cover .btn-outline-secondary:contains(\"Contact us in Parseltongue\")',\n    },\n]);\n", "/** @odoo-module **/\n\nimport {\n    clickOnSave,\n    insertSnippet,\n    registerWebsitePreviewTour\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour(\"snippet_version_1\", {\n    edition: true,\n    url: \"/\",\n}, () => [\n    ...insertSnippet({\n        id: 's_test_snip',\n        name: 'Test snip',\n        groupName: \"Content\",\n    }),\n    ...insertSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n        groupName: \"Content\",\n    }),\n    {\n    content: \"Test t-snippet and t-snippet-call: snippets have data-snippet set\",\n    trigger: '#oe_snippets .o_panel_body > .oe_snippet',\n    run: function () {\n        // Tests done here as all these are not visible on the page\n        const draggableSnippets = [...document.querySelectorAll('#oe_snippets .o_panel_body > .oe_snippet:not([data-module-id]) > :nth-child(2)')];\n        if (draggableSnippets.length && !draggableSnippets.every(el => el.dataset.snippet)) {\n            console.error(\"error Some t-snippet are missing their template name or there are no snippets to drop\");\n        }\n        if (!document.querySelector('iframe:not(.o_ignore_in_tour)').contentDocument.querySelector('#wrap [data-snippet=\"s_test_snip\"] [data-snippet=\"s_share\"]')) {\n            console.error(\"error Dropped a s_test_snip snippet but missing s_share template name in it\");\n        }\n    },\n},\n    ...clickOnSave(),\n]);\nregisterWebsitePreviewTour(\"snippet_version_2\", {\n    edition: true,\n    url: \"/\",\n}, () => [\n{\n    content: \"Edit s_test_snip\",\n    trigger: ':iframe #wrap.o_editable .s_test_snip',\n    run: \"click\",\n},\n{\n    trigger:\n        \"we-customizeblock-options:contains(Test snip) .snippet-option-VersionControl > we-alert\",\n},\n{\n    content: \"Edit text_image\",\n    trigger: ':iframe #wrap.o_editable .s_text_image',\n    run: \"click\",\n},\n{\n    trigger:\n        \"we-customizeblock-options:contains(Text - Image) .snippet-option-VersionControl  > we-alert\",\n},\n{\n    content: \"Edit s_share\",\n    trigger: ':iframe #wrap.o_editable .s_share',\n    run: \"click\",\n},\n{\n    trigger:\n        \"we-customizeblock-options:contains(Share) .snippet-option-VersionControl > we-alert\",\n},\n{\n    content: \"s_share is outdated\",\n    trigger: ':iframe body',\n}]);\n", "import {\n    insertSnippet,\n    clickOnSave,\n    clickOnEditAndWaitEditMode,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour(\"snippet_visibility_option\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_popup\",\n        name: \"Popup\",\n        groupName: \"Content\",\n    }),\n    {\n        content: \"Click on the column within the popup snippet.\",\n        trigger: \":iframe #wrap .s_popup .o_cc1\",\n        run: \"click\"\n    },\n    {\n        content: \"Click the 'No Desktop' visibility option.\",\n        trigger: \".snippet-option-DeviceVisibility we-button[data-toggle-device-visibility='no_desktop']\",\n        run: \"click\"\n    },\n    {\n        content: \"Click on the banner within the popup snippet.\",\n        trigger: \":iframe #wrap .s_popup .s_banner\",\n        run: \"click\"\n    },\n    {\n        content: \"Click the 'No Desktop' visibility option.\",\n        trigger: \"we-button[data-toggle-device-visibility='no_desktop']\",\n        run: \"click\"\n    },\n    {\n        content: \"Click on the popup snippet to hide\",\n        trigger: \".o_we_invisible_root_parent\",\n        run: \"click\"\n    },\n    {\n        content: \"Click on the popup snippet in the list of invisible elements.\",\n        trigger: \".o_we_invisible_root_parent\",\n        run: \"click\"\n    },\n    {\n        content: \"Verify that both the banner and column are marked as invisible.\",\n        trigger: \".o_we_invisible_root_parent\",\n        run: () => {\n            const isBlockInvisible = document.querySelector(\"li .o_we_invisible_entry i\").classList.contains(\"fa-eye-slash\");\n            const isColumnInvisible = document.querySelector(\"li li .o_we_invisible_entry i\").classList.contains(\"fa-eye-slash\");\n            if (!isBlockInvisible || !isColumnInvisible) {\n                console.error(\"Visibility issue detected with the elements.\");\n            }\n        }\n    },\n    ...clickOnSave(),\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: \"Click on the banner snippet in the list of invisible elements.\",\n        trigger: \"li > .o_we_invisible_entry\",\n        run: \"click\"\n    },\n    {\n        content: \"Verify that the popup is visible and the column is still invisible.\",\n        trigger: \"li > .o_we_invisible_entry\",\n        run: () => {\n            const isPopupVisible = document.querySelector(\".o_we_invisible_root_parent i\").classList.contains(\"fa-eye\");\n            const isColumnInvisible = document.querySelector(\"li li .o_we_invisible_entry i\").classList.contains(\"fa-eye-slash\");\n            if (!isPopupVisible || !isColumnInvisible) {\n                console.error(\"Visibility issue detected with the elements.\");\n            }\n        }\n    },\n    ...clickOnSave(),\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: \"Click on the column snippet in the list of invisible elements.\",\n        trigger: \"li li .o_we_invisible_entry\",\n        run: \"click\"\n    },\n    {\n        content: \"Verify that both the popup and the banner are now visible.\",\n        trigger: \".o_we_invisible_root_parent\",\n        run: () => {\n            const isPopupVisible = document.querySelector(\".o_we_invisible_root_parent i\").classList.contains(\"fa-eye\");\n            const isBlockVisible = document.querySelector(\"li .o_we_invisible_entry i\").classList.contains(\"fa-eye\");\n            if (!isPopupVisible || !isBlockVisible) {\n                console.error(\"Visibility issue detected with the elements.\");\n            }\n        }\n    },\n    {\n        content: \"Click on the popup snippet to hide its descendant elements.\",\n        trigger: \".o_we_invisible_root_parent\",\n        run: () => {\n            setTimeout(() => {\n                document.querySelector(\".o_we_invisible_root_parent\").click();\n            }, 1000);\n        }\n    },\n    {\n        content: \"Make sure the parent snippet is invisible.\",\n        trigger: \".o_we_invisible_root_parent i.fa-eye-slash\",\n    },\n    {\n        content: \"Verify that both the banner and column snippets are marked as invisible.\",\n        trigger: \".o_we_invisible_root_parent\",\n        run: () => {\n            const isBlockInvisible = document.querySelector(\"li .o_we_invisible_entry i\").classList.contains(\"fa-eye-slash\");\n            const isColumnInvisible = document.querySelector(\"li li .o_we_invisible_entry i\").classList.contains(\"fa-eye-slash\");\n            if (!isColumnInvisible || !isBlockInvisible) {\n                console.error(\"Visibility issue detected with the elements.\");\n            }\n        }\n    },\n]);\n", "/** @odoo-module **/\n\nimport {\n    clickOnEditAndWaitEditMode,\n    insertSnippet,\n    goBackToBlocks,\n    clickOnSnippet,\n    changeOption,\n} from \"@website/js/tours/tour_utils\";\nimport { patch } from \"@web/core/utils/patch\";\n\nconst patchWysiwygAdapter = () => {\n    const { WysiwygAdapterComponent } = odoo.loader.modules.get(\"@website/components/wysiwyg_adapter/wysiwyg_adapter\");\n    return patch(WysiwygAdapterComponent.prototype, {\n        _trigger_up(ev) {\n            super._trigger_up(...arguments);\n            if (ev.name === 'snippet_removed') {\n                document.body.setAttribute(\"test-dd-snippet-removed\", true);\n            }\n        }\n    });\n};\n\nlet unpatchWysiwygAdapter = null;\n\nimport { registry } from \"@web/core/registry\";\n\nlet snippetsNames = (new URL(document.location.href)).searchParams.get('snippets_names') || '';\n// When this test is loaded in the backend, the search params aren't as easy to\n// read as before. Little trickery to make this test run.\nconst searchParams = new URLSearchParams(window.location.search).get('path');\nif (searchParams) {\n    snippetsNames = new URLSearchParams(searchParams.split('/')[1]).get('snippets_names') || '';\n    snippetsNames = snippetsNames.split(',');\n}\nconst dropInOnlySnippets = {\n    's_button': '.btn',\n    's_video': '.media_iframe_video',\n};\nlet steps = [];\nlet n = 0;\nfor (let snippet of snippetsNames) {\n    n++;\n    snippet = {\n        name: snippet.split(':')[0],\n        group: snippet.split(':')[1],\n    };\n    const isModal = ['s_popup', 's_newsletter_subscribe_popup'].includes(snippet.name);\n    const isDropInOnlySnippet = Object.keys(dropInOnlySnippets).includes(snippet.name);\n\n    let draggableElSelector = \"\";\n    if (snippet.group) {\n        draggableElSelector = `#oe_snippets .oe_snippet[data-snippet-group=\"${snippet.group}\"] .oe_snippet_thumbnail`;\n    } else {\n        draggableElSelector = `#oe_snippets .oe_snippet:has( > [data-snippet=\"${snippet.name}\"]) .oe_snippet_thumbnail`;\n    }\n\n    const snippetSteps = [{\n        content: `Drop ${snippet.group || snippet.name} ${snippet.group ? \"group\" : \"snippet\"} [${n}/${snippetsNames.length}]`,\n        trigger: draggableElSelector,\n        run: \"drag_and_drop :iframe #wrap .oe_drop_zone\",\n    }, {\n        content: `Edit ${snippet.name} snippet`,\n        trigger: `:iframe #wrap.o_editable [data-snippet='${snippet.name}']${isModal ? ' .modal.show' : ''}`,\n        run: \"click\",\n    }, {\n        content: `check ${snippet.name} setting are loaded, wait panel is visible`,\n        trigger: \".o_we_customize_panel\",\n    }, {\n        content: `Remove the ${snippet.name} snippet`, // Avoid bad perf if many snippets\n        trigger: \"we-button.oe_snippet_remove:last\",\n        run: \"click\",\n    },\n    {\n        trigger: \"body[test-dd-snippet-removed]\",\n    },\n    {\n        content: `click on 'BLOCKS' tab (${snippet.name})`,\n        trigger: \".o_we_add_snippet_btn\",\n        async run (actions) {\n            document.body.removeAttribute(\"test-dd-snippet-removed\");\n            await actions.click();\n        },\n    }];\n\n    if (snippet.group) {\n        snippetSteps.splice(1, 0, {\n            content: \"Click on the snippet preview in the dialog\",\n            trigger: `:iframe .o_snippet_preview_wrap[data-snippet-id=\"${snippet.name}\"]`,\n            run: \"click\",\n        });\n    }\n\n    if (snippet === 's_google_map') {\n        snippetSteps.splice(2, 4, {\n            content: 'Close API Key popup',\n            trigger: \":iframe .modal-footer .btn-secondary\",\n            run: \"click\",\n        });\n    } else if (isModal) {\n        snippetSteps.splice(\n            4,\n            3,\n            {\n                content: `Make sure ${snippet.name} is shown`,\n                trigger: \":iframe body.modal-open\",\n            },\n            {\n                content: `Hide the ${snippet.name} popup`,\n                trigger: `:iframe [data-snippet='${snippet.name}'] .s_popup_close`,\n                run: \"click\",\n            }\n        );\n    } else if (isDropInOnlySnippet) {\n        // The 'drop in only' snippets have their 'data-snippet' attribute\n        // removed once they are dropped, so we need to use a different selector.\n        snippetSteps[1].trigger = `:iframe #wrap.o_editable ${dropInOnlySnippets[snippet.name]}`;\n    }\n    steps = steps.concat(snippetSteps);\n}\n\nregistry.category(\"web_tour.tours\").add(\"snippets_all_drag_and_drop\", {\n    // To run the tour locally, you need to insert the URL sent by the python\n    // tour here. There is currently an issue with tours which don't have an URL\n    // url: '/?enable_editor=1&snippets_names=s_process_steps:columns,s_website_form:,s_...',\n    steps: () => [\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: \"Ensure snippets are actually passed at the test.\",\n        trigger: \"body\",\n        run: function () {\n            // safety check, otherwise the test might \"break\" one day and\n            // receive no steps. The test would then not test anything anymore\n            // without us noticing it.\n            if (steps.length < 500) {\n                console.error(`This test is not behaving as it should, got only ${steps.length} steps.`);\n            }\n            unpatchWysiwygAdapter = patchWysiwygAdapter();\n        },\n    },\n    // This first step is needed as it will be used later for inner snippets\n    // Without this, it will dropped inside the footer and will need an extra\n    // selector.\n    ...insertSnippet({\n        id: \"s_text_image\",\n        name: \"Text - Image\",\n        groupName: \"Content\"\n    }),\n    {\n        content: \"Edit s_text_image snippet\",\n        trigger: \":iframe #wrap.o_editable [data-snippet='s_text_image']\",\n        run: \"click\",\n    },\n    {\n        content: \"check setting are loaded, wait panel is visible\",\n        trigger: \".o_we_customize_panel\",\n        run: \"click\",\n    },\n    // We hide the header before starting to drop snippets. This prevents\n    // situations where the header's drop zones overlap with those of the #wrap,\n    // ensuring that a snippet is dropped in the #wrap as expected instead of\n    // the header.\n    ...clickOnSnippet({id: \"o_header_standard\", name: \"Header\"}),\n    changeOption(\"TopMenuVisibility\", \"we-select:has([data-visibility]) we-toggler\"),\n    changeOption(\"TopMenuVisibility\", 'we-button[data-visibility=\"hidden\"]'),\n    goBackToBlocks(),\n].concat(steps).concat([\n    {\n        content: \"Remove wysiwyg patch\",\n        trigger: \"body\",\n        run: () => unpatchWysiwygAdapter(),\n    }\n            ])\n            .map((step) => {\n                delete step.noPrepend;\n                return step;\n            }),\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport {\n    clickOnEditAndWaitEditMode,\n    registerWebsitePreviewTour\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour(\"generic_website_editor\", {\n    edition: true,\n}, () => [{\n    trigger: ':iframe body:not([data-hello=\"world\"])',\n    content: 'Check that the editor DOM matches its website-generic features',\n}]);\n\n// Good practice would have been to use `registerWebsitePreviewTour`\n// for this tour with `edition: true` and remove the first step to enter edit\n// mode. Unfortunately this breaks the page and therefore the test fails for\n// unknown reason.\nregistry.category(\"web_tour.tours\").add('specific_website_editor', {\n    steps: () => [\n    ...clickOnEditAndWaitEditMode(),\n{\n    trigger: ':iframe body[data-hello=\"world\"]',\n    content: 'Check that the editor DOM matches its website-specific features',\n}]});\n", "/** @odoo-module **/\n\nimport {\n    clickOnSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('website_start_cloned_snippet', {\n    edition: true,\n    url: '/',\n}, () => {\n    const countdownSnippet = {\n        name: 'Countdown',\n        id: 's_countdown',\n    };\n    return [\n        {\n            trigger: \".o_website_preview.editor_enable.editor_has_snippets\",\n        },\n        {\n            trigger: `#oe_snippets .oe_snippet[name=\"${countdownSnippet.name}\"].o_we_draggable .oe_snippet_thumbnail:not(.o_we_ongoing_insertion)`,\n            run: \"drag_and_drop :iframe #wrapwrap #wrap\",\n        },\n        ...clickOnSnippet(countdownSnippet),\n        {\n            content: 'Click on clone snippet',\n            trigger: '.oe_snippet_clone',\n            run: \"click\",\n        },\n        {\n            content: 'Check that the cloned snippet has a canvas and that something has been drawn inside of it',\n            trigger: ':iframe .s_countdown:eq(1) canvas',\n            run: function () {\n                // Check that at least one bit has been drawn in the canvas\n                if (!this.anchor.getContext(\"2d\").getImageData(0, 0, 1000, 1000).data.includes(1)) {\n                    console.error('The cloned snippet should have been started');\n                }\n            },\n        },\n\n    ]\n});\n", "/** @odoo-module */\n\nimport {\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour(\"text_animations\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_cover\",\n        name: \"Cover\",\n        groupName: \"Intro\",\n    }),\n    {\n        content: \"Click on the snippet title\",\n        trigger: \":iframe .s_cover h1\",\n        run: \"dblclick\", // Make sure the title is selected.\n    },\n    {\n        content: \"Click on the 'Animate Text' button to activate the option\",\n        trigger: \"div.o_we_animate_text\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the animation was applied\",\n        trigger: \":iframe .s_cover h1 span.o_animated_text\",\n    },\n    {\n        content: \"Click on the 'Animate Text' button\",\n        trigger: \"div.o_we_animate_text\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the animation was disabled for the title\",\n        trigger: \":iframe .s_cover:not(:has(.o_animated_text))\",\n    },\n    {\n        content: \"Try to apply the text animation again\",\n        trigger: \"div.o_we_animate_text\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the animation was applied\",\n        trigger: \":iframe .s_cover:has(span.o_animated_text)\",\n    },\n]);\n", "/** @odoo-module */\n\nimport {\n    insertSnippet,\n    registerWebsitePreviewTour,\n    selectElementInWeSelectWidget,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour(\"text_highlights\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_cover\",\n        name: \"Cover\",\n        groupName: \"Intro\",\n    }),\n    {\n        content: \"Select the snippet title\",\n        trigger: \":iframe .s_cover h1\",\n        run: \"dblclick\",\n    },\n    {\n        content: \"Click on the 'Highlight Effects' button to activate the option\",\n        trigger: \"div.o_we_text_highlight\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the highlight was applied\",\n        trigger: \":iframe .s_cover h1 span.o_text_highlight > .o_text_highlight_item > svg:has(.o_text_highlight_path_underline)\",\n    },\n    {\n        content: \"Check that the highlights grid was displayed\",\n        trigger: \"we-select[data-name=text_highlight_opt] we-toggler.active\",\n    },\n    {\n        content: \"Disable the highlight effect\",\n        trigger: \"div.o_we_text_highlight\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the highlight was disabled for the title\",\n        trigger: \":iframe .s_cover:not(:has(.o_text_highlight))\",\n    },\n    {\n        // On muti-line text, the highlight effect is added on every detected\n        // line (using the `.o_text_highlight_item` span).\n        content: \"Update and select the snippet paragraph content\",\n        trigger: \":iframe .s_cover p\",\n        run() {\n            const iframeDOC = document.querySelector(\".o_iframe\").contentDocument;\n            const firstLine = document.createElement(\"strong\");\n            firstLine.textContent = \"Text content line A\";\n            const secondLine = document.createElement(\"i\");\n            secondLine.textContent = \"Text content line B\";\n            this.anchor.replaceChildren(firstLine, document.createElement(\"br\"), secondLine);\n            // Select the whole content.\n            const range = iframeDOC.createRange();\n            const selection = iframeDOC.getSelection();\n            range.selectNodeContents(this.anchor);\n            selection.removeAllRanges();\n            selection.addRange(range);\n        },\n    },\n    {\n        content: \"Add the highlight effect on the muti-line text\",\n        trigger: \"div.o_we_text_highlight\",\n        run: \"click\",\n    },\n    {\n        content: \"Check if the text was correctly updated\",\n        trigger: \":iframe .o_text_highlight_underline:has(span:contains(Text content line A) + br + span:contains(Text content line B))\",\n    },\n    ...selectElementInWeSelectWidget(\"text_highlight_opt\", \"Jagged\").slice(1), // The select is already opened\n    {\n        trigger: \":iframe .o_text_highlight_item:has(.o_text_highlight_path_jagged):nth-child(3)\",\n    },\n    {\n        content: \"When changing the text highlight, we only replace the highlight SVG with a new drawn one\",\n        trigger: \":iframe .o_text_highlight_item:has(.o_text_highlight_path_jagged):nth-child(1)\",\n    },\n    {\n        content: \"Disable the highlight effect\",\n        trigger: \"div.o_we_text_highlight\",\n        run: \"click\",\n    },\n    {\n        content: \"Check if the original DOM structure was restored\",\n        trigger: \":iframe .s_cover p:has(strong:contains(Text content line A) + br + i:contains(Text content line B))\",\n    },\n]);\n", "/** @odoo-module **/\n\nimport {\n    clickOnExtraMenuItem,\n    clickOnSave,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('translate_menu_name', {\n    url: '/pa_GB',\n    edition: false,\n}, () => [\n    {\n        content: \"Open Edit dropdown\",\n        trigger: '.o_edit_website_container button',\n        run: \"click\",\n    },\n    {\n        content: \"activate translate mode\",\n        trigger: '.o_translate_website_dropdown_item',\n        run: \"click\",\n    },\n    {\n        content: \"Close the dialog\",\n        trigger: '.modal-footer .btn-primary',\n        run: \"click\",\n    },\n    clickOnExtraMenuItem({}, true),\n    {\n        content: \"translate the menu entry\",\n        trigger: ':iframe a[href=\"/englishURL\"] span',\n        run: \"editor value pa-GB\",\n    },\n    ...clickOnSave(),\n]);\n", "/** @odoo-module **/\n\nimport {\n    clickOnSave,\n    insertSnippet,\n    registerWebsitePreviewTour,\n    selectElementInWeSelectWidget,\n} from \"@website/js/tours/tour_utils\";\n\nconst selectText = (selector) => {\n    return {\n        content: \"Select some text content\",\n        trigger: `:iframe ${selector}`,\n        run() {\n            const iframeDOC = document.querySelector(\".o_iframe\").contentDocument;\n            const range = iframeDOC.createRange();\n            const selection = iframeDOC.getSelection();\n            range.selectNodeContents(this.anchor);\n            selection.removeAllRanges();\n            selection.addRange(range);\n            this.anchor.click();\n        },\n    };\n};\n\nregisterWebsitePreviewTour(\n    \"translate_text_options\",\n    {\n        url: \"/\",\n        edition: true,\n    },\n    () => [\n        ...insertSnippet({\n            id: \"s_text_block\",\n            name: \"Text\",\n            groupName: \"Text\",\n        }),\n        {\n            content: \"Select the first text block in the snippet\",\n            trigger: \":iframe #wrap .s_text_block p:first\",\n            run: \"dblclick\",\n        },\n        {\n            content: \"Click on the 'Animate Text' button to activate the option\",\n            trigger: \"div.o_we_animate_text\",\n            run: \"click\",\n        },\n        {\n            content: \"Select the second text block in the snippet\",\n            trigger: \":iframe #wrap .s_text_block p:last\",\n            run: \"dblclick\",\n        },\n        {\n            content: \"Click on the 'Highlight Effects' button to activate the option\",\n            trigger: \"div.o_we_text_highlight\",\n            run: \"click\",\n        },\n        ...clickOnSave(),\n        {\n            content: \"Change the language to French\",\n            trigger: ':iframe .js_language_selector .js_change_lang[data-url_code=\"fr\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Click edit button\",\n            trigger: \".o_menu_systray .o_edit_website_container button\",\n            run: \"click\",\n        },\n        {\n            content: \"Enable translation\",\n            trigger: \".o_popover .o_translate_website_dropdown_item\",\n            run: \"click\",\n        },\n        {\n            content: \"Close the dialog\",\n            trigger: \".modal-footer .btn-secondary\",\n            run: \"click\",\n        },\n        // Select the highlighted text content.\n        selectText(\"#wrap .s_text_block p:last .o_text_highlight\"),\n        {\n            content: \"Check that the highlight options were displayed\",\n            trigger: \"#toolbar we-select[data-name=text_highlight_opt]\",\n        },\n        ...selectElementInWeSelectWidget(\"text_highlight_opt\", \"Jagged\"),\n        // Select the animated text content.\n        selectText(\"#wrap .s_text_block p:first .o_animated_text\"),\n        {\n            content:\n                \"Check that the animation options are displayed and highlight options are no longer visible\",\n            trigger:\n                \"#toolbar:not(:has(.snippet-option-TextHighlight)) .snippet-option-WebsiteAnimate\",\n        },\n        // Select a text content without any option.\n        selectText(\"footer .s_text_block p:first span\"),\n        {\n            content: \"Check that all text options are removed\",\n            trigger:\n                \"#toolbar:not(:has(.snippet-option-TextHighlight, .snippet-option-WebsiteAnimate))\",\n        },\n        // Select the highlighted text content again.\n        selectText(\"#wrap .s_text_block p:last .o_text_highlight\"),\n        {\n            content: \"Check that only the highlight options are displayed\",\n            trigger:\n                \"#toolbar:not(:has(.snippet-option-WebsiteAnimate)) .snippet-option-TextHighlight\",\n        },\n        ...clickOnSave(),\n        {\n            content: \"Check that the highlight effect was correctly translated\",\n            trigger:\n                \":iframe .s_text_block .o_text_highlight:has(.o_text_highlight_item:has(.o_text_highlight_path_jagged))\",\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"test_unsplash_beacon\", {\n    url: \"/\",\n    steps: () => [{\n        content: \"Verify whether beacon was sent.\",\n        trigger: 'img[data-beacon=\"sent\"]',\n    }],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_backend_menus_redirect', {\n    url: '/',\n    steps: () => [\n{\n    isActive: [\"enterprise\"],\n    content: 'Need at least a step so the tour is not failing in enterprise',\n    trigger: 'body',\n}, {\n    isActive: [\"community\"],\n    content: 'Make frontend to backend menus appears',\n    trigger: 'body:has(#wrap)',\n    run: function () {\n        // The dropdown is hidden behind an SVG on hover animation.\n        this.anchor.querySelector(\".o_frontend_to_backend_apps_menu\").classList.add(\"show\");\n    },\n}, {\n    isActive: [\"community\"],\n    content: 'Click on Test Root backend menu',\n    trigger: '.o_frontend_to_backend_apps_menu a:contains(\"Test Root\")',\n    run: \"click\",\n}, {\n    isActive: [\"community\"],\n    content: 'Check that we landed on the apps page (Apps), and not the Home Action page (Settings)',\n    // It cannot be the name of the menu here, as that would still be displayed\n    // even when the default home action would be loaded. So instead, use a\n    // class used by the Apps Kanban.\n    trigger: '.oe_module_flag:not(:visible)',\n}\n]});\n", "/** @odoo-module **/\n\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    clickOnSnippet,\n    insertSnippet,\n    goBackToBlocks,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst cover = {\n    id: 's_cover',\n    name: 'Cover',\n    groupName: \"Intro\",\n};\n\nregisterWebsitePreviewTour('website_click_tour', {\n    url: '/',\n}, () => [\n    stepUtils.waitIframeIsReady(),\n    {\n        content: \"trigger a page navigation\",\n        trigger: ':iframe a[href=\"/contactus\"]',\n        run: \"click\",\n    },\n    {\n        content: \"wait for the page to be loaded\",\n        trigger: '.o_website_preview[data-view-xmlid=\"website.contactus\"]',\n    },\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: \"click on a link that would trigger navigation\",\n        trigger: ':iframe a[href=\"/\"]',\n        run: \"click\",\n    },\n    goBackToBlocks(),\n    ...insertSnippet(cover),\n    ...clickOnSnippet(cover),\n    ...clickOnSave(),\n]);\n", "/** @odoo-module **/\n\nimport {\n    changeOption,\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    insertSnippet,\n    goBackToBlocks,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\n// Visibility possible values:\nconst VISIBLE = 'Always Visible';\nconst HIDDEN = 'Hidden';\nconst CONDITIONALVISIBILITY = 'Visible only if';\n\nconst NB_NON_ESSENTIAL_REQUIRED_FIELDS_IN_DEFAULT_FORM = 2;\nconst ESSENTIAL_FIELDS_VALID_DATA_FOR_DEFAULT_FORM = [\n    {\n        name: 'email_from',\n        value: 'admin@odoo.com',\n    },\n    {\n        name: 'subject',\n        value: 'Hello, world!',\n    }\n];\nconst essentialFieldsForDefaultFormFillInSteps = [];\nfor (const data of ESSENTIAL_FIELDS_VALID_DATA_FOR_DEFAULT_FORM) {\n    essentialFieldsForDefaultFormFillInSteps.push({\n        content: \"Enter data in model-required field\",\n        trigger: `:iframe .s_website_form_model_required .s_website_form_input[name=\"${data.name}\"]`,\n        run: `edit ${data.value} && press Tab`,\n    });\n    essentialFieldsForDefaultFormFillInSteps.push({\n        trigger: `:iframe .s_website_form_model_required .s_website_form_input[name=\"${data.name}\"]:value(${data.value})`,\n    });\n}\n\n// Replace all `\"` character by `&quot;`.\nconst getQuotesEncodedName = function (name) {\n        return name.replaceAll(/\"/g, character => `&quot;`);\n};\n\nconst triggerFieldByLabel = (label) => {\n    return `.s_website_form_field.s_website_form_custom:has(label:contains(\"${label}\"))`;\n};\nconst selectFieldByLabel = (label) => {\n    return [{\n        content: `Select field \"${label}\"`,\n        trigger: \":iframe \" + triggerFieldByLabel(label),\n        run: \"click\",\n    }];\n};\nconst selectButtonByText = function (text) {\n    return [{\n        content: \"Open the select\",\n        trigger: `we-select:has(we-button:contains(\"${text}\")) we-toggler`,\n        run: \"click\",\n    },\n    {\n        content: \"Click on the option\",\n        trigger: `we-select we-button:contains(\"${text}\")`,\n        run: \"click\",\n    }];\n};\nconst selectButtonByData = function (data) {\n    return [{\n        content: \"Open the select\",\n        trigger: `we-select:has(we-button[${data}]) we-toggler`,\n        run: \"click\",\n    }, {\n        content: \"Click on the option\",\n        trigger: `we-select we-button[${data}]`,\n        run: \"click\",\n    }];\n};\nconst addField = function (name, type, label, required, isCustom,\n                           display = {visibility: VISIBLE, condition: \"\"}) {\n    const data = isCustom ? `data-custom-field=\"${name}\"` : `data-existing-field=\"${name}\"`;\n    const ret = [\n    {\n        trigger: \":iframe .s_website_form_field\",\n    },\n    {\n        content: \"Select form\",\n        trigger: ':iframe section.s_website_form',\n        run: \"click\",\n    }, {\n        content: \"Add field\",\n        trigger: 'we-button[data-add-field]',\n        run: \"click\",\n    },\n    ...selectButtonByData(data),\n    {\n        content: \"Wait for field to load\",\n        trigger: `:iframe .s_website_form_field[data-type=\"${name}\"],:iframe .s_website_form_input[name=\"${name}\"]`, //custom or existing field\n    },\n    ...selectButtonByText(display.visibility),\n];\n    let testText = ':iframe .s_website_form_field';\n    if (display.condition) {\n        ret.push({\n            content: \"Set the visibility condition\",\n            trigger: 'we-input[data-attribute-name=\"visibilityCondition\"] input',\n            run: `edit ${display.condition} && press Tab`,\n        });\n    }\n    if (required) {\n        testText += '.s_website_form_required';\n        ret.push({\n            content: \"Mark the field as required\",\n            trigger: 'we-button[data-name=\"required_opt\"] we-checkbox',\n            run: \"click\",\n        });\n    }\n    if (label) {\n        testText += `:has(label:contains(${label}))`;\n        ret.push({\n            content: \"Change the label text\",\n            trigger: 'we-input[data-set-label-text] input',\n            run: `edit ${label} && press Tab`,\n        });\n    }\n    if (type !== 'checkbox' && type !== 'radio' && type !== 'select') {\n        let inputType = type === 'textarea' ? type : `input[type=\"${type}\"]`;\n        const nameAttribute = isCustom && label ? getQuotesEncodedName(label) : name;\n        testText += `:has(${inputType}[name=\"${CSS.escape(nameAttribute)}\"]${required ? \"[required]\" : \"\"})`;\n    }\n    ret.push({\n        content: \"Check the resulting field\",\n        trigger: testText,\n    });\n    return ret;\n};\nconst addCustomField = function (name, type, label, required, display) {\n    return addField(name, type, label, required, true, display);\n};\nconst addExistingField = function (name, type, label, required, display) {\n    return addField(name, type, label, required, false, display);\n};\n\nregisterWebsitePreviewTour(\"website_form_editor_tour\", {\n    url: '/',\n    edition: true,\n}, () => [\n    // Drop a form builder snippet and configure it\n    {\n        content: \"Drop the form snippet\",\n        trigger: '#oe_snippets .oe_snippet .oe_snippet_thumbnail[data-snippet=s_website_form]',\n        run: \"drag_and_drop :iframe #wrap\",\n    },\n    {\n        trigger: \":iframe .s_website_form_field\",\n    },\n    {\n        content: \"Select form by clicking on an input field\",\n        trigger: ':iframe section.s_website_form input',\n        run: \"click\",\n    }, {\n        content: \"Verify that the form editor appeared\",\n        trigger: '.o_we_customize_panel .snippet-option-WebsiteFormEditor',\n    },\n    goBackToBlocks(),\n    {\n        trigger: \":iframe .s_website_form_field\",\n    },\n    {\n        content: \"Select form by clicking on a text area\",\n        trigger: ':iframe section.s_website_form textarea',\n        run: \"click\",\n    },\n    {\n        content: \"Verify that the form editor appeared\",\n        trigger: '.o_we_customize_panel .snippet-option-WebsiteFormEditor',\n    },\n    {\n        content: \"Rename and leave the field label\",\n        trigger: 'we-input[data-set-label-text] input',\n        run: \"edit Renamed && click body\",\n    },\n    goBackToBlocks(),\n    {\n        trigger: \":iframe .s_website_form_field\",\n    },\n    {\n        content: \"Select form itself (not a specific field)\",\n        trigger: ':iframe section.s_website_form',\n        run: \"click\",\n    },\n    ...selectButtonByText('Send an E-mail'),\n    {\n        content: \"Form has a model name\",\n        trigger: ':iframe section.s_website_form form[data-model_name=\"mail.mail\"]',\n        run: \"click\",\n    }, {\n        content: 'Edit the Phone Number field',\n        trigger: ':iframe input[name=\"phone\"]',\n        run: \"click\",\n    }, {\n        content: 'Change the label position of the phone field',\n        trigger: 'we-button[data-select-label-position=\"right\"]',\n        run: \"click\",\n    },\n    ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 1\", false),\n    ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 2\", false),\n    ...selectButtonByData(\"data-set-visibility='conditional'\"),\n    ...selectButtonByData(\"data-set-visibility-dependency='Conditional Visibility Check 1'\"),\n    ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 2\", false),\n    ...selectFieldByLabel(\"Conditional Visibility Check 1\"),\n    ...selectButtonByData(\"data-set-visibility='conditional'\"),\n    {\n        content: \"Check that 'Conditional Visibility Check 2' is not in the list of the visibility selector of Conditional Visibility Check 1\",\n        trigger: \"we-select[data-name='hidden_condition_opt']:not(:has(we-button[data-set-visibility-dependency='Conditional Visibility Check 2']))\",\n    },\n    ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 3\", false),\n    ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 4\", false),\n    ...selectButtonByData(\"data-set-visibility='conditional'\"),\n    ...selectButtonByData(\"data-set-visibility-dependency='Conditional Visibility Check 3'\"),\n    {\n        content: \"Change the label of 'Conditional Visibility Check 4' and change it to 'Conditional Visibility Check 3'\",\n        trigger: 'we-input[data-set-label-text] input',\n        // TODO: remove && click body\n        run: \"edit Conditional Visibility Check 3 && click body\",\n    },\n    {\n        content: \"Check that the conditional visibility of the renamed field is removed\",\n        trigger: \"we-customizeblock-option.snippet-option-WebsiteFieldEditor we-select:contains('Visibility'):has(we-toggler:contains('Always Visible'))\",\n    },\n    ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 5\", false),\n    ...addCustomField(\"char\", \"text\", \"Conditional Visibility Check 6\", false),\n    ...selectButtonByData(\"data-set-visibility='conditional'\"),\n    {\n        content: \"Change the label of 'Conditional Visibility Check 6' and change it to 'Conditional Visibility Check 5'\",\n        trigger: 'we-input[data-set-label-text] input',\n        // TODO: remove && click body\n        run: \"edit Conditional Visibility Check 5 && click body\",\n    },\n    {\n        content: \"Check that 'Conditional Visibility Check 5' is not in the list of the renamed field\",\n        trigger: \"we-customizeblock-option.snippet-option-WebsiteFieldEditor we-select[data-name='hidden_condition_opt']:not(:has(we-button:contains('Conditional Visibility Check 5')))\",\n    },\n    ...addExistingField('email_cc', 'text', 'Test conditional visibility', false, {visibility: CONDITIONALVISIBILITY, condition: 'odoo'}),\n    {\n        content: \"Ensure that the description has correctly been added on the field\",\n        trigger: \":iframe .s_website_form_field:contains('Test conditional visibility') .s_website_form_field_description\",\n    },\n    // Check that visibility condition is deleted on dependency type change.\n    ...addCustomField(\"char\", \"text\", \"dependent\", false, {visibility: CONDITIONALVISIBILITY}),\n    ...addCustomField(\"selection\", \"radio\", \"dependency\", false),\n    ...selectFieldByLabel(\"dependent\"),\n    ...selectButtonByData('data-set-visibility-dependency=\"dependency\"'),\n    ...selectFieldByLabel(\"dependency\"),\n    ...selectButtonByData('data-custom-field=\"char\"'),\n    ...selectFieldByLabel(\"dependent\"),\n    {\n        content: \"Open the select\",\n        trigger: 'we-select:has(we-button[data-set-visibility=\"visible\"]) we-toggler',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the field no longer has conditional visibility\",\n        trigger: \"we-select we-button[data-set-visibility='visible'].active\",\n    },\n\n    ...addExistingField('date', 'text', 'Test Date', true),\n\n    ...addExistingField('record_name', 'text', 'Awesome Label', false, {visibility: HIDDEN}),\n\n    ...addExistingField('body_html', 'textarea', 'Your Message', true),\n\n    ...addExistingField('recipient_ids', 'checkbox'),\n\n    ...addCustomField('one2many', 'checkbox', 'Products', true),\n    {\n        content: \"Change Option 1 label\",\n        trigger: 'we-list table input:eq(0)',\n        run: \"edit Iphone && press Tab\",\n    }, {\n        content: \"Change Option 2 label\",\n        trigger: 'we-list table input:eq(1)',\n        run: \"edit Galaxy S && press Tab\",\n    },{\n        content: \"Change first Option 3 label\",\n        trigger: 'we-list table input:eq(2)',\n        run: \"edit Xperia && press Tab\",\n    },\n    {\n        content: \"Click on Add new Checkbox\",\n        trigger: 'we-list we-button.o_we_list_add_optional',\n        run: \"click\",\n    },\n    {\n        content: \"Change added Option label\",\n        trigger: 'we-list table input:eq(3)',\n        run: \"edit Wiko Stairway && press Tab\",\n    }, {\n        content: \"Check the resulting field\",\n        trigger: \":iframe .s_website_form_field.s_website_form_custom.s_website_form_required\" +\n                    \":has(.s_website_form_multiple[data-display='horizontal'])\" +\n                    \":has(.checkbox:has(label:contains('Iphone')):has(input[type='checkbox'][required]))\" +\n                    \":has(.checkbox:has(label:contains('Galaxy S')):has(input[type='checkbox'][required]))\" +\n                    \":has(.checkbox:has(label:contains('Xperia')):has(input[type='checkbox'][required]))\" +\n                    \":has(.checkbox:has(label:contains('Wiko Stairway')):has(input[type='checkbox'][required]))\",\n    },\n    ...selectButtonByData('data-multi-checkbox-display=\"vertical\"'),\n    {\n        content: \"Check the resulting field\",\n        trigger: \":iframe .s_website_form_field.s_website_form_custom.s_website_form_required\" +\n                    \":has(.s_website_form_multiple[data-display='vertical'])\" +\n                    \":has(.checkbox:has(label:contains('Iphone')):has(input[type='checkbox'][required]))\" +\n                    \":has(.checkbox:has(label:contains('Galaxy S')):has(input[type='checkbox'][required]))\" +\n                    \":has(.checkbox:has(label:contains('Xperia')):has(input[type='checkbox'][required]))\" +\n                    \":has(.checkbox:has(label:contains('Wiko Stairway')):has(input[type='checkbox'][required]))\",\n    },\n    // Check conditional visibility for the relational fields\n    ...selectButtonByData(\"data-set-visibility='conditional'\"),\n    ...selectButtonByData(\"data-set-visibility-dependency='recipient_ids'\"),\n    ...selectButtonByText(\"Is not equal to\"),\n    ...selectButtonByText(\"Mitchell Admin\"),\n    ...clickOnSave(),\n    {\n        content: \"Check 'products' field is visible.\",\n        trigger: `:iframe .s_website_form:has(${triggerFieldByLabel(\"Products\")}:visible)`,\n    }, {\n        content: \"choose the option 'Mitchell Admin' of partner.\",\n        trigger: \":iframe .checkbox:has(label:contains('Mitchell Admin')) input[type='checkbox']\",\n        run: \"click\",\n    }, {\n        content: \"Check 'products' field is not visible.\",\n        trigger: \":iframe .s_website_form\" +`:has(${triggerFieldByLabel(\"Products\")}:not(:visible))`,\n    },\n    ...clickOnEditAndWaitEditMode(),\n    ...addCustomField('selection', 'radio', 'Service', true),\n    {\n        content: \"Change Option 1 label\",\n        trigger: 'we-list table input:eq(0)',\n        run: \"edit After-sales Service\",\n    }, {\n        content: \"Change Option 2 label\",\n        trigger: 'we-list table input:eq(1)',\n        run: \"edit Invoicing Service\",\n    }, {\n        content: \"Change first Option 3 label\",\n        trigger: 'we-list table input:eq(2)',\n        run: \"edit Development Service\",\n    },\n    {\n        // TODO: Fix code to avoid this behavior\n        content: \"Click outside focused element before click on add new checkbox otherwise button does'nt work\",\n        trigger: \"we-list we-title\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on Add new Checkbox\",\n        trigger: 'we-list we-button.o_we_list_add_optional',\n        run: \"click\",\n    }, {\n        content: \"Change last Option label\",\n        trigger: 'we-list table input:eq(3)',\n        run: \"edit Management Service\",\n    }, {\n        content: \"Mark the field as not required\",\n        trigger: 'we-button[data-name=\"required_opt\"] we-checkbox',\n        run: function () {\n            // We need this 'setTimeout' to ensure that the 'blur' event of\n            // the input has enough time to be executed. Without it, the\n            // click on the 'we-checkbox' takes priority, and the 'blur'\n            // event is not executed (see the '_onListItemBlurInput'\n            // function of the 'we-list' widget).\"\n            setTimeout(() => {\n                this.anchor.click();\n            }, 500);\n        },\n    }, {\n        content: \"Check the resulting field\",\n        trigger: \":iframe .s_website_form_field.s_website_form_custom:not(.s_website_form_required)\" +\n                    \":has(.radio:has(label:contains('After-sales Service')):has(input[type='radio']:not([required])))\" +\n                    \":has(.radio:has(label:contains('Invoicing Service')):has(input[type='radio']:not([required])))\" +\n                    \":has(.radio:has(label:contains('Development Service')):has(input[type='radio']:not([required])))\" +\n                    \":has(.radio:has(label:contains('Management Service')):has(input[type='radio']:not([required])))\",\n    },\n\n    ...addCustomField('many2one', 'select', 'State', true),\n\n    // Customize custom selection field\n    {\n        content: \"Change Option 1 Label\",\n        trigger: 'we-list table input:eq(0)',\n        run: \"edit Germany\",\n    }, {\n        content: \"Change Option 2 Label\",\n        trigger: 'we-list table input:eq(1)',\n        run: \"edit Belgium\",\n    }, {\n        content: \"Change first Option 3 label\",\n        trigger: 'we-list table input:eq(2)',\n        run: \"edit France\",\n    },\n    {\n        // TODO: Fix code to avoid this behavior\n        content: \"Click outside focused element before click on add new checkbox otherwise button does'nt work\",\n        trigger: \"we-list we-title\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on Add new Checkbox\",\n        trigger: 'we-button.o_we_list_add_optional',\n        run: \"click\",\n    },\n    {\n        // TODO: Fix code to avoid this behavior\n        content: \"Click outside focused element before click on add new checkbox otherwise button does'nt work\",\n        trigger: \"we-list we-title\",\n        run: \"click\",\n    },\n    {\n        content: \"Change last Option label\",\n        trigger: 'we-list table input:eq(3)',\n        // TODO: Fix code to avoid blur event\n        run: \"edit Canada\",\n    }, {\n        content: \"Remove Germany Option\",\n        trigger: '.o_we_select_remove_option:eq(0)',\n        run: \"click\",\n    },\n    {\n        // TODO: Fix code to avoid this behavior\n        content: \"Click outside focused element before click on add new checkbox otherwise button does'nt work\",\n        trigger: \"we-list we-title\",\n        run: \"click\",\n    },\n    {\n        content: \"Click on Add new Checkbox\",\n        trigger: 'we-list we-button.o_we_list_add_optional',\n        run: \"click\",\n    }, {\n        content: \"Change last option label with a number\",\n        trigger: 'we-list table input:eq(3)',\n        run: \"edit 44 - UK\",\n    }, {\n        content: \"Check that the input value is the full option value\",\n        trigger: 'we-list table input:eq(3)',\n        run: () => {\n            // We need this 'setTimeout' to ensure that the 'input' event of\n            // the input has enough time to be executed (see the\n            // '_onListItemBlurInput' function of the 'we-list' widget).\n            setTimeout(() => {\n                const addedOptionEl = document.querySelector('iframe.o_iframe').contentDocument.querySelector('.s_website_form_field select option[value=\"44 - UK\"]');\n                if (!addedOptionEl) {\n                    console.error('The number option was not correctly added');\n                }\n            }, 500);\n        },\n    }, {\n        content: \"Check the resulting snippet\",\n        trigger: \":iframe .s_website_form_field.s_website_form_custom.s_website_form_required\" +\n                    \":has(label:contains('State'))\" +\n                    \":has(select[required])\" +\n                    \":has(option:contains('Belgium')):not([selected])\" +\n                    \":has(option:contains('France'))\" +\n                    \":has(option:contains('Canada'))\" +\n                    \":has(option:contains('44 - UK'))\" +\n                    \":not(:has(option:contains('Germany')))\",\n    },\n\n    ...addExistingField('attachment_ids', 'file', 'Invoice Scan'),\n\n    {\n        content: \"Insure the history step of the editor is not checking for unbreakable\",\n        trigger: ':iframe #wrapwrap',\n        run: () => {\n            const wysiwyg = $('iframe:not(.o_ignore_in_tour)').contents().find('#wrapwrap').data('wysiwyg');\n            wysiwyg.odooEditor.historyStep(true);\n        },\n    },\n    // Edit the submit button using linkDialog.\n    {\n        content: \"Click submit button to show edit popover\",\n        trigger: ':iframe .s_website_form_send',\n        run: \"click\",\n    }, {\n        content: \"Click on Edit Link in Popover\",\n        trigger: ':iframe .o_edit_menu_popover .o_we_edit_link',\n        run: \"click\",\n    }, {\n        content: \"Check that no URL field is suggested\",\n        trigger: '.oe-toolbar:not(.oe-floating):has(#url_row:hidden)',\n    }, {\n        content: \"Change button's style\",\n        trigger: '.dropdown:has([name=\"link_style_color\"]) > button',\n        run: \"click\",\n    }, {\n        trigger: \"[data-value=custom]\",\n        run: \"click\",\n    }, {\n        trigger: \".dropdown:has([name=link_style_shape]) > button\",\n        run: \"click\",\n    }, {\n        trigger: \"[data-value=rounded-circle]\",\n        run: \"click\",\n    }, {\n        trigger: \".dropdown:has([name=link_style_size]) > button\",\n        run: \"click\",\n    }, {\n        trigger: \"[data-value=sm]\",\n        run: \"click\",\n    }, {\n        content: \"Check the resulting button\",\n        trigger: ':iframe .s_website_form_send.btn.btn-sm.btn-custom.rounded-circle',\n    },\n    // Add a default value to a auto-fillable field.\n    {\n        content: 'Select the name field',\n        trigger: ':iframe .s_website_form_field:eq(0)',\n        run: \"click\",\n    }, {\n        content: 'Set a default value to the name field',\n        trigger: 'we-input[data-attribute-name=\"value\"] input',\n        run: \"edit John Smith\",\n    },\n\n    // Add two fields: the 1st one's visibility is tied to the 2nd one\n    // being set, and the 2nd one is autopopulated. As a result, both\n    // should be visible by default.\n    ...addCustomField(\"char\", \"text\", \"field A\", false, {visibility: CONDITIONALVISIBILITY}),\n    ...addCustomField(\"char\", \"text\", \"field B\", false),\n    ...selectFieldByLabel(\"field A\"),\n    ...selectButtonByData('data-set-visibility-dependency=\"field B\"'),\n    ...selectButtonByData('data-select-data-attribute=\"set\"'),\n    ...selectFieldByLabel(\"field B\"),\n    {\n        content: \"Insert default value\",\n        trigger: 'we-input[data-attribute-name=\"value\"] input',\n        run: \"edit prefilled\",\n    },\n    ...clickOnSave(),\n    {\n        content: 'Verify value attribute and property',\n        trigger: ':iframe .s_website_form_field:eq(0) input[value=\"John Smith\"]:value(\"Mitchell Admin\")',\n        run: \"click\",\n    },\n    {\n        content: 'Verify that phone field is still auto-fillable',\n        trigger: ':iframe .s_website_form_field input[data-fill-with=\"phone\"]:value(\"+1 555-555-5555\")',\n        run: \"click\",\n    },\n    // Check that the resulting form behavior is correct.\n    {\n        content: \"Check that field B prefill text is set\",\n        trigger: `:iframe ${triggerFieldByLabel(\"field B\")}:has(input[value=\"prefilled\"])`,\n    }, {\n        content: \"Check that field A is visible\",\n        trigger: `:iframe .s_website_form:has(${triggerFieldByLabel(\"field A\")}:visible)`,\n    },\n    // A) Check that if we edit again and save again the default value is\n    // not deleted.\n    // B) Add a 3rd field. Field A's visibility is tied to field B being set,\n    // field B is autopopulated and its visibility is tied to field C being\n    // set, and field C is empty.\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: 'Edit the form',\n        trigger: ':iframe .s_website_form_field:eq(0) input',\n        run: 'click',\n    },\n    ...addCustomField(\"char\", \"text\", \"field C\", false),\n    ...selectFieldByLabel(\"field B\"),\n    ...selectButtonByText(CONDITIONALVISIBILITY),\n    ...selectButtonByText(CONDITIONALVISIBILITY),\n    {\n        content: \"Check that there is a comparator after two clicks on 'Visible only if'\",\n        trigger: \"[data-attribute-name='visibilityComparator']\",\n        run: function () {\n            if (!this.anchor.querySelector(\"we-button.active\")) {\n                console.error(\"A default comparator should be set\");\n            }\n        },\n    },\n    ...selectButtonByData('data-set-visibility-dependency=\"field C\"'),\n    ...selectButtonByData('data-select-data-attribute=\"set\"'),\n    ...clickOnSave(),\n\n    // Check that the resulting form behavior is correct.\n    {\n        content: 'Verify that the value has not been deleted',\n        trigger: ':iframe .s_website_form_field:eq(0) input[value=\"John Smith\"]',\n        run: \"click\",\n    }, {\n        content: \"Check that fields A and B are not visible and that field B's prefill text is still set\",\n        trigger: \":iframe .s_website_form\" +\n            `:has(${triggerFieldByLabel(\"field A\")}:not(:visible))` +\n            `:has(${triggerFieldByLabel(\"field B\")}` +\n            `:has(input[value=\"prefilled\"]):not(:visible))`,\n    }, {\n        content: \"Type something in field C\",\n        trigger: `:iframe ${triggerFieldByLabel(\"field C\")} input`,\n        run: \"edit Sesame\",\n    }, {\n        content: \"Check that fields A and B are visible\",\n        trigger: `:iframe .s_website_form:has(${triggerFieldByLabel(\"field B\")}:visible)` +\n            `:has(${triggerFieldByLabel(\"field A\")}:visible)`,\n    },\n\n    // Have field A's visibility tied to field B containing something,\n    // while field B's visibility is also tied to another field.\n    ...clickOnEditAndWaitEditMode(),\n    ...selectFieldByLabel(\"field A\"),\n    {\n        content: \"Verify that the form editor appeared\",\n        trigger: \".o_we_customize_panel .snippet-option-WebsiteFormEditor\",\n    },\n    ...selectButtonByData('data-select-data-attribute=\"contains\"'),\n    {\n        content: \"Tie the visibility of field A to field B containing 'peek-a-boo'\",\n        trigger: \"we-input[data-name=hidden_condition_additional_text] input\",\n        run: \"edit peek-a-boo\",\n    },\n    ...clickOnSave(),\n\n    // Check that the resulting form works and does not raise an error.\n     {\n        content: \"Write anything in C\",\n        trigger: `:iframe ${triggerFieldByLabel(\"field C\")} input`,\n        run: \"edit Mellon && press Tab\",\n    }, {\n        content: \"Check that field B is visible, but field A is not\",\n        trigger: `:iframe .s_website_form:has(${triggerFieldByLabel(\"field B\")}:visible)` +\n            `:has(${triggerFieldByLabel(\"field A\")}:not(:visible))`,\n    }, {\n        content: \"Insert 'peek-a-boo' in field B\",\n        trigger: `:iframe ${triggerFieldByLabel(\"field B\")} input`,\n        run: \"edit peek-a-boo\",\n    }, {\n        content: \"Check that field A is visible\",\n        trigger: `:iframe .s_website_form:has(${triggerFieldByLabel(\"field A\")}:visible)`,\n    },\n    ...clickOnEditAndWaitEditMode(),\n    ...addCustomField(\"char\", \"text\", \"Philippe of Belgium\", false),\n    {\n        content: \"Select the 'Subject' field\",\n        trigger: ':iframe .s_website_form_field.s_website_form_model_required:has(label:contains(\"Subject\"))',\n        run: \"click\",\n    },\n    ...selectButtonByText(CONDITIONALVISIBILITY),\n    ...selectButtonByData('data-set-visibility-dependency=\"Philippe of Belgium\"'),\n    ...selectButtonByData('data-select-data-attribute=\"set\"'),\n    {\n        content: \"Set a default value to the 'Subject' field\",\n        trigger: 'we-input[data-attribute-name=\"value\"] input',\n        run: \"edit Default Subject\",\n    },\n    {\n        content: \"Select the 'Your Message' field\",\n        trigger: ':iframe .s_website_form_field.s_website_form_required:has(label:contains(\"Your Message\"))',\n        run: \"click\",\n    },\n    ...selectButtonByText(CONDITIONALVISIBILITY),\n    ...selectButtonByData('data-set-visibility-dependency=\"Philippe of Belgium\"'),\n    ...selectButtonByData('data-select-data-attribute=\"set\"'),\n\n    ...clickOnSave(),\n    // Ensure that a field required for a model is not disabled when\n    // conditionally hidden.\n    {\n        content: \"Check that the 'Subject' field is not disabled\",\n        trigger: `:iframe .s_website_form:has(.s_website_form_model_required ` +\n            `.s_website_form_input[value=\"Default Subject\"]:not([disabled]):not(:visible))`,\n    },\n    // Ensure that a required field (but not for a model) is disabled when\n    // conditionally hidden.\n    {\n        content: \"Check that the 'Your Message' field is disabled\",\n        trigger: `:iframe .s_website_form:has(.s_website_form_required ` +\n            `.s_website_form_input[name=\"body_html\"][required][disabled]:not(:visible))`,\n    },\n\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: \"Select the 'Subject' field\",\n        trigger: ':iframe .s_website_form_field.s_website_form_model_required:has(label:contains(\"Subject\"))',\n        run: \"click\",\n    },\n    ...selectButtonByData(\"data-set-visibility='visible'\"),\n    {\n        content: \"Empty the default value of the 'Subject' field\",\n        trigger: 'we-input[data-attribute-name=\"value\"] input',\n        run: \"clear\",\n    },\n    {\n        content: \"Select the 'Your Message' field\",\n        trigger: ':iframe .s_website_form_field.s_website_form_required:has(label:contains(\"Your Message\"))',\n        run: \"click\",\n    },\n    ...selectButtonByData(\"data-set-visibility='visible'\"),\n    // This step is to ensure select fields are properly cleaned before\n    // exiting edit mode\n    {\n        content: \"Click on the select field\",\n        trigger: \":iframe .s_website_form_field select\",\n        run: \"click\",\n    },\n    {\n        content: 'Click on the submit button',\n        trigger: ':iframe .s_website_form_send',\n        run: 'click',\n    },\n    {\n        content: 'Change the Recipient Email',\n        trigger: '[data-field-name=\"email_to\"] input',\n        // TODO: remove && click we-title\n        run: \"edit test@test.test && click we-title\",\n    },\n    // Test a field visibility when it's tied to another Date [Time] field\n    // being set.\n    ...addCustomField(\"char\", \"text\", \"field D\", false, { visibility: CONDITIONALVISIBILITY }),\n    ...addCustomField(\"date\", \"text\", \"field E\", false),\n    ...selectFieldByLabel(\"field D\"),\n    ...selectButtonByData('data-set-visibility-dependency=\"field E\"'),\n    ...selectButtonByData('data-select-data-attribute=\"after\"'),\n    {\n        content: \"Enter a date in the date input\",\n        trigger: \"[data-name='hidden_condition_additional_date'] input\",\n        // TODO: remove && click .o_we_customize_panel\n        run: \"edit 03/28/2017 && click .o_we_customize_panel\",\n    },\n    ...clickOnSave(),\n    {\n        content: \"Enter an invalid date in field E\",\n        trigger: `:iframe ${triggerFieldByLabel(\"field E\")} input`,\n        run() {\n            this.anchor.value = \"25071981\";\n            this.anchor.dispatchEvent(new InputEvent(\"input\", {bubbles: true}));\n            // Adds a delay to let the input code run.\n            setTimeout(() => {\n                this.anchor.classList.add(\"invalidDate\");\n            }, 500);\n        },\n    },\n    {\n        content: \"Enter an valid date in field E\",\n        trigger: `:iframe ${triggerFieldByLabel(\"field E\")} input.invalidDate`,\n        run() {\n            this.anchor.classList.remove(\"invalidDate\");\n            this.anchor.value = \"07/25/1981\";\n            this.anchor.dispatchEvent(new InputEvent(\"input\", {bubbles: true}));\n            // Adds a delay to let the input code run.\n            setTimeout(() => {\n                this.anchor.classList.add(\"validDate\");\n            }, 500);\n        },\n    },\n    {\n        content: \"Click to open the date picker popover from field E\",\n        trigger: `:iframe ${triggerFieldByLabel(\"field E\")} input.validDate`,\n        run(actions) {\n            this.anchor.classList.remove(\"validDate\");\n            actions.click();\n        },\n    },\n    {\n        content: \"Select today's date from the date picker\",\n        trigger: \":iframe .o_datetime_picker .o_date_item_cell.o_today\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that field D is visible\",\n        trigger: `:iframe .s_website_form:has(${triggerFieldByLabel(\"field D\")}:visible)`,\n    },\n    ...clickOnEditAndWaitEditMode(),\n    // The next four calls to \"addCustomField\" are there to ensure such\n    // characters do not make the form editor crash.\n    ...addCustomField(\"char\", \"text\", \"''\", false),\n    ...addCustomField(\"char\", \"text\", '\"\"', false),\n    ...addCustomField(\"char\", \"text\", \"``\", false),\n    ...addCustomField(\"char\", \"text\", \"\\\\\", false),\n\n    // Ensure that the description option is working as wanted.\n    ...addCustomField(\"char\", \"text\", \"Check description option\", false),\n    changeOption(\"WebsiteFieldEditor\", \"we-button[data-toggle-description] we-checkbox\"),\n    {\n        content: \"Ensure that the description has correctly been added on the field\",\n        trigger: \":iframe .s_website_form_field:contains('Check description option') .s_website_form_field_description\",\n    },\n\n    ...clickOnSave(),\n    {\n        content: 'Verify that the recipient email has been saved',\n        // We have to this that way because the input type = hidden.\n        trigger: ':iframe form:has(input[name=\"email_to\"][value=\"test@test.test\"])',\n    }\n]);\n\nfunction editContactUs(steps) {\nreturn [\n    {\n        trigger: \"#oe_snippets .oe_snippet_thumbnail\",\n    },\n    {\n        content: \"Select the contact us form by clicking on an input field\",\n        trigger: \":iframe .s_website_form input\",\n        run: \"click\",\n    },\n    ...steps,\n    ...clickOnSave(),\n];\n}\n\nregisterWebsitePreviewTour('website_form_contactus_edition_with_email', {\n    url: '/contactus',\n    edition: true,\n}, () => editContactUs([\n    {\n        content: 'Change the Recipient Email',\n        trigger: '[data-field-name=\"email_to\"] input',\n        // TODO: remove && click body\n        run: \"edit test@test.test && click body\",\n    },\n]));\nregisterWebsitePreviewTour('website_form_contactus_edition_no_email', {\n    url: '/contactus',\n    edition: true,\n}, () => editContactUs([\n    {\n        content: \"Change a random option\",\n        trigger: '[data-set-mark] input',\n        run: \"edit ** && click body\",\n    }, {\n        content: \"Check that the recipient email is correct\",\n        trigger: 'we-input[data-field-name=\"email_to\"] input:value(\"website_form_contactus_edition_no_email@mail.com\")',\n    },\n]));\n\nregisterWebsitePreviewTour('website_form_conditional_required_checkboxes', {\n    url: '/',\n    edition: true,\n}, () => [\n    // Create a form with two checkboxes: the second one required but\n    // invisible when the first one is checked. Basically this should allow\n    // to have: both checkboxes are visible by default but the form can\n    // only be sent if one of the checkbox is checked.\n    {\n        content: \"Add the form snippet\",\n        trigger: '#oe_snippets .oe_snippet .oe_snippet_thumbnail[data-snippet=s_website_form]',\n        run: \"drag_and_drop :iframe #wrap\",\n    },\n    {\n        trigger: \":iframe .s_website_form_field\",\n    },\n    {\n        content: \"Select the form by clicking on an input field\",\n        trigger: ':iframe section.s_website_form input',\n        async run(actions) {\n            await actions.click();\n\n            // The next steps will be about removing non essential required\n            // fields. For the robustness of the test, check that amount\n            // of field stays the same.\n            const requiredFields = this.anchor.closest(\"[data-snippet]\").querySelectorAll(\".s_website_form_required\");\n            if (requiredFields.length !== NB_NON_ESSENTIAL_REQUIRED_FIELDS_IN_DEFAULT_FORM) {\n                console.error('The amount of required fields seems to have changed');\n            }\n        },\n    },\n    ...((function () {\n        const steps = [];\n        for (let i = 0; i < NB_NON_ESSENTIAL_REQUIRED_FIELDS_IN_DEFAULT_FORM; i++) {\n            steps.push({\n                content: \"Select required field to remove\",\n                trigger: ':iframe .s_website_form_required .s_website_form_input',\n                run: \"click\",\n            });\n            steps.push({\n                content: \"Remove required field\",\n                trigger: ':iframe .oe_overlay .oe_snippet_remove',\n                run: \"click\",\n            });\n        }\n        return steps;\n    })()),\n    ...addCustomField('boolean', 'checkbox', 'Checkbox 1', false),\n    ...addCustomField('boolean', 'checkbox', 'Checkbox 2', true, {visibility: CONDITIONALVISIBILITY}),\n    {\n        content: \"Open condition item select\",\n        trigger: 'we-select[data-name=\"hidden_condition_opt\"] we-toggler',\n        run: \"click\",\n    }, {\n        content: \"Choose first checkbox as condition item\",\n        trigger: 'we-button[data-set-visibility-dependency=\"Checkbox 1\"]',\n        run: \"click\",\n    }, {\n        content: \"Open condition comparator select\",\n        trigger: 'we-select[data-attribute-name=\"visibilityComparator\"] we-toggler',\n        run: \"click\",\n    }, {\n        content: \"Choose 'not equal to' comparator\",\n        trigger: 'we-button[data-select-data-attribute=\"!selected\"]',\n        run: \"click\",\n    },\n    ...clickOnSave(),\n\n    // Check that the resulting form behavior is correct\n    {\n        content: \"Wait for page reload\",\n        trigger: 'body:not(.editor_enable) :iframe [data-snippet=\"s_website_form\"]',\n        run: function (actions) {\n            // The next steps will be about removing non essential required\n            // fields. For the robustness of the test, check that amount\n            // of field stays the same.\n            const essentialFields = this.anchor.querySelectorAll(\".s_website_form_model_required\");\n            if (essentialFields.length !== ESSENTIAL_FIELDS_VALID_DATA_FOR_DEFAULT_FORM.length) {\n                console.error('The amount of model-required fields seems to have changed');\n            }\n        },\n    },\n    {\n        content: \"Wait the form is loaded before fill it\",\n        trigger: \":iframe form:contains(checkbox 2)\",\n    },\n    ...essentialFieldsForDefaultFormFillInSteps,\n    {\n        content: 'Try sending empty form',\n        trigger: ':iframe .s_website_form_send',\n        run: \"click\",\n    }, {\n        content: 'Check the form could not be sent',\n        trigger: ':iframe #s_website_form_result.text-danger',\n    }, {\n        content: 'Check the first checkbox',\n        trigger: ':iframe input[type=\"checkbox\"][name=\"Checkbox 1\"]',\n        run: \"click\",\n    }, {\n        content: 'Check the second checkbox is now hidden',\n        trigger: ':iframe .s_website_form:has(input[type=\"checkbox\"][name=\"Checkbox 2\"]:not(:visible))',\n    }, {\n        content: 'Try sending the form',\n        trigger: ':iframe .s_website_form_send',\n        run: \"click\",\n    }, {\n        content: \"Check the form was sent (success page without form)\",\n        trigger: ':iframe body:not(:has([data-snippet=\"s_website_form\"])) .fa-paper-plane',\n    }, {\n        content: \"Go back to the form\",\n        trigger: ':iframe a.navbar-brand.logo',\n        run: \"click\",\n    },\n    {\n        content: \"Wait the form is loaded before fill it\",\n        trigger: \":iframe form:contains(checkbox 2)\",\n    },\n    ...essentialFieldsForDefaultFormFillInSteps,\n    {\n        content: 'Check the second checkbox',\n        trigger: ':iframe input[type=\"checkbox\"][name=\"Checkbox 2\"]',\n        run: \"click\",\n    }, {\n        content: 'Try sending the form again',\n        trigger: ':iframe .s_website_form_send',\n        run: \"click\",\n    }, {\n        content: \"Check the form was again sent (success page without form)\",\n        trigger: ':iframe body:not(:has([data-snippet=\"s_website_form\"])) .fa-paper-plane',\n    }\n]);\n\nregisterWebsitePreviewTour('website_form_contactus_change_random_option', {\n    url: '/contactus',\n    edition: true,\n}, () => editContactUs([\n    {\n        content: \"Change a random option\",\n        trigger: '[data-set-mark] input',\n        // TODO: remove && click body\n        run: \"edit ** && click body\",\n    },\n]));\n\nregisterWebsitePreviewTour(\"website_form_nested_forms\", {\n    url: \"/my/account\",\n    edition: true,\n},\n() => [\n    {\n        trigger: \".o_website_preview.editor_enable.editor_has_snippets\",\n        noPrepend: true,\n    },\n    {\n        trigger: `#oe_snippets .oe_snippet[name=\"Form\"].o_we_draggable .oe_snippet_thumbnail:not(.o_we_already_dragging)`,\n        content: \"Try to drag the form into another form\",\n        run: \"drag_and_drop :iframe #wrap .o_portal_details a\",\n    },\n    {\n        content: \"Check the form was not dropped into another form\",\n        trigger:\n            \":iframe form[action='/my/account']:not(:has([data-snippet='s_website_form']))\",\n        run: () => null,\n    },\n]);\n\n// Check that the editable form content is actually editable.\nregisterWebsitePreviewTour(\"website_form_editable_content\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    {\n        trigger: \".o_website_preview.editor_enable.editor_has_snippets\",\n    },\n    {\n        trigger: `#oe_snippets .oe_snippet[name=\"Form\"].o_we_draggable .oe_snippet_thumbnail:not(.o_we_ongoing_insertion)`,\n        run: \"drag_and_drop :iframe #wrap\",\n    },\n    {\n        trigger: \":iframe .s_website_form_field\",\n    },\n    {\n        content: \"Check that a form field is not editable\",\n        trigger: \":iframe section.s_website_form input\",\n        run: function () {\n            if (this.anchor.isContentEditable) {\n                console.error(\"A form field should not be editable.\");\n            }\n        },\n    },\n    {\n        content: \"Go back to blocks\",\n        trigger: \".o_we_add_snippet_btn\",\n        run: \"click\",\n    },\n    ...insertSnippet({id: \"s_three_columns\", name: \"Columns\", groupName: \"Columns\"}),\n    {\n        content: \"Select the first column\",\n        trigger: \":iframe .s_three_columns .row > :nth-child(1)\",\n        run: \"click\",\n    },\n    {\n        content: \"Drag and drop the selected column inside the form\",\n        trigger: \":iframe .o_overlay_move_options .o_move_handle\",\n        run: \"drag_and_drop :iframe section.s_website_form\",\n    },\n    {\n        trigger: \":iframe section.s_website_form .col-lg-4[contenteditable=true]\",\n    },\n    {\n        content: \"Click on the text inside the dropped form column\",\n        trigger: \":iframe section.s_website_form h5.card-title\",\n        run: \"dblclick\",\n    },\n    {\n        // Simulate a user interaction with the editable content.\n        content: \"Update the text inside the form column\",\n        trigger: \":iframe section.s_website_form h5.card-title\",\n        run: \"editor ABC\",\n    },\n    {\n        content: \"Check that the new text value was correctly set\",\n        trigger: \":iframe section.s_website_form h5:contains(/^ABC$/)\",\n    },\n    {\n        content: \"Remove the dropped column\",\n        trigger: \":iframe .oe_overlay.oe_active .oe_snippet_remove:not(:visible)\",\n        run: \"click\",\n    },\n    ...clickOnSave(),\n]);\n\nregisterWebsitePreviewTour(\"website_form_special_characters\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    {\n        trigger: \".o_website_preview.editor_enable.editor_has_snippets\",\n    },\n    {\n        trigger: `#oe_snippets .oe_snippet[name=\"Form\"].o_we_draggable .oe_snippet_thumbnail:not(.o_we_ongoing_insertion)`,\n        run: \"drag_and_drop :iframe #wrap\",\n    },\n    {\n        trigger: \":iframe .s_website_form_field\",\n    },\n    {\n        content: \"Select form by clicking on an input field\",\n        trigger: \":iframe section.s_website_form input\",\n        run: \"click\",\n    },\n    ...addCustomField(\"char\", \"text\", `Test1\"'`, false),\n    ...addCustomField(\"char\", \"text\", 'Test2`\\\\', false),\n    ...clickOnSave(),\n    ...essentialFieldsForDefaultFormFillInSteps,\n    {\n        content: \"Complete 'Your Question' field\",\n        trigger: \":iframe textarea[name='description']\",\n        run: \"edit test\",\n    }, {\n        content: \"Complete the first added field\",\n        trigger: `:iframe input[name=\"${CSS.escape(\"Test1&quot;'\")}\"]`,\n        run: \"edit test1\",\n    }, {\n        content: \"Complete the second added field\",\n        trigger: `:iframe input[name=\"${CSS.escape(\"Test2`\\\\\")}\"]`,\n        run: \"edit test2\",\n    }, {\n        content: \"Click on 'Submit'\",\n        trigger: \":iframe a.s_website_form_send\",\n        run: \"click\",\n    }, {\n        content: \"Check the form was again sent (success page without form)\",\n        trigger: \":iframe body:not(:has([data-snippet='s_website_form'])) .fa-paper-plane\",\n    },\n]);\n", "/** @odoo-module **/\nimport { rpc } from \"@web/core/network/rpc\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"website_form_editor_tour_submit\", {\n    steps: () => [\n    {\n        trigger:  \"form[data-model_name='mail.mail']\" +\n                \"[data-success-page='/contactus-thank-you']\" +\n                \":has(.s_website_form_field:has(label:contains('Your Name')):has(input[type='text'][name='name'][required]))\" +\n                \":has(.s_website_form_field:has(label:contains('Your Email')):has(input[type='email'][name='email_from'][required]))\" +\n                \":has(.s_website_form_field:has(label:contains('Your Question')):has(textarea[name='description'][required]))\" +\n                \":has(.s_website_form_field:has(label:contains('Subject')):has(input[type='text'][name='subject'][required]))\" +\n                \":has(.s_website_form_field:has(label:contains('Test Date')):has(input[type='text'][name='date'][required]))\" +\n                \":has(.s_website_form_field:has(label:contains('Awesome Label')):hidden)\" +\n                \":has(.s_website_form_field:has(label:contains('Your Message')):has(textarea[name='body_html'][required]))\" +\n                \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Iphone'][required]))\" +\n                \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Galaxy S'][required]))\" +\n                \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Xperia'][required]))\" +\n                \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Wiko Stairway'][required]))\" +\n                \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='After-sales Service']:not([required])))\" +\n                \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='Invoicing Service']:not([required])))\" +\n                \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='Development Service']:not([required])))\" +\n                \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='Management Service']:not([required])))\" +\n                \":has(.s_website_form_field:has(label:contains('State')):has(select[name='State'][required]:has(option[value='Belgium'])))\" +\n                \":has(.s_website_form_field.s_website_form_required:has(label:contains('State')):has(select[name='State'][required]:has(option[value='France'])))\" +\n                \":has(.s_website_form_field:has(label:contains('State')):has(select[name='State'][required]:has(option[value='Canada'])))\" +\n                \":has(.s_website_form_field:has(label:contains('Invoice Scan')))\" +\n                \":has(.s_website_form_field:has(input[name='email_to'][value='test@test.test']))\" +\n                \":has(.s_website_form_field:has(input[name='website_form_signature']))\",\n    },\n    {\n        content:  \"Try to send the form with some required fields not filled in\",\n        trigger:  \".s_website_form_send\",\n        run: \"click\",\n    },\n    {\n        trigger:  \"form:has(#s_website_form_result.text-danger)\" +\n                \":has(.s_website_form_field:has(label:contains('Your Name')):not(.o_has_error))\" +\n                \":has(.s_website_form_field:has(label:contains('Email')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Your Question')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Subject')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Test Date')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Your Message')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Products')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Service')):not(.o_has_error))\" +\n                \":has(.s_website_form_field:has(label:contains('State')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Invoice Scan')):not(.o_has_error))\",\n    },\n    {\n        content:  \"Check if required fields were detected and complete the Subject field\",\n        trigger:  \"input[name=subject]\",\n        run:      \"edit Jane Smith\",\n    },\n    {\n        content:  \"Update required field status by trying to Send again\",\n        trigger:  \".s_website_form_send\",\n        run: \"click\",\n    },\n    {\n        trigger:  \"form:has(#s_website_form_result.text-danger)\" +\n                \":has(.s_website_form_field:has(label:contains('Your Name')):not(.o_has_error))\" +\n                \":has(.s_website_form_field:has(label:contains('Email')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Your Question')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Subject')):not(.o_has_error))\" +\n                \":has(.s_website_form_field:has(label:contains('Test Date')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Your Message')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Products')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Service')):not(.o_has_error))\" +\n                \":has(.s_website_form_field:has(label:contains('State')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Invoice Scan')):not(.o_has_error))\",\n    },\n    {\n        content:  \"Check if required fields were detected and complete the Message field\",\n        trigger:  \"textarea[name=body_html]\",\n        run:      \"edit A useless message\"\n    },\n    {\n        content:  \"Update required field status by trying to Send again\",\n        trigger:  \".s_website_form_send\",\n        run: \"click\",\n    },\n    {\n        trigger:  \"form:has(#s_website_form_result.text-danger)\" +\n                \":has(.s_website_form_field:has(label:contains('Your Name')):not(.o_has_error))\" +\n                \":has(.s_website_form_field:has(label:contains('Email')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Your Question')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Subject')):not(.o_has_error))\" +\n                \":has(.s_website_form_field:has(label:contains('Test Date')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Your Message')):not(.o_has_error))\" +\n                \":has(.s_website_form_field:has(label:contains('Products')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Service')):not(.o_has_error))\" +\n                \":has(.s_website_form_field:has(label:contains('State')).o_has_error)\" +\n                \":has(.s_website_form_field:has(label:contains('Invoice Scan')):not(.o_has_error))\",\n    },\n    {\n        content:  \"Check if required fields was detected and check a product. If this fails, you probably broke the cleanForSave.\",\n        trigger:  \"input[name=Products][value='Wiko Stairway']\",\n        run: \"click\",\n    },\n    {\n        content:  \"Open datetime picker\",\n        trigger:  \".s_website_form_datetime input\",\n        run:      \"click\",\n    },\n    {\n        content:  \"Complete Date field\",\n        trigger:  \".o_date_picker .o_today\",\n        run: \"click\",\n    },\n    {\n        content:  \"Check another product\",\n        trigger:  \"input[name='Products'][value='Xperia']\",\n        run: \"click\",\n    },\n    {\n        content:  \"Check a service\",\n        trigger:  \"input[name='Service'][value='Development Service']\",\n        run: \"click\",\n    },\n    {\n        content:  \"Select a State\",\n        trigger:  \"select[name='State']\",\n        run:      \"select Canada\",\n    },\n    {\n        content:  \"Complete Your Name field\",\n        trigger:  \"input[name='name']\",\n        run:      \"edit chhagan\",\n    },\n    {\n        content:  \"Complete Email field\",\n        trigger:  \"input[name=email_from]\",\n        run:      \"edit test@mail.com\",\n    },\n    {\n        content: \"Complete Subject field\",\n        trigger: 'input[name=\"subject\"]',\n        run: \"edit subject\",\n    },\n    {\n        content:  \"Complete Your Question field\",\n        trigger:  \"textarea[name='description']\",\n        run:      \"edit magan\",\n    },\n    {\n        content: \"Check if conditional field is visible, it shouldn't.\",\n        trigger: \"body\",\n        run: function () {\n            const style = window.getComputedStyle(this.anchor.getElementsByClassName('s_website_form_field_hidden_if')[0]);\n            if (style.display !== 'none') {\n                console.error('error This field should be invisible when the name is not odoo');\n            }\n        }\n    },\n    {\n        content: \"Change name input\",\n        trigger: \"input[name='name']\",\n        run: \"edit odoo\",\n    },\n    {\n        content: \"Check if conditional field is visible, it should.\",\n        trigger: \"input[name='email_cc']\",\n        run: \"click\",\n    },\n    {\n        content: \"Select state option\",\n        trigger: \"select[name='State']\",\n        run: \"select 44 - UK\",\n    },\n    {\n        content:  \"Send the form\",\n        trigger:  \".s_website_form_send\",\n        run: \"click\",\n    },\n    {\n        content:  \"Check form is submitted without errors\",\n        trigger:  \"#wrap:has(h1:contains('Thank You!'))\",\n    }\n]});\n\nregistry.category(\"web_tour.tours\").add(\"website_form_editor_tour_results\", {\n    steps: () => [\n    {\n        content: \"Check mail.mail records have been created\",\n        trigger: \"body\",\n        run: function () {\n            var mailDef = rpc(`/web/dataset/call_kw/mail.mail/search_count`, {\n                model: \"mail.mail\",\n                method: \"search_count\",\n                args: [[\n                    ['email_to', '=', 'test@test.test'],\n                    ['body_html', 'like', 'A useless message'],\n                    ['body_html', 'like', 'Service : Development Service'],\n                    ['body_html', 'like', 'State : 44 - UK'],\n                    ['body_html', 'like', 'Products : Xperia,Wiko Stairway']\n                ]],\n                kwargs: {},\n            });\n            var success = function(model, count) {\n                if (count > 0) {\n                    const div = document.createElement(\"div\");\n                    div.id = `website_form_editor_success_test_tour_${model}`;\n                    document.body.append(div);\n                }\n            };\n            mailDef.then(success.bind(this, 'mail_mail'));\n        }\n    },\n    {\n        content:  \"Check mail.mail records have been created\",\n        trigger:  \"#website_form_editor_success_test_tour_mail_mail:not(:visible)\",\n    }\n]});\nregistry.category(\"web_tour.tours\").add('website_form_contactus_submit', {\n    url: '/contactus',\n    steps: () => [\n    // As the demo portal user, only two inputs needs to be filled to send\n    // the email\n    {\n        isActive: [\"body:has(.o-livechat-root)\"],\n        trigger: \":shadow span:contains(select an option above)\",\n    },\n    {\n        content: \"Fill in the subject\",\n        trigger: 'input[name=\"subject\"]',\n        run: \"edit Test\",\n    },\n    {\n        content: 'Fill in the message',\n        trigger: 'textarea[name=\"description\"]',\n        run: \"edit Test\",\n    },\n    {\n        content: 'Send the form',\n        trigger: '.s_website_form_send',\n        run: \"click\",\n    },\n    {\n        content: 'Check form is submitted without errors',\n        trigger: '#wrap:has(h1:contains(\"Thank You!\"))',\n    },\n]});\nregistry.category(\"web_tour.tours\").add('website_form_contactus_check_changed_email', {\n    url: '/contactus',\n    steps: () => [\n        {\n            content: \"Check that the recipient email is updated\",\n            trigger: 'form:has(input[name=\"email_to\"][value=\"after.change@mail.com\"])',\n        },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"website_navbar_menu\", {\n    url: \"/\",\n    steps: () => [\n        {\n            content: \"Ensure menus are in DOM\",\n            trigger: \".top_menu .nav-item a:contains(Test Tour Menu)\",\n        },\n        {\n            content: \"Ensure menus loading is done (so they are actually visible)\",\n            trigger: \"body:not(:has(.o_menu_loading))\",\n        },\n        {\n            trigger: `.o_main_nav a[role=\"menuitem\"]:contains(test tour menu)`,\n            run: \"click\",\n        },\n        {\n            trigger: `main:contains(We couldn't find the page you're looking for!)`,\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { browser } from '@web/core/browser/browser';\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nconst makeSteps = (steps = []) => [\n    ...insertSnippet({\n        id: \"s_text_image\",\n        name: \"Text - Image\",\n        groupName: \"Content\",\n    }), {\n        content: \"Click on Discard\",\n        trigger: '.o_we_website_top_actions [data-action=\"cancel\"]',\n        run: \"click\",\n    }, {\n        content: \"Check that discarding actually warns when there are dirty changes, and cancel\",\n        trigger: \".modal-footer .btn-secondary\",\n        run: \"click\",\n    },\n    ...clickOnSave(),\n    ...clickOnEditAndWaitEditMode(),\n    {\n        // This makes sure the last step about leaving edit mode at the end of\n        // this tour makes sense.\n        content: \"Confirm we are in edit mode\",\n        trigger: 'body.editor_has_snippets',\n    },\n    ...steps,\n    {\n        // Makes sure the dirty flag does not happen after a setTimeout or\n        // something like that.\n        content: \"Click elsewhere and wait for a few ms\",\n        trigger: \":iframe #wrap\",\n        async run(actions) {\n            // TODO: use actions.click(); instead\n            this.anchor.click();\n            await new Promise((resolve) => {\n                browser.setTimeout(() => {\n                    document.body.classList.add(\"o_test_delay\");\n                    resolve();\n                }, 999);\n            });\n        },\n    },\n    {\n        trigger: \"body.o_test_delay\",\n    },\n    {\n        content: \"Click on Discard\",\n        trigger: '.o_we_website_top_actions [data-action=\"cancel\"]',\n        run: \"click\",\n    }, {\n        content: \"Confirm we are not in edit mode anymore\",\n        trigger: 'body:not(.editor_has_snippets)',\n    },\n];\n\nregisterWebsitePreviewTour('website_no_action_no_dirty_page', {\n    url: '/',\n    edition: true,\n}, () => makeSteps());\n\nregisterWebsitePreviewTour('website_no_dirty_page', {\n    url: '/',\n    edition: true,\n}, () => makeSteps([\n    {\n        // This has been known to mark the page as dirty because of the \"drag\n        // the column on image move\" feature.\n        content: \"Click on default image\",\n        trigger: ':iframe .s_text_image img',\n        run: \"click\",\n    }, {\n        content: \"Click on default paragraph\",\n        trigger: ':iframe .s_text_image h2 + p.o_default_snippet_text',\n        run: \"click\",\n    }, {\n        // TODO this should be done in a dedicated test which would be testing\n        // all default snippet texts behaviors. Will be done in master where a\n        // task will review this feature.\n        // TODO also test that applying an editor command removes that class.\n        content: \"Make sure the paragraph still acts as a default paragraph\",\n        trigger: ':iframe .s_text_image h2 + p.o_default_snippet_text',\n    }, {\n        content: \"Click on button\",\n        trigger: ':iframe .s_text_image .btn',\n        async run(actions) {\n            await actions.click();\n            const el = this.anchor;\n            const sel = el.ownerDocument.getSelection();\n            sel.collapse(el, 0);\n            el.focus();\n        },\n    }, {\n        content: \"Add useless space at the end of the snippet class attribute, then click on it\",\n        trigger: \":iframe .s_text_image\",\n        async run(actions) {\n            this.anchor.setAttribute(\"class\", this.anchor.getAttribute(\"class\") + \" \");\n            return actions.click();\n        },\n    },\n]));\n\nregisterWebsitePreviewTour(\n    \"website_default_snippet_text\",\n    {\n        url: \"/\",\n        edition: true,\n    },\n    () => [\n        ...insertSnippet({\n            id: \"s_text_image\",\n            name: \"Text - Image\",\n            groupName: \"Content\",\n        }),\n        ...insertSnippet({\n            id: \"s_banner\",\n            name: \"Banner\",\n            groupName: \"Intro\",\n        }),\n        {\n            content: \"Click on first paragraph\",\n            trigger: \":iframe .s_text_image p.o_default_snippet_text\",\n            run: \"click\",\n        },\n        {\n            content: \"Select the first word (Write)\",\n            trigger: \":iframe .s_text_image p.o_default_snippet_text\",\n            run() {\n                const paragraph = this.anchor;\n                const range = document.createRange();\n                const text = paragraph.textContent;\n                const firstWordLength = text.split(\" \")[0].length;\n                range.setStart(paragraph.firstChild, 0);\n                range.setEnd(paragraph.firstChild, firstWordLength);\n                const selection = this.anchor.ownerDocument.getSelection();\n                selection.removeAllRanges();\n                selection.addRange(range);\n            },\n        },\n        {\n            content: \"Apply bold formatting\",\n            trigger: \".o_we_toolbar_wrapper #bold\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if default_snippet_text class is removed\",\n            trigger: \":iframe .s_text_image p:eq(0)\",\n            run() {\n                if (this.anchor.classList.contains(\"o_default_snippet_text\")) {\n                    console.error(\"The class o_default_snippet_text should be removed\");\n                }\n            },\n        },\n        {\n            content: \"Click on second paragraph\",\n            trigger: \":iframe .s_text_image p.o_default_snippet_text\",\n            run: \"click\",\n        },\n        {\n            content: \"The paragraph should be selected\",\n            trigger: \":iframe .s_text_image p:eq(1)\",\n            run() {\n                const pText = this.anchor.textContent;\n                const selection = this.anchor.ownerDocument.getSelection();\n                if (selection.toString() !== pText) {\n                    console.error(\"The paragraph should be selected\");\n                }\n            },\n        },\n        {\n            content: \"Replace the paragraph by typing something\",\n            trigger: \":iframe .s_text_image p:eq(1)\",\n            run(actions) {\n                // We must invoke 'trigger' from a jQuery object because\n                // the 'keyup.snippets_menu' event needs to be dispatched.\n                // TODO: Replace this event trigger with vanilla JavaScript\n                // once jQuery is removed from the snippets editor.\n                $(this.anchor.ownerDocument.body).trigger(\"keyup.snippets_menu\");\n                actions.editor(\"Another brick in the wall\");\n            },\n        },\n        {\n            content: \"Check if default_snippet_text class is removed\",\n            trigger: \":iframe .s_text_image p:eq(1)\",\n            run() {\n                if (this.anchor.classList.contains(\"o_default_snippet_text\")) {\n                    console.error(\"The class o_default_snippet_text should be removed\");\n                }\n            },\n        },\n        {\n            content: \"Re-click on the paragraph\",\n            trigger: \":iframe .s_text_image p:eq(1)\",\n            run: \"click\",\n        },\n        {\n            content: \"The paragraph should not be selected\",\n            trigger: \":iframe .s_text_image p:eq(1)\",\n            run() {\n                const pText = this.anchor.textContent;\n                const selection = this.anchor.ownerDocument.getSelection();\n                if (selection.toString() === pText) {\n                    console.error(\"The paragraph should not be selected\");\n                }\n            },\n        },\n        {\n            content: \"Click on the paragraph\",\n            trigger: \":iframe .s_banner p.o_default_snippet_text\",\n            run: \"click\",\n        },\n        {\n            content: \"The paragraph should be selected\",\n            trigger: \":iframe .s_banner p.o_default_snippet_text\",\n            run() {\n                const pText = this.anchor.textContent.trim();\n                const selectionText = this.anchor.ownerDocument.getSelection().toString().trim();\n                if (selectionText !== pText) {\n                    console.error(\"The paragraph should be selected: \", selectionText, pText);\n                }\n            },\n        },\n        {\n            content: \"Click elsewhere\",\n            trigger: \":iframe .s_banner img\",\n            run: \"click\",\n        },\n        {\n            content: \"Re-click on the paragraph\",\n            trigger: \":iframe .s_banner p.o_default_snippet_text\",\n            run: \"click\",\n        },\n        {\n            content: \"The paragraph should not be selected\",\n            trigger: \":iframe .s_banner p.o_default_snippet_text\",\n            run() {\n                const pText = this.anchor.textContent.trim();\n                const selectionText = this.anchor.ownerDocument.getSelection().toString().trim();\n                if (selectionText === pText) {\n                    console.error(\"The paragraph should not be selected: \", selectionText, pText);\n                }\n            },\n        },\n        ...clickOnSave(),\n        ...clickOnEditAndWaitEditMode(),\n        {\n            content: \"Click on the paragraph\",\n            trigger: \":iframe .s_banner p.o_default_snippet_text\",\n            run: \"click\",\n        },\n        {\n            content: \"The paragraph should be re-selected\",\n            trigger: \":iframe .s_banner p.o_default_snippet_text\",\n            run() {\n                const pText = this.anchor.textContent.trim();\n                const selectionText = this.anchor.ownerDocument.getSelection().toString().trim();\n                if (selectionText !== pText) {\n                    console.error(\"The paragraph should be re-selected: \", selectionText, pText);\n                }\n            },\n        },\n    ]\n);\n\nregisterWebsitePreviewTour('website_no_dirty_lazy_image', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n        groupName: \"Content\",\n    }),\n    {\n        // Ensure the test keeps testing what it should test (eg if we ever\n        trigger: ':iframe img.o_lang_flag[loading=\"lazy\"]',\n    },\n    {\n        content: \"Replace first paragraph, to insert a new link\",\n        // remove the lazy loading on those language img))\n        trigger: ':iframe #wrap .s_text_image p',\n        run: 'editor SomeTestText',\n    },\n    {\n        trigger: ':iframe #wrap .s_text_image p:contains(\"SomeTestText\")',\n    },\n    {\n        content: \"Click elsewhere to be sure the editor fully process the new content\",\n        trigger: ':iframe #wrap .s_text_image img',\n        run: \"click\",\n    },\n    {\n        trigger: '.o_we_user_value_widget[data-replace-media=\"true\"]',\n    },\n    {\n        content: \"Check that there is no more than one dirty flag\",\n        trigger: ':iframe body',\n        run: function () {\n            const dirtyCount = this.anchor.querySelectorAll('.o_dirty').length;\n            if (dirtyCount !== 1) {\n                console.error(dirtyCount + \" dirty flag(s) found\");\n            } else {\n                this.anchor.querySelector('#wrap').classList.add('o_dirty_as_expected');\n            }\n        },\n    }, {\n        content: \"Check previous step went through correctly about dirty flags\",\n        trigger: ':iframe #wrap.o_dirty_as_expected',\n    }\n]);\n", "/** @odoo-module **/\n\nimport {\n    changeOption,\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    clickOnSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\n\nregisterWebsitePreviewTour('website_page_options', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...clickOnSnippet({id: 'o_header_standard', name: 'Header'}),\n    changeOption('TopMenuVisibility', 'we-select:has([data-visibility]) we-toggler'),\n    changeOption('TopMenuVisibility', 'we-button[data-visibility=\"transparent\"]'),\n    // It's important to test saving right after changing that option only as\n    // this is why this test was made in the first place: the page was not\n    // marked as dirty when that option was the only one that was changed.\n    ...clickOnSave(),\n    {\n        content: \"Check that the header is transparent\",\n        trigger: ':iframe #wrapwrap.o_header_overlay',\n    },\n    ...clickOnEditAndWaitEditMode(),\n    ...clickOnSnippet({id: 'o_header_standard', name: 'Header'}),\n    changeOption('topMenuColor', 'we-select.o_we_so_color_palette'),\n    changeOption('topMenuColor', 'button[data-color=\"black-50\"]', 'background color', 'bottom', true),\n    ...clickOnSave(),\n    {\n        content: \"Check that the header is in black-50\",\n        trigger: ':iframe header#top.bg-black-50',\n    },\n    ...clickOnEditAndWaitEditMode(),\n    ...clickOnSnippet({id: 'o_header_standard', name: 'Header'}),\n    changeOption(\"topMenuColor\", '[data-page-option-name=\"header_text_color\"]'),\n    changeOption(\"topMenuColor\", 'button[style=\"background-color:#FF0000;\"]', \"text color\", \"bottom\", true),\n    ...clickOnSave(),\n    {\n        content: \"Check that text color of the header is in red\",\n        trigger: ':iframe header#top[style=\" color: #FF0000;\"]',\n    },\n    {\n        content: \"Enable the mobile view\",\n        trigger: \".o_mobile_preview > a\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that text color of the navbar toggler icon is in red\",\n        trigger: ':iframe header#top [data-bs-toggle=\"offcanvas\"] .navbar-toggler-icon',\n        run: function () {\n            if (getComputedStyle(this.anchor).color !== \"rgb(255, 0, 0)\") {\n                console.error(\"The navbar toggler icon is not in red\");\n            }\n        },\n    },\n    {\n        content: \"Disable the mobile view\",\n        trigger: \".o_mobile_preview > a\",\n        run: \"click\",\n    },\n    ...clickOnEditAndWaitEditMode(),\n    ...clickOnSnippet({id: \"o_header_standard\", name: \"Header\"}),\n    changeOption('TopMenuVisibility', 'we-select:has([data-visibility]) we-toggler'),\n    changeOption('TopMenuVisibility', 'we-button[data-visibility=\"hidden\"]'),\n    ...clickOnSave(),\n    {\n        content: \"Check that the header is hidden\",\n        trigger: ':iframe #wrapwrap:has(header#top.d-none.o_snippet_invisible)',\n    },\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: \"Click on 'header' in the invisible elements list\",\n        trigger: '.o_we_invisible_el_panel .o_we_invisible_entry',\n        run: \"click\",\n    },\n    ...clickOnSnippet({id: 'o_footer', name: 'Footer'}),\n    changeOption('HideFooter', 'we-button[data-name=\"hide_footer_page_opt\"] we-checkbox'),\n    ...clickOnSave(),\n    {\n        trigger: \":iframe #wrapwrap header#top:not(.d-none)\",\n    },\n    {\n        content: \"Check that the footer is hidden and the header is visible\",\n        trigger: ':iframe #wrapwrap:has(.o_footer.d-none.o_snippet_invisible)',\n    },\n]);\n", "/** @odoo-module **/\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from \"@website/js/tours/tour_utils\";\n\nregisterWebsitePreviewTour(\n    \"website_seo_notification\",\n    {\n        url: \"/\",\n    },\n    () => [\n        // Part one checks that the SEO notification is displayed when the page title is not set.\n        {\n            content: \"Open new page menu\",\n            trigger: \".o_menu_systray .o_new_content_container > a\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on new page\",\n            trigger: \".o_new_content_element a\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on Use this template\",\n            trigger: \".o_page_template .o_button_area:not(:visible)\",\n            run: \"click\",\n        },\n        {\n            content: \"Insert page name\",\n            trigger:\n                \".modal:not(.o_inactive_modal):contains(new page) .modal-body input[type=text]\",\n            run: \"edit Test Page\",\n        },\n        {\n            trigger: \"input[type='text']:value(Test Page)\",\n        },\n        {\n            content: \"Create page\",\n            trigger:\n                \".modal:not(.o_inactive_modal):contains(new page) button.btn-primary:contains(create)\",\n            run: \"click\",\n        },\n        ...insertSnippet({\n            id: \"s_text_image\",\n            name: \"Text - Image\",\n            groupName: \"Content\",\n        }),\n        ...clickOnSave(),\n        {\n            content: \"Publish your website\",\n            trigger: \".o_menu_systray_item.o_website_publish_container a\",\n            run: \"click\",\n        },\n        {\n            content: \"Check the SEO notification is displayed\",\n            trigger: \".o_notification_manager .o_notification:contains('Page title not set.')\",\n        },\n        {\n            trigger: \"body:not(:has(.o_notification_manager .o_notification))\",\n        },\n\n        // Part 2 checks that the SEO notification is not displayed when we are in any page like /my or /shop etc.\n        {\n            content: \"Open the dropdown menu\",\n            trigger:\n                \":iframe #o_main_nav .navbar-nav .dropdown.o_no_autohide_item > a.dropdown-toggle\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on My Account\",\n            trigger: \":iframe #o_main_nav .js_usermenu a.dropdown-item.ps-3:contains('My Account')\",\n            run: \"click\",\n        },\n        ...clickOnEditAndWaitEditMode(),\n        ...insertSnippet({\n            id: \"s_text_image\",\n            name: \"Text - Image\",\n            groupName: \"Content\",\n        }),\n        ...clickOnSave(),\n        {\n            content: \"Check the SEO notification should not be displayed\",\n            trigger: \"body:not(:has(.o_notification_manager .o_notification))\",\n        },\n    ]\n);\n", "/** @odoo-module **/\n\nimport {\n    goToTheme,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour(\"website_snippets_menu_tabs\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...goToTheme(),\n    {\n        trigger: \"we-customizeblock-option.snippet-option-ThemeColors\",\n    },\n    {\n        content: \"Click on the empty 'DRAG BUILDING BLOCKS HERE' area.\",\n        trigger: ':iframe main > .oe_structure.oe_empty',\n        run: 'click',\n    },\n    ...goToTheme(),\n    {\n        content: \"Verify that the customize panel is not empty.\",\n        trigger: '.o_we_customize_panel > we-customizeblock-options',\n    },\n    {\n        content: \"Click on the style tab.\",\n        trigger: '#snippets_menu .o_we_customize_snippet_btn',\n        run: \"click\",\n    },\n    ...goToTheme(),\n    {\n        content: \"Verify that the customize panel is not empty.\",\n        trigger: '.o_we_customize_panel > we-customizeblock-options',\n    },\n]);\n", "/** @odoo-module **/\n\nimport weUtils from \"@web_editor/js/common/utils\";\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    goToTheme,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nconst TARGET_FONT_SIZE = 20; // The max to not be impacted by the responsive font size system\nconst TARGET_BODY_BG_COLOR = '#00FF00';\nconst TARGET_BODY_BG_COLOR_V2 = 'rgb(0, 255, 0)';\nconst TARGET_BODY_COLOR = '#FF00FF';\nconst TARGET_BODY_COLOR_V2 = 'rgb(255, 0, 255)';\n\nconst checkFontSize = function () {\n    const style = document.defaultView.getComputedStyle(this.anchor);\n    if (\n        !weUtils.areCssValuesEqual(\n            style.fontSize,\n            `${TARGET_FONT_SIZE}px`,\n            \"font-size\",\n            this.anchor\n        )\n    ) {\n        console.error(`Expected the font-size to be equal to ${TARGET_FONT_SIZE}px but found ${style.fontSize} instead`);\n    }\n};\nconst checkBodyBgColor = function () {\n    const style = document.defaultView.getComputedStyle(this.anchor);\n    if (\n        !weUtils.areCssValuesEqual(\n            style.backgroundColor,\n            `${TARGET_BODY_BG_COLOR}`,\n            \"background-color\",\n            this.anchor\n        )\n    ) {\n        console.error(`Expected the background color to be equal to ${TARGET_BODY_BG_COLOR} but found ${style.backgroundColor} instead`);\n    }\n};\nconst checkBodyColor = function () {\n    const style = document.defaultView.getComputedStyle(this.anchor);\n    if (!weUtils.areCssValuesEqual(style.color, `${TARGET_BODY_COLOR}`, \"color\", this.anchor)) {\n        console.error(`Expected the color to be equal to ${TARGET_BODY_COLOR} but found ${style.color} instead`);\n    }\n};\n\nregisterWebsitePreviewTour(\"website_style_edition\", {\n    url: '/',\n    edition: true,\n}, () => [\n...goToTheme(),\n{\n    content: \"Change font size\",\n    trigger: '[data-variable=\"font-size-base\"] input',\n    run: `edit ${TARGET_FONT_SIZE} && click body`,\n},\n{\n    // Waiting the CSS to be reloaded: the code adds a new assets bundle with\n    // a #t=... at the end then removes the old one.\n    trigger: ':iframe html:not(:has(link[href$=\"web.assets_frontend.min.css\"]))',\n},\n{\n    content: \"Check the font size was properly adapted\",\n    trigger: ':iframe #wrapwrap',\n    run: checkFontSize,\n}, {\n    content: \"Open the color combinations area\",\n    trigger: '.o_we_theme_presets_collapse we-toggler',\n    run: \"click\",\n}, {\n    content: \"Open a color combination\",\n    trigger: '.o_we_cc_preview_wrapper',\n    run: \"click\",\n}, {\n    content: \"Edit the background color of that color combination\",\n    trigger: '.o_we_theme_presets_collapse we-collapse .o_we_so_color_palette:eq(0)',\n    run: \"click\",\n}, {\n    content: \"Choose a color\",\n    trigger: `.o_we_color_btn[style*=\"background-color:${TARGET_BODY_BG_COLOR}\"]`,\n    run: \"click\",\n},\n{\n    trigger: `\n        .o_we_theme_presets_collapse we-collapse .o_we_so_color_palette:eq(0) .o_we_color_preview[style*=\"${TARGET_BODY_BG_COLOR}\"],\n        .o_we_theme_presets_collapse we-collapse .o_we_so_color_palette:eq(0) .o_we_color_preview[style*=\"${TARGET_BODY_BG_COLOR_V2}\"]\n    `,\n},\n{\n    content: \"Check the body background color was properly adapted\",\n    trigger: ':iframe body',\n    run: checkBodyBgColor,\n}, {\n    content: \"Edit the text color of that color combination\",\n    trigger: '.o_we_theme_presets_collapse we-collapse .o_we_so_color_palette:eq(1)',\n    run: \"click\",\n}, {\n    content: \"Choose a color\",\n    trigger: `.o_we_color_btn[style*=\"background-color:${TARGET_BODY_COLOR}\"]`,\n    run: \"click\",\n},\n{\n    trigger: `\n        .o_we_theme_presets_collapse we-collapse .o_we_so_color_palette:eq(1) .o_we_color_preview[style*=\"${TARGET_BODY_COLOR}\"],\n        .o_we_theme_presets_collapse we-collapse .o_we_so_color_palette:eq(1) .o_we_color_preview[style*=\"${TARGET_BODY_COLOR_V2}\"]\n    `,\n},\n{\n    content: \"Check the body color was properly adapted\",\n    trigger: ':iframe body',\n    run: checkBodyColor,\n},\n...clickOnSave(),\n{\n    content: \"Check the font size is still ok outside of edit mode\",\n    trigger: ':iframe body #wrapwrap',\n    run: checkFontSize,\n}, {\n    content: \"Check the body background color is still ok outside of edit mode\",\n    trigger: ':iframe body',\n    run: checkBodyBgColor,\n}, {\n    content: \"Check the body color is still ok outside of edit mode\",\n    trigger: ':iframe body',\n    run: checkBodyColor,\n},\n...clickOnEditAndWaitEditMode(),\n...goToTheme(),\n{\n    trigger: '[data-customize-body-bg-type=\"NONE\"].active',\n},\n{\n    content: \"Click on the Background Image selection\",\n    trigger: '[data-customize-body-bg-type=\"\\'image\\'\"]:not(.active)',\n    run: \"click\",\n}, {\n    content: \"The media dialog should open\",\n    trigger: '.o_select_media_dialog',\n}]);\n", "/** @odoo-module **/\n\nimport {\n    insertSnippet,\n    goBackToBlocks,\n    goToTheme,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nconst WEBSITE_MAIN_COLOR = '#ABCDEF';\n\nregisterWebsitePreviewTour('website_text_edition', {\n    url: '/',\n    edition: true,\n}, () => [\n    ...goToTheme(),\n    {\n        content: \"Open colorpicker to change website main color\",\n        trigger: 'we-select[data-color=\"o-color-1\"] .o_we_color_preview',\n        run: \"click\",\n    },\n    {\n        content: \"Input the value for the new website main color (also make sure it is independent from the backend)\",\n        trigger: '.o_hex_input',\n        run: `edit ${WEBSITE_MAIN_COLOR} && click body`,\n    },\n    goBackToBlocks(),\n    ...insertSnippet({id: \"s_text_block\", name: \"Text\", groupName: \"Text\"}),\n    {\n        content: \"Click on the text block first paragraph (to auto select)\",\n        trigger: ':iframe .s_text_block p',\n        run: \"click\",\n    },\n    {\n        content: \"Open the foreground colorpicker\",\n        trigger: '#toolbar:not(.oe-floating) #oe-text-color',\n        run: \"click\",\n    },\n    {\n        content: \"Go to the 'solid' tab\",\n        trigger: '.o_we_colorpicker_switch_pane_btn[data-target=\"custom-colors\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Input the website main color explicitly\",\n        trigger: '.o_hex_input',\n        run: `edit ${WEBSITE_MAIN_COLOR} && click body`,\n    },\n    {\n        content: \"Check that paragraph now uses the main color *class*\",\n        trigger: ':iframe .s_text_block p',\n        run: function (actions) {\n            const fontEl = this.anchor.querySelector(\"font\");\n            if (!fontEl) {\n                console.error(\"A background color should have been applied\");\n                return;\n            }\n            if (fontEl.style.backgroundColor) {\n                console.error(\"The paragraph should not have an inline style background color\");\n                return;\n            }\n            if (!fontEl.classList.contains('text-o-color-1')) {\n                console.error(\"The paragraph should have the right background color class\");\n                return;\n            }\n        },\n    }\n]);\n", "/** @odoo-module **/\n\nimport {\n    insertSnippet,\n    goToTheme,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\nimport {FONT_SIZE_CLASSES} from '@web_editor/js/editor/odoo-editor/src/utils/utils';\n\nconst classNameInfo = new Map();\nclassNameInfo.set(\"display-1-fs\", {scssVariableName: \"display-1-font-size\", start: 80, end: 90});\nclassNameInfo.set(\"display-2-fs\", {scssVariableName: \"display-2-font-size\", start: 72, end: 80});\nclassNameInfo.set(\"display-3-fs\", {scssVariableName: \"display-3-font-size\", start: 64, end: 70});\nclassNameInfo.set(\"display-4-fs\", {scssVariableName: \"display-4-font-size\", start: 56, end: 60});\nclassNameInfo.set(\"h1-fs\", {scssVariableName: \"h1-font-size\", start: 48, end: 50});\nclassNameInfo.set(\"h2-fs\", {scssVariableName: \"h2-font-size\", start: 40, end: 42});\nclassNameInfo.set(\"h3-fs\", {scssVariableName: \"h3-font-size\", start: 32, end: 38});\nclassNameInfo.set(\"h4-fs\", {scssVariableName: \"h4-font-size\", start: 24, end: 34});\nclassNameInfo.set(\"h5-fs\", {scssVariableName: \"h5-font-size\", start: 20, end: 30});\nclassNameInfo.set(\"h6-fs\", {scssVariableName: \"h6-font-size\", start: 16, end: 26});\nclassNameInfo.set(\"base-fs\", {scssVariableName: \"font-size-base\", start: 16, end: 26});\nclassNameInfo.set(\"o_small-fs\", {scssVariableName: \"small-font-size\", start: 14, end: 24});\n\nfunction checkComputedFontSize(fontSizeClass, stage) {\n    return {\n        content: `Check that the computed font size for ${fontSizeClass} is correct`,\n        trigger: `:iframe #wrap .s_text_block .${fontSizeClass}`,\n        run: function () {\n            const computedFontSize = parseInt(getComputedStyle(this.anchor).fontSize);\n            const expectedFontSize = classNameInfo.get(fontSizeClass)[stage];\n            const gapBetweenSizes = Math.abs(computedFontSize - expectedFontSize);\n            const gapTolerance = 7; // Because the font size is responsive.\n            if (gapBetweenSizes > gapTolerance) {\n                console.error(`When applied class ${fontSizeClass}, the font size is ` +\n                    `${computedFontSize} instead of ~${expectedFontSize}`);\n            }\n        }\n    };\n}\n\nfunction getFontSizeTestSteps(fontSizeClass) {\n    return [\n        ...insertSnippet({id: \"s_text_block\", name: \"Text\", groupName: \"Text\"}),\n        {\n            content: `[${fontSizeClass}] Click on the text block first paragraph (to auto select)`,\n            trigger: \":iframe .s_text_block p\",\n            run: \"click\",\n        }, {\n            content: `Open the font size dropdown to select ${fontSizeClass}`,\n            trigger: \"#font-size button\",\n            run: \"click\",\n        }, {\n            content: `Select ${fontSizeClass} in the dropdown`,\n            trigger: `a[data-apply-class=\"${fontSizeClass}\"]:contains(${classNameInfo.get(fontSizeClass).start})`,\n            run: \"click\",\n        },\n        checkComputedFontSize(fontSizeClass, \"start\"),\n        ...goToTheme(),\n        {\n            content: `Open the collapse to see the font size of ${fontSizeClass}`,\n            trigger: `we-collapse:has(we-input[data-variable=\"` +\n            `${classNameInfo.get(fontSizeClass).scssVariableName}\"]) we-toggler`,\n            run: \"click\",\n        }, {\n            content: `Check that the setting for ${fontSizeClass} is correct`,\n            trigger: `we-input[data-variable=\"${classNameInfo.get(fontSizeClass).scssVariableName}\"]`\n                + ` input:value(\"${classNameInfo.get(fontSizeClass).start}\")`,\n        }, {\n            content: `Change the setting value of ${fontSizeClass}`,\n            trigger: `[data-variable=\"${classNameInfo.get(fontSizeClass).scssVariableName}\"] input`,\n            // TODO: Remove \"&& click body\"\n            run: `edit ${classNameInfo.get(fontSizeClass).end} && click body`,\n        }, {\n            content: `[${fontSizeClass}] Go to blocks tab`,\n            trigger: \".o_we_add_snippet_btn\",\n            run: \"click\",\n        }, {\n            content: `[${fontSizeClass}] Wait to be in blocks tab`,\n            trigger: \".o_we_add_snippet_btn.active\",\n            run: \"click\",\n        },\n        ...goToTheme(),\n        {\n            content: `Check that the setting of ${fontSizeClass} has been updated`,\n            trigger: `we-input[data-variable=\"${classNameInfo.get(fontSizeClass).scssVariableName}\"]`\n                + ` input:value(\"${classNameInfo.get(fontSizeClass).end}\")`,\n        },\n        {\n            trigger: `body:not(:has(.o_we_ui_loading))`,\n        },\n        {\n            content: `Close the collapse to hide the font size of ${fontSizeClass}`,\n            trigger: `we-collapse:has(we-input[data-variable=` +\n                `\"${classNameInfo.get(fontSizeClass).scssVariableName}\"]) we-toggler`,\n            run: \"click\",\n        },\n        checkComputedFontSize(fontSizeClass, \"end\"),\n        {\n            content: `Click again on the text with class ${fontSizeClass}`,\n            trigger: `:iframe #wrap .s_text_block .${fontSizeClass}`,\n            run: \"click\",\n        }, {\n            content: `Remove the text snippet containing the text with class ${fontSizeClass}`,\n            trigger: `.oe_snippet_remove`,\n            async run(helpers) {\n                await helpers.click();\n                // TODO: Remove the below setTimeout or understand why it should be required.\n                await new Promise((r) => setTimeout(r, 300));\n            },\n        }\n    ];\n}\n\nfunction getAllFontSizesTestSteps() {\n    const steps = [];\n    const fontSizeClassesToSkip = [\n        // This option is hidden by default because same value as base-fs.\n        \"h6-fs\",\n        // There is nothing related to these classes in the UI to test anymore.\n        \"small\",\n        \"o_small_twelve-fs\",\n        \"o_small_ten-fs\",\n        \"o_small_eight-fs\",\n    ];\n    for (const fontSizeClass of FONT_SIZE_CLASSES) {\n        if (fontSizeClassesToSkip.includes(fontSizeClass)) {\n            continue;\n        }\n        steps.push(...getFontSizeTestSteps(fontSizeClass));\n    }\n    return steps;\n}\n\nregisterWebsitePreviewTour(\"website_text_font_size\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...getAllFontSizesTestSteps(),\n    // The last step has to be a check.\n    {\n        content: \"Verify that the text block has been deleted\",\n        trigger: \":iframe #wrap:not(:has(.s_text_block))\",\n    },\n]);\n", "/** @odoo-module **/\n\nimport {\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n    toggleMobilePreview,\n} from '@website/js/tours/tour_utils';\n\nconst columnCountOptSelector = \".snippet-option-layout_column we-select[data-name='column_count_opt']\";\nconst columnsSnippetRow = \":iframe .s_three_columns .row\";\nconst textImageSnippetRow = \":iframe .s_text_image .row\";\nconst changeFirstAndSecondColumnsMobileOrder = (snippetRowSelector, snippetName) => {\n    return [{\n        content: `Click on the first column of the '${snippetName}' snippet`,\n        trigger: `${snippetRowSelector} > div:nth-child(1)`,\n        run: \"click\",\n    }, {\n        content: \"Change the orders of the 1st and 2nd columns\",\n        trigger: \":iframe .o_overlay_move_options [data-name='move_right_opt']\",\n        run: \"click\",\n    }];\n};\n\nconst addMobileOrderToTextImageSnippet = [\n    ...changeFirstAndSecondColumnsMobileOrder(textImageSnippetRow, \"Text-Image\"),\n    {\n        content: \"Check that the mobile order classes and styles are correct\",\n        trigger: `${textImageSnippetRow}:has(.order-lg-0[style*='order: 1;']:nth-child(1))`\n            + \":has(.order-lg-0[style*='order: 0;']:nth-child(2))\",\n    },\n];\n\nconst checkIfNoMobileOrder = (snippetRowSelector) => {\n    return {\n        content: \"Check that the mobile order classes and styles were removed\",\n        trigger: `${snippetRowSelector}:not(:has(.order-lg-0[style*='order: ']))`,\n    };\n};\n\nregisterWebsitePreviewTour(\"website_update_column_count\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n...insertSnippet({\n    id: \"s_three_columns\",\n    name: \"Columns\",\n    groupName: \"Columns\",\n}),\n...clickOnSnippet({\n    id: \"s_three_columns\",\n    name: \"Columns\",\n}), {\n    content: \"Open the columns count select\",\n    trigger: columnCountOptSelector,\n    run: \"click\",\n}, {\n    content: \"Set 5 columns on desktop\",\n    trigger: `${columnCountOptSelector} we-button[data-select-count='5']`,\n    run: \"click\",\n}, {\n    content: \"Check that there are now 5 items on 5 columns, and that it didn't change the mobile layout\",\n    trigger: `${columnsSnippetRow}:has(.col-lg-2:nth-child(5):not(.col-2)):not(:has(:nth-child(6)))`,\n}, {\n    content: \"Check that there is an offset on the 1st item to center the row on desktop, but not on mobile\",\n    trigger: `${columnsSnippetRow} > .offset-lg-1:not(.offset-1):first-child`,\n}, {\n    content: \"Open the columns count select\",\n    trigger: columnCountOptSelector,\n    run: \"click\",\n}, {\n    content: \"Set 2 columns on desktop\",\n    trigger: `${columnCountOptSelector} we-button[data-select-count='2']`,\n    run: \"click\",\n}, {\n    content: \"Check that there are still 5 items in the row and click on the last one\",\n    trigger: `${columnsSnippetRow} > :nth-child(5)`,\n    run: \"click\",\n}, {\n    content: \"Delete the item\",\n    trigger: \"we-title:contains('Card') .oe_snippet_remove\",\n    run: \"click\",\n}, {\n    content: \"Toggle mobile view\",\n    trigger: \".o_we_website_top_actions [data-action='mobile']\",\n    run: \"click\",\n}, {\n    content: \"Check that there is 1 column on mobile and click on the selector\",\n    trigger: `${columnCountOptSelector} we-toggler:contains('1')`,\n    run: \"click\",\n}, {\n    content: \"Set 3 columns on mobile\",\n    trigger: `${columnCountOptSelector} we-button[data-select-count='3']`,\n    run: \"click\",\n}, {\n    content: \"Check that there are still 4 items but on rows of 3 columns\",\n    trigger: `${columnsSnippetRow}:has(.col-lg-6.col-4:nth-child(4))`,\n},\n// As there is no practical way to resize the items through the handles, the\n// next step approximates part of what could be reached.\n{\n    content: \"Add a fake resized class on mobile to the 2nd item\",\n    trigger: `${columnsSnippetRow} > :nth-child(2)`,\n    run() {\n        this.anchor.classList.replace(\"col-4\", \"col-6\");\n        // As this is a hardcoded class replacement, a click is needed to\n        // update the column count.\n        this.anchor.previousElementSibling.click();\n    },\n}, {\n    content: \"Check that the counter shows 'Custom'\",\n    trigger: `${columnCountOptSelector} we-toggler:contains('Custom')`,\n}, {\n    content: \"Click on the 2nd item\",\n    trigger: `${columnsSnippetRow} > :nth-child(2)`,\n    run: \"click\",\n}, {\n    content: \"Change the orders of the 2nd and 3rd items\",\n    trigger: \":iframe .o_overlay_move_options [data-name='move_right_opt']\",\n    run: \"click\",\n},\n{\n    trigger: `${columnsSnippetRow}:has([style*='order: 2;'].order-lg-0:nth-child(2) + [style*='order: 1;'].order-lg-0:nth-child(3))`,\n},\n{\n    content: \"Check that the 1st item now has order: 0 and a class .order-lg-0 \" +\n             \"and that order: 1, .order-lg-0 is set on the 3rd item, and order: 2, .order-lg-0 on the 2nd\",\n    trigger: `${columnsSnippetRow}:has([style*='order: 0;'].order-lg-0:first-child)`,\n}, {\n    content: \"Toggle desktop view\",\n    trigger: \".o_we_website_top_actions [data-action='mobile']\",\n    run: \"click\",\n}, {\n    content: \"Open the columns count select\",\n    trigger: columnCountOptSelector,\n    run: \"click\",\n}, {\n    content: \"Add 2 more items through the columns counter\",\n    trigger: `${columnCountOptSelector} we-button[data-select-count='6']`,\n    run: \"click\",\n}, {\n    content: \"Check that each item has a different mobile order from 0 to 5\",\n    trigger: `${columnsSnippetRow}${[0, 1, 2, 3, 4, 5].map(n => `:has([style*='order: ${n};'].order-lg-0)`).join(\"\")}`,\n}, {\n    content: \"Click on the 6th item\",\n    trigger: `${columnsSnippetRow} > :nth-child(6)`,\n    run: \"click\",\n}, {\n    // TODO: remove this step. It should not be needed, but the build fails\n    // without it.\n    content: \"Wait for move arrows to appear\",\n    trigger: \":iframe .o_overlay_move_options:has([data-name='move_left_opt'] + .d-none[data-name='move_right_opt'])\",\n}, {\n    content: \"Change the orders of the 5th and 6th items to override the mobile orders\",\n    trigger: \":iframe .o_overlay_move_options [data-name='move_left_opt']\",\n    run: \"click\",\n}, {\n    content: \"Check that there are no orders anymore\",\n    trigger: `${columnsSnippetRow}:not(:has([style*='order: 0;'])):not(:has(.order-lg-0))`,\n},\n]);\n\nregisterWebsitePreviewTour(\"website_mobile_order_with_drag_and_drop\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({id: \"s_three_columns\", name: \"Columns\", groupName: \"Columns\"}),\n    ...insertSnippet({id: \"s_text_image\", name: \"Text - Image\", groupName: \"Content\"}),\n    ...toggleMobilePreview(true),\n    // Add a mobile order to the \"Columns\" snippet columns.\n    ...changeFirstAndSecondColumnsMobileOrder(columnsSnippetRow, \"Columns\"),\n    {\n        content: \"Check that the mobile order classes and styles are correct\",\n        trigger: `${columnsSnippetRow}:has(.order-lg-0[style*='order: 1;']:nth-child(1))`\n            + \":has(.order-lg-0[style*='order: 0;']:nth-child(2))\"\n            + \":has(.order-lg-0[style*='order: 2;']:nth-child(3))\",\n    },\n    // Add a mobile order to the \"Text-Image\" snippet columns.\n    ...addMobileOrderToTextImageSnippet,\n    // Test the drag and drop in the same snippet.\n    ...toggleMobilePreview(false),\n    {\n        content: \"Drag a 'Text-Image' column and drop it in the same snippet\",\n        trigger: \":iframe .o_overlay_move_options .o_move_handle\",\n        run: `drag_and_drop ${textImageSnippetRow}`,\n    },\n    checkIfNoMobileOrder(textImageSnippetRow),\n    // Add again a mobile order to the \"Text-Image\" snippet columns.\n    ...toggleMobilePreview(true),\n    ...addMobileOrderToTextImageSnippet,\n    // Test the drag and drop from \"Columns\" to \"Text-Image\".\n    ...toggleMobilePreview(false),\n    {\n        content: \"Click on the second column of the 'Columns' snippet\",\n        trigger: `${columnsSnippetRow} > div:nth-child(2)`,\n        run: \"click\",\n    }, {\n        content: \"Drag the second column of 'Columns' and drop it in 'Text-Image'\",\n        trigger: \":iframe .o_overlay_move_options .o_move_handle\",\n        run: `drag_and_drop ${textImageSnippetRow}`,\n    },\n    checkIfNoMobileOrder(textImageSnippetRow),\n    {\n        content: \"Check that the order gap left in 'Columns' was filled\",\n        trigger: `${columnsSnippetRow}:has(.order-lg-0[style*='order: 0;']:nth-child(1))`\n            + \":has(.order-lg-0[style*='order: 1;']:nth-child(2))\",\n    },\n]);\n", "/** @odoo-module **/\n\nimport {\n    clickOnEditAndWaitEditMode,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\n// Note: cannot import @website/../tests/tour_utils/widget_lifecycle_dep_widget\n// here because that module requires web.public.widget which is not available\n// in the backend, where this tour definition is loaded. Easier to duplicate\n// that key for now rather than create a whole file to handle this localStorage\n// key only.\nconst localStorageKey = 'widgetAndWysiwygLifecycle';\n\nregisterWebsitePreviewTour(\"widget_lifecycle\", {\n    url: \"/\",\n    edition: true,\n}, () => [\n    ...insertSnippet({\n        id: \"s_countdown\",\n        name: \"Countdown\",\n        groupName: \"Content\",\n    }),\n    {\n        content: \"Wait for the widget to be started and empty the widgetAndWysiwygLifecycle list\",\n        trigger: \":iframe .s_countdown.public_widget_started\",\n        run: () => {\n            // Start recording the calls to the \"start\" and \"destroy\" method of\n            // the widget and the wysiwyg.\n            window.localStorage.setItem(localStorageKey, '[]');\n        },\n    },\n    {\n        trigger: \"button[data-action=save]:enabled:contains(save)\",\n        run: \"click\",\n    },\n    {\n        content: \"Wait for the widget to be started\",\n        trigger: \":iframe .s_countdown.public_widget_started\",\n    },\n    ...clickOnEditAndWaitEditMode(),\n    {\n        content: \"Wait for the widget to be started and check the order of the lifecycle method call of the widget and the wysiwyg\",\n        trigger: \":iframe .s_countdown.public_widget_started\",\n        run() {\n            const result = JSON.parse(window.localStorage.widgetAndWysiwygLifecycle);\n            const expected = [\"widgetStop\", \"wysiwygStop\", \"widgetStart\",\n                \"widgetStop\", \"wysiwygStart\", \"wysiwygStarted\", \"widgetStart\",\n            ];\n            const alternative = [\"widgetStop\", \"widgetStart\", \"wysiwygStop\",\n                \"widgetStop\", \"wysiwygStart\", \"wysiwygStarted\", \"widgetStart\",\n            ];\n            const resultIsEqualTo = (arr) => {\n                return arr.length === result.length\n                    && arr.every((item, i) => item === result[i]);\n            };\n            if (!(resultIsEqualTo(expected) || resultIsEqualTo(alternative))) {\n                // The \"destroy\" method of the wysiwyg is called two times when\n                // leaving the edit mode: the first one comes explicitly from\n                // the \"leaveEditMode\" of the \"wysiwyg_adapter\". The second\n                // comes from the OWL mechanism as the wysiwyg is not present in\n                // the DOM when the page is reloaded. Because it is not\n                // guaranteed that this last call happens before the start of\n                // the widget at the page reload, two sequences are acceptable\n                // as a result.\n                console.error(`\n                    Expected: ${expected.toString()}\n                    Or:       ${alternative.toString()}\n                    Result:   ${result.toString()}\n                `);\n            }\n        },\n    },\n]);\n", "/** @odoo-module */\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"web_enterprise.test_studio_list_upsell\", {\n    steps: () => [\n        {\n            trigger: \".o_list_view\",\n        },\n        {\n            trigger: \".o_optional_columns_dropdown > button\",\n            run: \"click\",\n        },\n        {\n            trigger: \" .o-dropdown--menu .dropdown-item-studio\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\n/**\n * This tour depends on data created by python test in charge of launching it.\n * It is not intended to work when launched from interface. It is needed to test\n * an action (action manager) which is not possible to test with QUnit.\n * @see mail_enterprise/tests/test_discuss_channel_expand.py\n */\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"mail_enterprise/static/tests/tours/discuss_channel_expand_test_tour.js\", {\n        steps: () => [\n            {\n                content:\n                    \"Click on 'Open Actions Menu' in the chat window header to show expand button\",\n                trigger:\n                    '.o-mail-ChatWindow:contains(\"test-mail-channel-expand-tour\") [title=\"Open Actions Menu\"]',\n                run: \"click\",\n            },\n            {\n                content: \"Click on expand button to open channel in Discuss\",\n                trigger: '.o-dropdown-item:contains(\"Open in Discuss\")',\n                run: \"click\",\n            },\n            {\n                content:\n                    \"Check that first message of #test-mail-channel-expand-tour is shown in Discuss app\",\n                trigger:\n                    '.o-mail-Discuss-content .o-mail-Message-body:contains(\"test-message-mail-channel-expand-tour\")',\n            },\n        ],\n    });\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { accountTourSteps } from \"@account/js/tours/account\";\n\nregistry.category(\"web_tour.tours\").add(\"account_accountant_bank_rec_widget_rainbowman_reset\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        ...accountTourSteps.goToAccountMenu(\"Open the accounting module\"),\n\n        // Open the widget. The first line should be selected by default.\n        {\n            trigger: \".o_breadcrumb\",\n        },\n        {\n            content: \"Open the bank reconciliation widget\",\n            trigger: \"button.btn-secondary[name='action_open_reconcile']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line1')\",\n        },\n        {\n            content: \"'line1' should be selected and form mounted\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line1')\",\n        },\n        // Rainbowman gets reset\n        {\n            content: \"Mount invoice 2 for line 1\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table td[name='move_id']:contains('INV/2019/00002')\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00002')\",\n        },\n        {\n            content: \"Validate line1\",\n            trigger: \"button:contains('Validate')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n        },\n        {\n            content: \"No records brings rainbows\",\n            trigger: \"div.o_kanban_view .o_searchview_input\",\n            run: \"fill thisShouldNotReturnAnyRecords\",\n        },\n        {\n            content: \"Select the Journal Entry search option from the dropdown\",\n            trigger: \".o_searchview_autocomplete li:contains(Journal Entry)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_reward_rainbow_man:contains('You reconciled 1 transaction in')\",\n        },\n        {\n            content: \"Remove the filter while rainbow man is on screen\",\n            trigger: \".o_kanban_view .o_searchview_facet:nth-child(3) .o_facet_remove\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_st_line:contains('line2')\",\n        },\n        {\n            content: \"Search for no results again\",\n            trigger: \"div.o_kanban_view .o_searchview_input\",\n            run: \"fill thisShouldNotReturnAnyRecords\",\n        },\n        {\n            content: \"Select the Journal Entry search option from the dropdown\",\n            trigger: \".o_searchview_autocomplete li:contains(Journal Entry)\",\n            run: \"click\",\n        },\n        {\n            content: \"No content helper is displayed instead of rainbowman\",\n            trigger: \".o_view_nocontent_smiling_face\",\n        },\n        // End\n        ...stepUtils.toggleHomeMenu(),\n        ...accountTourSteps.goToAccountMenu(\"Reset back to accounting module\"),\n        {\n            content: \"check that we're back on the dashboard\",\n            trigger: 'a:contains(\"Customer Invoices\")',\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { accountTourSteps } from \"@account/js/tours/account\";\n\n\nregistry.category(\"web_tour.tours\").add('account_accountant_bank_rec_widget_save_analytic_distribution', {\n    url: '/odoo',\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        ...accountTourSteps.goToAccountMenu(\"Open the accounting module\"),\n        {\n            trigger: \".o_breadcrumb\",\n        },\n        {\n            content: \"Open the bank reconciliation widget\",\n            trigger: \"button.btn-secondary[name='action_open_reconcile']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids']\",\n        },\n        {\n            content: \"The 'line1' should be selected by default\",\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line1')\",\n            run: function() {},\n        },\n        {\n            content: \"Click on first line\",\n            trigger: \"div[name='line_ids'] td[field='debit']:first\",\n            run: \"click\",\n        },\n        {\n            content: \"The 'manual_operations_tab' should be active now and the auto_balance line mounted in edit\",\n            trigger: \"a.active[name='manual_operations_tab']\",\n            run: function() {},\n        },\n        {\n            content: \"Enter an analytic distribution\",\n            trigger: \"div[name='analytic_distribution'] .o_input_dropdown\",\n            run: \"click\",\n        },\n        {\n            content: \"Select analytic distribution\",\n            trigger: \"tr[name='line_0'] input\",\n            run: \"edit analytic_account\",\n        },\n        {\n            trigger: \".ui-autocomplete\",\n        },\n        {\n            content: \"Select analytic distribution\",\n            trigger: \".ui-autocomplete:visible li:contains('analytic_account')\",\n            run: \"click\",\n        },\n        {\n            content: \"Close the analytic distribution\",\n            trigger: \".o_button\",\n            run: \"click\",\n        },\n        ...stepUtils.toggleHomeMenu(),\n        ...accountTourSteps.goToAccountMenu(\"Reset back to accounting module\"),\n        {\n            content: \"check that we're back on the dashboard\",\n            trigger: 'a:contains(\"Customer Invoices\")',\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { accountTourSteps } from \"@account/js/tours/account\";\n\nregistry.category(\"web_tour.tours\").add('account_accountant_bank_rec_widget_statements',\n    {\n        url: '/odoo',\n        steps: () => [\n        stepUtils.showAppsMenuItem(),\n        ...accountTourSteps.goToAccountMenu(\"Open the accounting module\"),\n        {\n            trigger: \".o_breadcrumb\",\n        },\n        {\n            content: \"Open the bank reconciliation widget\",\n            trigger: \"button.btn-secondary[name='action_open_reconcile']\",\n            run: \"click\",\n        },\n        {\n            content: \"Statement button\",\n            trigger:\n                \".o_bank_rec_st_line:eq(2) a.oe_kanban_action:contains('Statement'):not(:visible)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-dialog:contains('Create Statement')\",\n        },\n        {\n            content: \"Save the statement with proposed values\",\n            trigger: \".o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            content: \"Click the Valid Statement with $ 1,000.00 that is visible in Kanban\",\n            trigger: \"span[name='kanban-subline-clickable-amount']:contains('$ 1,000.00')\",\n            run: \"click\",\n        },\n        {\n            content: \"Modify the end balance\",\n            trigger: \"input[id='balance_end_real_0']\",\n            run: \"edit 100 && click body\",\n        },\n        {\n            trigger: \".alert-warning:contains('The running balance')\",\n        },\n        {\n            content: \"Dialog displays warning, save anyway\",\n            trigger: \".breadcrumb-item.o_back_button:nth-of-type(2)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".btn-link:contains('$ 2,100.00')\",\n        },\n        {\n            content: \"Click the red statement, after checking the balance\",\n            trigger: \"span[name='kanban-subline-clickable-amount']:contains('$ 100.00')\",\n            run: \"click\",\n        },\n        {\n            content: \"Back in the form view\",\n            trigger: \".alert-warning:contains('The running balance')\",\n        },\n        {\n            content: \"Click on Action\",\n            trigger: \".o_cp_action_menus button\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on Delete\",\n            trigger: \".o-dropdown--menu span:contains('Delete')\",\n            run: \"click\",\n        },\n        {\n            content: \"Confirm Deletion\",\n            trigger: \".btn-primary:contains('Delete')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_renderer:not(:has(.kanban-statement))\",\n        },\n        {\n            content: \"balance displays $3000.00 and no statement\",\n            trigger: \".btn-link:contains('$ 3,000')\",\n        },\n        // End\n        ...stepUtils.toggleHomeMenu(),\n        ...accountTourSteps.goToAccountMenu(\"Reset back to accounting module\"),\n        {\n            content: \"check that we're back on the dashboard\",\n            trigger: 'a:contains(\"Customer Invoices\")',\n        }\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { patch } from \"@web/core/utils/patch\";\nimport { accountTourSteps } from \"@account/js/tours/account\";\n\npatch(accountTourSteps, {\n    bankRecUiReportSteps() {\n        return [\n            {\n                trigger: \".o_bank_rec_selected_st_line:contains('line1')\",\n            },\n            {\n                content: \"balance is 2100\",\n                trigger: \".btn-link:contains('$ 2,100.00')\",\n            },\n        ];\n    },\n});\n\nregistry.category(\"web_tour.tours\").add(\"account_accountant_bank_rec_widget_ui\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        ...accountTourSteps.goToAccountMenu(\"Open the accounting module\"),\n\n        // Open the widget. The first line should be selected by default.\n        {\n            trigger: \".o_breadcrumb\",\n        },\n        {\n            content: \"Open the bank reconciliation widget\",\n            trigger: \"button.btn-secondary[name='action_open_reconcile']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line1')\",\n        },\n        {\n            content: \"'line1' should be selected and form mounted\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line1')\",\n        },\n        // Select line2. It should remain selected when returning using the breadcrumbs.\n        {\n            trigger: \".o_bank_rec_st_line:contains('line3')\",\n        },\n        {\n            content: \"select 'line2'\",\n            trigger: \".o_bank_rec_st_line:contains('line2')\",\n            run: \"click\",\n        },\n        {\n            content: \"'line2' should be selected\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n        },\n        {\n            content: \"View an invoice\",\n            trigger: \"button.btn-secondary[name='action_open_business_doc']:eq(1)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_breadcrumb .active:contains('INV/2019/00001')\",\n        },\n        {\n            content: \"Breadcrumb back to Bank Reconciliation from INV/2019/00001\",\n            trigger: \".breadcrumb-item:contains('Bank Reconciliation')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_st_line:contains('line1')\",\n        },\n        {\n            content: \"'line2' should be selected after returning\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n        },\n        {\n            content: \"'line2' form mounted\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n            run: \"click\",\n        },\n        // Keep AML search, and prepared entry (line_ids) when changing tabs, using breadcrumbs, and view switcher\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr:nth-child(2) td[name='move_id']:contains('INV/2019/00001')\",\n        },\n        {\n            content: \"AMLs list has both invoices\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr:nth-child(1) td[name='move_id']:contains('INV/2019/00002')\",\n        },\n        {\n            trigger: \"a.active[name='amls_tab']\",\n        },\n        {\n            content: \"Search for INV/2019/00001\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor .o_searchview_input\",\n            run: \"edit INV/2019/00001\",\n        },\n        {\n            content: \"Select the Journal Entry search option from the dropdown\",\n            trigger: \".o_searchview_autocomplete li:contains(Journal Entry)\",\n            run: \"click\",\n        },\n        {\n            content: \"AMLs list only displays one invoice\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr:nth-child(1) td[name='move_id']:contains('INV/2019/00001')\",\n        },\n        {\n            content: \"Liquidity line displays debit '$ 1,000.00'\",\n            trigger:\n                \"div[name='line_ids'] table.o_list_table tr.o_bank_rec_liquidity_line td[field='debit']:contains('$ 1,000.00')\",\n        },\n        {\n            content: \"Select the liquidity line\",\n            trigger: \"tr.o_bank_rec_liquidity_line td[field='debit']\",\n            run: \"click\",\n        },\n        {\n            content: \"Modify the liquidity line amount\",\n            trigger: \"div[name='amount_currency'] input\",\n            run: \"edit 100.00 && click body\",\n        },\n        {\n            content: \"Liquidity line displays debit '$ 100.00'\",\n            trigger:\n                \"div[name='line_ids'] table.o_list_table tr.o_bank_rec_liquidity_line td[field='debit']:contains('$ 100.00')\",\n        },\n        {\n            trigger: \"div[name='partner_id'] input\",\n        },\n        {\n            content: \"Select 'amls_tab'\",\n            trigger: \"a[name='amls_tab']\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor .o_searchview_facet:nth-child(1) .o_facet_value:contains('INV/2019/00001')\",\n        },\n        {\n            content: \"AMLs list contains the search facet, and one invoice - select it\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr:nth-child(1) td[name='move_id']:contains('INV/2019/00001')\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n        },\n        {\n            content: \"Check INV/2019/00001 is well marked as selected\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n        },\n        {\n            content: \"View an invoice\",\n            trigger: \"button.btn-secondary[name='action_open_business_doc']:nth-child(1)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_breadcrumb .active:contains('INV/2019/00001')\",\n        },\n        {\n            content: \"Breadcrumb back to Bank Reconciliation from INV/2019/00001\",\n            trigger: \".breadcrumb-item:contains('Bank Reconciliation')\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor .o_searchview_facet:nth-child(1) .o_facet_value:contains('INV/2019/00001')\",\n        },\n        {\n            content: \"Check INV/2019/00001 is selected and still contains the search facet\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n        },\n        // Search should remove some lines, select the first unmatched record, and persist when returning with breadcrumbs\n        {\n            trigger: \"a.active[name='amls_tab']\",\n        },\n        {\n            content: \"Search for line2\",\n            trigger: \"div.o_kanban_view .o_searchview_input\",\n            run: \"fill line2\",\n        },\n        {\n            content: \"Select the Transaction search option from the dropdown\",\n            trigger: \".o_searchview_autocomplete li:contains(Transaction)\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n        },\n        {\n            content: \"'line2' should be selected\",\n            trigger: \".o_bank_rec_st_line:last():contains('line2')\",\n        },\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor .o_searchview_facet:nth-child(1) .o_facet_value:contains('INV/2019/00001')\",\n        },\n        {\n            content:\n                \"Nothing has changed: INV/2019/00001 is selected and still contains the search facet\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n        },\n        {\n            trigger: \".o_switch_view.o_kanban.active\",\n        },\n        {\n            content: \"Switch to list view\",\n            trigger: \".o_switch_view.o_list\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_switch_view.o_list.active\",\n        },\n        {\n            content: \"Switch back to kanban\",\n            trigger: \".o_switch_view.o_kanban\",\n            run: \"click\",\n        },\n        {\n            content: \"Remove the kanban filter for line2\",\n            trigger: \".o_kanban_view .o_searchview_facet:nth-child(3) .o_facet_remove\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor .o_searchview_facet:nth-child(1) .o_facet_value:contains('INV/2019/00001')\",\n        },\n        {\n            content:\n                \"Nothing has changed: INV/2019/00001 is still selected and contains the search facet\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n        },\n        // AML Search Facet is removed, and line_ids reset when changing line\n        {\n            trigger: \".o_bank_rec_st_line:contains('line3')\",\n        },\n        {\n            content: \"selecting 'line1' should reset the AML search filter \",\n            trigger: \".o_bank_rec_st_line:contains('line1')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line1')\",\n        },\n        {\n            content: \"select 'line2' again\",\n            trigger: \".o_bank_rec_st_line:contains('line2')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n        },\n        {\n            content: \"Bank Suspense Account is back\",\n            trigger: \"div[name='line_ids'] .o_bank_rec_auto_balance_line\",\n        },\n        {\n            content: \"AML Search Filter has been reset\",\n            trigger: \".o_list_view .o_searchview_input_container:not(:has(.o_searchview_facet))\",\n        },\n        // Test statement line selection when using the pager\n        {\n            content: \"Click Pager\",\n            trigger: \".o_pager_value:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Change pager to display lines 1-2\",\n            trigger: \"input.o_pager_value\",\n            run: \"edit 1-2 && click body\",\n        },\n        {\n            trigger: \".o_pager_value:contains('1-2')\",\n        },\n        {\n            content: \"Last St Line is line2\",\n            trigger: \".o_bank_rec_st_line:last():contains('line2')\",\n        },\n        {\n            content: \"Page Next\",\n            trigger: \".o_pager_next:first():not(:disabled)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_pager_value:contains('3-3')\",\n        },\n        {\n            content: \"Statement line3 is selected\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line3')\",\n        },\n        {\n            content: \"Page to beginning\",\n            trigger: \".o_pager_next:first()\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line1')\",\n        },\n        {\n            content: \"Statement line1 is selected\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line1')\",\n        },\n        // HTML buttons\n        {\n            content: \"Mount an invoice\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table td[name='move_id']:contains('INV/2019/00003')\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"div[name='line_ids']:has(.text-decoration-line-through:contains('$ 2,000.00'))\",\n        },\n        {\n            content: \"Select the mounted invoice line and check the strikethrough value\",\n            trigger:\n                \"div[name='line_ids'] tr.o_data_row:last() td[field='name']:contains('INV/2019/00003')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"a.active[name='manual_operations_tab']\",\n        },\n        {\n            content: \"Fully Paid button\",\n            trigger: \"button[name='action_apply_line_suggestion']:contains('fully paid')\",\n            run: \"click\",\n        },\n        {\n            content: \"Check the remainder\",\n            trigger:\n                \"div[name='line_ids'] tr.o_data_row:contains('Suspense') td[field='debit']:contains('$ 1,000.00')\",\n        },\n        {\n            content: \"Partial Payment\",\n            trigger: \"button[name='action_apply_line_suggestion']:contains('partial payment')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button[name='action_apply_line_suggestion']:contains('fully paid')\",\n        },\n        {\n            content: \"View Invoice 0003\",\n            trigger: \"button[name='action_redirect_to_move']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_breadcrumb .active:contains('INV/2019/00003')\",\n        },\n        {\n            content: \"Breadcrumb back to Bank Reconciliation from INV/2019/00003\",\n            trigger: \".breadcrumb-item:contains('Bank Reconciliation')\",\n            run: \"click\",\n        },\n        {\n            content: \"Select the mounted invoice line INV/2019/00003\",\n            trigger:\n                \"div[name='line_ids'] tr.o_data_row:last() td[field='name']:contains('INV/2019/00003')\",\n            run: \"click\",\n        },\n        // Match Existing entries tab is activated when line is removed\n        {\n            trigger: \"a.active[name='manual_operations_tab']\",\n        },\n        {\n            content: \"Remove the invoice\",\n            trigger: \".o_list_record_remove .fa-trash-o\",\n            run: \"click\",\n        },\n        {\n            content: \"amls_tab is activated\",\n            trigger: \"a.active[name='amls_tab']\",\n        },\n        {\n            content: \"Activate Manual Operations to add manual entries\",\n            trigger: \"a[name='manual_operations_tab']\",\n            run: \"click\",\n        },\n        {\n            content: \"add manual entry 1\",\n            trigger: \"div[name='amount_currency'] input\",\n            run: \"edit -600.0 && click body\",\n        },\n        {\n            content: \"mount the remaining opening balance line\",\n            trigger:\n                \"div[name='line_ids'] tr.o_data_row:contains('Suspense') td[field='credit']:contains('$ 400.00')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='amount_currency'] input:value('-400.00'):focus-within\",\n        },\n        {\n            content: \"Remove the manual entry\",\n            trigger: \".o_list_record_remove .fa-trash-o\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"div[name='line_ids'] tr.o_data_row:contains('Suspense') td[field='credit']:contains('$ 1,000.00')\",\n        },\n        {\n            content: \"amls_tab is activated and auto balancing line is 1000\",\n            trigger: \"a.active[name='amls_tab']\",\n        },\n        {\n            content: \"Mount another invoice\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table td[name='move_id']:contains('INV/2019/00001')\",\n            run: \"click\",\n        },\n        // After validating, line1 should disappear & line2 should be selected (due to filters)\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n        },\n        {\n            content: \"Validate line1\",\n            trigger: \"button:contains('Validate')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n        },\n        {\n            content: \"The 'line2' is the first kanban record and is selected\",\n            trigger: \".o_bank_rec_st_line:first():contains('line2')\",\n        },\n        // Test Reset, \"Matched\" badge and double-click\n        {\n            content: \"Remove the kanban filter for 'Not Matched'\",\n            trigger: \".o_kanban_view .o_searchview_facet:nth-child(2) .o_facet_remove\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n        },\n        {\n            content: \"The 'line1' is the first kanban record with line2 selected\",\n            trigger: \".o_bank_rec_st_line:first():contains('line1')\",\n        },\n        {\n            content: \"Mount invoice 2 for line 2\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table td[name='move_id']:contains('INV/2019/00002')\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00002')\",\n        },\n        {\n            content: \"Validate line2 with double click\",\n            trigger: \"button:contains('Validate')\",\n            run: \"dblclick\",\n        },\n        {\n            trigger: \".o_bank_rec_st_line:contains('line2') .badge.text-bg-success\",\n        },\n        {\n            content: \"Click Pager again after line2 is matched\",\n            trigger: \".o_pager_value:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Change pager to display lines 1-3\",\n            trigger: \"input.o_pager_value\",\n            run: \"edit 1-3 && click body\",\n        },\n        {\n            trigger: \".o_bank_rec_selected_st_line:contains('line3')\",\n        },\n        {\n            content: \"manually select line2 again by clicking it's matched icon\",\n            trigger: \".badge.text-bg-success:last()\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"div[name='line_ids']:not(:has(.fa-trash-o)) td[field='name']:contains('line2')\",\n        },\n        {\n            content: \"Reset line2\",\n            trigger: \"button:contains('Reset')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_selected_st_line:contains('line2'):not(:has(div.badge))\",\n        },\n        {\n            content: \"amls_tab is activated while still on line2 which doesn't contain a badge\",\n            trigger: \".o_notebook a.active[name='amls_tab']\",\n        },\n        // Test view_switcher\n        {\n            trigger: \".o_switch_view.o_kanban.active\",\n        },\n        {\n            content: \"Switch to list view\",\n            trigger: \".o_switch_view.o_list\",\n            run: \"click\",\n        },\n        {\n            trigger: \".btn-secondary:contains('View')\",\n        },\n        {\n            content: \"Select the first Match Button (line2)\",\n            trigger: \".btn-secondary:contains('Match')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_st_line:last():contains('line2')\",\n        },\n        {\n            content: \"Last St Line is line2\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n            run: \"click\",\n        },\n        {\n            content: \"Button To Check will reconcile since partner is saved on line2\",\n            trigger: \".btn-secondary:contains('To Check')\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_bank_rec_selected_st_line:contains('line2'):has(div.badge[title='Matched'] i):has(span.badge:contains('To check'))\",\n        },\n        {\n            content: \"both badges are visible, trash icon is not, manual operation tab is active\",\n            trigger:\n                \"div[name='line_ids']:not(:has(.fa-trash-o))+.o_notebook a.active[name='manual_operations_tab']\",\n        },\n        {\n            trigger: \".o_switch_view.o_kanban.active\",\n        },\n        {\n            content: \"Switch to list view\",\n            trigger: \".o_switch_view.o_list\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_switch_view.o_list.active\",\n        },\n        {\n            content: \"Remove the line filter\",\n            trigger: \".o_searchview_facet:contains('0002') .o_facet_remove\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_data_row:contains('line2'):has(.btn-secondary:contains('View'))\",\n        },\n        {\n            content: \"Select the first Match Button (line3)\",\n            trigger: \".btn-secondary:contains('Match')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_stats_buttons\",\n        },\n        {\n            content: \"Open search bar menu\",\n            trigger: \".o_searchview_dropdown_toggler:eq(0)\",\n            run: \"click\",\n        },\n        // Test Reco Model\n        {\n            trigger: \".o-dropdown--menu.o_search_bar_menu\",\n        },\n        {\n            content: \"Choose a filter\",\n            trigger: \".o_search_bar_menu .dropdown-item:first()\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-dropdown--menu\",\n        },\n        {\n            content: \"Not Matched Filter\",\n            trigger: \".dropdown-item:contains('Not Matched')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_switch_view.o_kanban.active\",\n        },\n        {\n            content: \"reco model dropdown\",\n            trigger: \".bank_rec_reco_model_dropdown i\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-dropdown--menu\",\n        },\n        {\n            content: \"create model\",\n            trigger: \".dropdown-item:contains('Create model')\",\n            run: \"click\",\n        },\n        {\n            content: \"model name\",\n            trigger: \"input#name_0\",\n            run: \"edit Bank Fees\",\n        },\n        {\n            content: \"add an account\",\n            trigger: \"a:contains('Add a line')\",\n            run: \"click\",\n        },\n        {\n            content: \"search for bank fees account\",\n            trigger: \"[name='account_id'] input\",\n            run: \"edit Bank Fees\",\n        },\n        {\n            trigger: \".o-autocomplete--dropdown-menu\",\n        },\n        {\n            content: \"select the bank fees account\",\n            trigger: \".o-autocomplete--dropdown-item:contains('Bank Fees')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_breadcrumb .active > span:contains('New')\",\n        },\n        {\n            content: \"Breadcrumb back to Bank Reconciliation from the model\",\n            trigger: \".breadcrumb-item:contains('Bank Reconciliation')\",\n            run: \"click\",\n        },\n        {\n            content: \"Choose Bank Fees Model\",\n            trigger: \".recon_model_button:contains('Bank Fees')\",\n            run: \"click\",\n        },\n        {\n            content: \"Validate line3\",\n            trigger: \"button:contains('Validate').btn-primary\",\n            run: \"dblclick\",\n        },\n        {\n            trigger: \".o_reward_rainbow_man\",\n        },\n        {\n            content:\n                \"Remove the kanbans 'not matched' filter to reset all lines - use the rainbow man button\",\n            trigger: \"p.btn-primary:contains('All Transactions')\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_kanban_view .o_searchview:first() .o_searchview_facet:last():contains('Bank')\",\n        },\n        {\n            content: \"Wait for search model change and line3 to appear\",\n            trigger: \".o_bank_rec_st_line:last():contains('line3')\",\n        },\n        {\n            trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n        },\n        {\n            content: \"'line2' should be selected, reset it\",\n            trigger: \"button:contains('Reset')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_st_line:contains('line2'):not(:has(div.badge))\",\n        },\n        {\n            content: \"select matched 'line3'\",\n            trigger: \".o_bank_rec_st_line:contains('line3')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_selected_st_line:contains('line3')\",\n        },\n        {\n            content: \"'line3' should be selected, reset it\",\n            trigger: \"button:contains('Reset')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_st_line:contains('line3'):not(:has(div.badge))\",\n        },\n        {\n            content: \"select matched 'line1'\",\n            trigger: \".o_bank_rec_st_line:contains('line1')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_selected_st_line:contains('line1')\",\n        },\n        {\n            content: \"'line1' should be selected, reset it\",\n            trigger: \"button:contains('Reset')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_stats_buttons\",\n        },\n        {\n            content: \"Open search bar menu\",\n            trigger: \".o_searchview_dropdown_toggler:eq(0)\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('Validate')\",\n        },\n        {\n            content: \"Filter Menu\",\n            trigger: \".o_search_bar_menu .dropdown-item:first()\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-dropdown--menu\",\n        },\n        {\n            content: \"Activate the Not Matched filter\",\n            trigger: \".dropdown-item:contains('Not Matched')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_searchview_facet:contains('Not Matched')\",\n        },\n        {\n            content: \"Close the Filter Menu\",\n            trigger: \".o_searchview_dropdown_toggler:eq(0)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_searchview_facet:contains('Not Matched')\",\n        },\n        {\n            content: \"select 'line2'\",\n            trigger: \".o_bank_rec_st_line:contains('line2')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n        },\n        {\n            content: \"Validate 'line2' again\",\n            trigger: \"button:contains('Validate')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_selected_st_line:contains('line3')\",\n        },\n        {\n            content: \"'line3' should be selected now\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line3')\",\n        },\n        // Test the Balance when changing journal and liquidity line\n        ...stepUtils.toggleHomeMenu(),\n        ...accountTourSteps.goToAccountMenu(\"Reset back to accounting module\"),\n        {\n            trigger: \".o_breadcrumb\",\n        },\n        {\n            content: \"Open the bank reconciliation widget for Bank2\",\n            trigger: \"button.btn-secondary[name='action_open_reconcile']:last()\",\n            run: \"click\",\n        },\n        {\n            content: \"Remove the kanbans 'not matched' filter\",\n            trigger: \".o_kanban_view .o_searchview_facet:nth-child(2) .o_facet_remove\",\n            run: \"click\",\n        },\n        {\n            content: \"Remove the kanban 'journal' filter\",\n            trigger: \".o_kanban_view .o_searchview_facet:nth-child(1) .o_facet_remove\",\n            run: \"click\",\n        },\n        {\n            content: \"select 'line1' from another journal\",\n            trigger: \".o_bank_rec_st_line:contains('line1')\",\n            run: \"click\",\n        },\n        ...accountTourSteps.bankRecUiReportSteps(),\n        {\n            content: \"select 'line4' from this journal\",\n            trigger: \".o_bank_rec_st_line:contains('line4')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_selected_st_line:contains('line4')\",\n        },\n        {\n            content: \"balance is $222.22\",\n            trigger: \".btn-link:contains('$ 222.22')\",\n        },\n        {\n            content: \"Select the liquidity line\",\n            trigger: \"tr.o_bank_rec_liquidity_line td[field='debit']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='amount_currency'] input:focus-within\",\n        },\n        {\n            content: \"Modify the liquidity line amount\",\n            trigger: \"div[name='amount_currency'] input\",\n            run: \"edit -333.33 && click body\",\n        },\n        {\n            trigger: \".btn-link:contains('$ -333.33')\",\n        },\n        {\n            content: \"balance displays $-333.33\",\n            trigger: \".btn-link:contains('$ -333.33')\",\n        },\n        {\n            content: \"Modify the label\",\n            trigger: \"div[name='name'] input\",\n            run: \"edit Spontaneous Combustion && click body\",\n        },\n        {\n            content: \"statement line displays combustion and $-333.33\",\n            trigger: \".o_bank_rec_selected_st_line:contains('Combustion'):contains('$ -333.33')\",\n        },\n        // Test that changing the balance in the list view updates the right side of the kanban view\n        // (including reapplying matching rules)\n        {\n            content: \"select matched 'line2'\",\n            trigger: \".o_bank_rec_st_line:contains('line2')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n        },\n        {\n            content: \"'line2' should be selected, reset it\",\n            trigger: \"button:contains('Reset')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_bank_rec_selected_st_line:contains('line2'):not(:has(div.badge))\",\n        },\n        {\n            content: \"Liquidity line displays debit '$ 100.00'\",\n            trigger:\n                \"div[name='line_ids'] table.o_list_table tr.o_bank_rec_liquidity_line td[field='debit']:contains('$ 100.00')\",\n        },\n        {\n            trigger: \".o_switch_view.o_kanban.active\",\n        },\n        {\n            content: \"Switch to list view\",\n            trigger: \".o_switch_view.o_list\",\n            run: \"click\",\n        },\n        {\n            content: \"Click amount field of 'line2'; Selects the row\",\n            trigger: \"table.o_list_table tr.o_data_row:contains('line2') td[name='amount']\",\n            run: \"click\",\n        },\n        {\n            content: \"Set balance of 'line2' (selected row) to 500.00\",\n            trigger: \"table.o_list_table tr.o_data_row.o_selected_row td[name='amount'] input\",\n            run: \"edit 500.00 && click body\",\n        },\n        {\n            trigger: \".o_switch_view.o_list.active\",\n        },\n        {\n            content: \"Switch back to kanban\",\n            trigger: \".o_switch_view.o_kanban\",\n            run: \"click\",\n        },\n        {\n            content: \"'line2' is still selected\",\n            trigger: \".o_bank_rec_st_line:contains('line2')\",\n        },\n        {\n            content: \"Liquidity line displays debit '$ 500.00'\",\n            trigger:\n                \"div[name='line_ids'] table.o_list_table tr.o_bank_rec_liquidity_line td[field='debit']:contains('$ 500.00')\",\n        },\n        {\n            content:\n                \"'INV/2019/00001' has been selected as matching existing entry by matching rules\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='name']:contains('INV/2019/00001')\",\n        },\n        // End\n        ...stepUtils.toggleHomeMenu(),\n        ...accountTourSteps.goToAccountMenu(\"Reset back to accounting module\"),\n        {\n            content: \"check that we're back on the dashboard\",\n            trigger: 'a:contains(\"Customer Invoices\")',\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add('account_accountant_bank_rec_widget_reconciliation_button',\n    {\n        url: '/odoo',\n        steps: () => [\n        stepUtils.showAppsMenuItem(),\n        ...accountTourSteps.goToAccountMenu(\"Open the accounting module\"),\n        {\n            content: \"Open the bank reconciliation widget\",\n            trigger: \"button.btn-secondary[name='action_open_reconcile']\",\n            run: \"click\",\n        },\n        {\n            content: \"Remove suggested line, if present\",\n            trigger: \".o_list_record_remove\",\n            run() {\n                const button = document.querySelector('.fa-trash-o');\n                if(button) {\n                    button.click();\n                }\n            }\n        },\n        {\n            content: \"Wait for deletion\",\n            trigger: \".o_data_row:contains('Open balance')\",\n        },\n        {\n            content: \"Select reconciliation model creating a new move\",\n            trigger: \".recon_model_button:contains('test reconcile')\",\n            run: \"click\",\n        },\n        {\n            content: \"Confirm move created through reconciliation model writeoff button\",\n            trigger: \"button[name=action_post]\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_breadcrumb\",\n        },\n        {\n            content: \"Breadcrumb back to Bank Reconciliation from created move\",\n            trigger: \".breadcrumb-item:contains('Bank Reconciliation')\",\n            run: \"click\",\n        },\n        {\n            content: \"Validate created move added as a line in reco widget\",\n            trigger: \"button:contains('Validate')\",\n            run: \"click\",\n        },\n        // End\n        ...stepUtils.toggleHomeMenu(),\n        ...accountTourSteps.goToAccountMenu(\"Reset back to accounting module\"),\n        {\n            content: \"check that we're back on the dashboard\",\n            trigger: 'a:contains(\"Customer Invoices\")',\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { accountTourSteps } from \"@account/js/tours/account\";\n\nregistry.category(\"web_tour.tours\").add(\"account_accountant_bank_rec_widget\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        ...accountTourSteps.goToAccountMenu(\"Open the accounting module\"),\n\n        // Open the widget. The first line should be selected by default.\n        {\n            trigger: \".o_breadcrumb\",\n        },\n        {\n            content: \"Open the bank reconciliation widget\",\n            trigger: \"button.btn-secondary[name='action_open_reconcile']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids']\",\n        },\n        {\n            content: \"The 'line1' should be selected by default\",\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line1')\",\n        },\n\n        // Test 1: Check the loading of lazy notebook tabs.\n        // Check 'amls_tab' (active by default).\n        {\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table\",\n        },\n        {\n            content: \"The 'amls_tab' should be active and the inner list view loaded\",\n            trigger: \"a.active[name='amls_tab']\",\n        },\n        // Check 'discuss_tab'.\n        {\n            trigger: \"a.active[name='amls_tab']\",\n        },\n        {\n            content: \"Click on the 'discuss_tab'\",\n            trigger: \"a[name='discuss_tab']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"a.active[name='discuss_tab']\",\n        },\n        {\n            content: \"The 'discuss_tab' should be active and the chatter loaded\",\n            trigger: \"div.bank_rec_widget_form_discuss_anchor div.o-mail-Chatter\",\n        },\n        // Check 'manual_operations_tab'.\n        {\n            trigger: \"tr.o_bank_rec_auto_balance_line\",\n        },\n        {\n            content: \"Click on the 'auto_balance' to make the 'manual_operations_tab' visible\",\n            trigger: \"tr.o_bank_rec_auto_balance_line td[field='name']\",\n            run: \"click\",\n        },\n        {\n            content: \"The 'manual_operations_tab' should be active\",\n            trigger: \"a.active[name='manual_operations_tab']\",\n        },\n        {\n            content: \"The 'name' field should be focus automatically\",\n            trigger: \"div.o_notebook div[name='name'] input:focus\",\n        },\n        {\n            trigger: \"tr.o_bank_rec_auto_balance_line\",\n        },\n        {\n            content: \"Click on the 'credit' field to change the focus from 'name' to 'amount_currency'\",\n            trigger: \"tr.o_bank_rec_auto_balance_line td[field='credit']\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait to avoid non-deterministic errors on the next step\",\n            trigger: \"tr.o_bank_rec_auto_balance_line td[field='credit']\",\n        },\n        {\n            content: \"The 'balance' field should be focus now\",\n            trigger: \"div.o_notebook div[name='amount_currency'] input:focus\",\n        },\n\n        // Test 2: Test validation + auto select the next line.\n        {\n            trigger: \"a.active[name='manual_operations_tab']\",\n        },\n        {\n            content: \"Click on the 'amls_tab'\",\n            trigger: \"a[name='amls_tab']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"a.active[name='amls_tab']\",\n        },\n        {\n            content: \"Mount INV/2019/00002\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table td[name='move_id']:contains('INV/2019/00002')\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00002')\",\n        },\n        {\n            content: \"Check INV/2019/00002 is well marked as selected\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00002')\",\n        },\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00002')\",\n        },\n        {\n            content: \"Remove INV/2019/00002\",\n            trigger: \"tr td.o_list_record_remove button\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr:not(.o_rec_widget_list_selected_item) td[name='move_id']:contains('INV/2019/00002')\",\n        },\n        {\n            content: \"Mount INV/2019/00001\",\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table td[name='move_id']:contains('INV/2019/00001')\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n        },\n        {\n            content: \"Validate\",\n            trigger: \"button:contains('Validate')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n        },\n        {\n            content: \"The 'line2' is the next not already reconciled line\",\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n        },\n\n        // Test 3: Test manual operations tab.\n        {\n            content: \"Click on 'credit'\",\n            trigger: \"div[name='line_ids'] td[field='credit']:last\",\n            run: \"click\",\n        },\n        {\n            content:\n                \"The 'manual_operations_tab' should be active now and the auto_balance line mounted in edit\",\n            trigger: \"a.active[name='manual_operations_tab']\",\n        },\n        {\n            content: \"The last line should be selected\",\n            trigger: \"div[name='line_ids'] tr.o_bank_rec_selected_line\",\n        },\n        {\n            content: \"Search for 'partner_a'\",\n            trigger: \"div[name='partner_id'] input\",\n            run: \"edit partner_a\",\n        },\n        {\n            trigger: \".ui-autocomplete .o_m2o_dropdown_option a:contains('Create')\",\n        },\n        {\n            content: \"Select 'partner_a'\",\n            trigger: \".ui-autocomplete:visible li:contains('partner_a')\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"tr:not(.o_bank_rec_auto_balance_line) td[field='partner_id']:contains('partner_a')\",\n        },\n        {\n            content: \"Select the payable account\",\n            trigger: \"button:contains('Payable')\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"tr:not(.o_bank_rec_auto_balance_line) td[field='account_id']:contains('Payable')\",\n        },\n        {\n            content: \"Enter a tax\",\n            trigger: \"div[name='tax_ids'] input\",\n            run: \"edit 15\",\n        },\n        {\n            trigger: \".ui-autocomplete\",\n        },\n        {\n            content: \"Select 'Tax 15% (Sales)'\",\n            trigger: \".ui-autocomplete:visible li:contains('Sales')\",\n            run: \"click\",\n        },\n        {\n            content: \"Tax column appears in list of lines\",\n            trigger: \"div[name='line_ids'] td[field='tax_ids']\",\n        },\n        {\n            content: \"Wait to avoid non-deterministic errors on the next step\",\n            trigger: \"div[name='line_ids'] td:contains('Tax Received')\",\n        },\n        {\n            trigger: \"button.btn-primary:contains('Validate')\",\n        },\n        {\n            content: \"Validate\",\n            trigger: \"button:contains('Validate')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line3')\",\n        },\n        {\n            content: \"The 'line3' is the next not already reconciled line\",\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line3')\",\n        },\n        ...stepUtils.toggleHomeMenu(),\n        ...accountTourSteps.goToAccountMenu(\"Reset back to accounting module\"),\n        {\n            content: \"check that we're back on the dashboard\",\n            trigger: 'a:contains(\"Customer Invoices\")',\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { accountTourSteps } from \"@account/js/tours/account\";\n\nregistry.category(\"web_tour.tours\").add(\"account_accountant_journal_items_export\", {\n    url: \"/web\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        ...accountTourSteps.goToAccountMenu(\"Open the accounting module\"),\n\n        {\n            content: \"Open journal items list view\",\n            trigger: 'button[data-menu-xmlid=\"account.menu_finance_entries\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Open journal items list view\",\n            trigger: 'a[data-menu-xmlid=\"account.menu_action_account_moves_all\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Select all items\",\n            trigger: 'thead tr th.o_list_record_selector',\n            run: \"click\",\n        },\n        {\n            content: \"Open export dialog\",\n            trigger: 'i.fa-cog',\n            run: \"click\",\n        },\n        {\n            content: \"Open export dialog\",\n            trigger: 'i.fa-upload',\n            run: \"click\",\n        },\n        {\n            content: \"Click on the cancel button\",\n            trigger: 'button.o_form_button_cancel',\n            run: \"click\",\n        },\n        // End\n        ...stepUtils.toggleHomeMenu(),\n        ...accountTourSteps.goToAccountMenu(\"Reset back to accounting module\"),\n        {\n            content: \"check that we're back on the dashboard\",\n            trigger: 'a:contains(\"Customer Invoices\")',\n        },\n    ],\n});\n", "/** @odoo-module */\n\nimport { accountTourSteps } from \"@account/js/tours/account\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"account_merge_wizard_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        ...accountTourSteps.goToAccountMenu(\"Go to Accounting\"),\n        {\n            content: \"Go to Configuration\",\n            trigger: 'span:contains(\"Configuration\")',\n            run: \"click\",\n        },\n        {\n            content: \"Go to Chart of Accounts\",\n            trigger: 'a:contains(\"Chart of Accounts\")',\n            run: \"click\",\n        },\n        {\n            trigger: '.o_breadcrumb .text-truncate:contains(\"Chart of Accounts\")',\n        },\n        {\n            content: \"Select accounts\",\n            trigger: \"thead .o_list_record_selector\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that exactly 4 accounts are present and selected\",\n            trigger: \".o_list_selection_box:contains(4):contains(selected)\",\n        },\n        {\n            content: \"Open Actions menu\",\n            trigger: \".o_cp_action_menus .dropdown-toggle\",\n            run: \"click\",\n        },\n        {\n            content: \"Open Merge accounts wizard\",\n            trigger: 'span:contains(\"Merge accounts\")',\n            run: \"click\",\n        },\n        {\n            content: \"Group by name\",\n            trigger: 'div[name=\"is_group_by_name\"] input',\n            run: \"click\",\n        },\n        {\n            content: \"Wait for content to be updated\",\n            trigger: 'td:contains(\"Current Assets (Current Assets)\")',\n        },\n        {\n            content: \"Merge accounts\",\n            trigger: 'button:not([disabled]) span:contains(\"Merge\")',\n            run: \"click\",\n        },\n        {\n            content: \"Check that there are now exactly 2 accounts\",\n            trigger: \"tr.o_data_row:contains(2)\",\n        },\n    ],\n});\n", "/** @odoo-module **/\nimport { patch } from \"@web/core/utils/patch\";\nimport { accountTourSteps } from \"@account/js/tours/account\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\npatch(accountTourSteps, {\n    goToAccountMenu(description=\"Open Accounting Menu\") {\n        return stepUtils.goToAppSteps('accountant.menu_accounting', description);\n    }\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('personal_stage_tour', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n    run: \"click\",\n}, {\n    content: \"Open Pig Project\",\n    trigger: '.o_kanban_record:contains(\"Pig\")',\n    run: \"click\",\n}, {\n    // Default is grouped by stage, user should not be able to create/edit a column\n    content: \"Check that there is no create column\",\n    trigger: \"body:not(.o_column_quick_create)\",\n}, {\n    content: \"Check that there is no create column\",\n    trigger: \"body:not(.o_column_edit)\",\n}, {\n    content: \"Check that there is no create column\",\n    trigger: \"body:not(.o_column_delete)\",\n}, {\n    content: \"Go to tasks\",\n    trigger: 'button[data-menu-xmlid=\"project.menu_project_management\"]',\n    run: \"click\",\n},{\n    content: \"Go to my tasks\", // My tasks is grouped by personal stage by default\n    trigger: 'a[data-menu-xmlid=\"project.menu_project_management_my_tasks\"]',\n    run: \"click\",\n}, {\n    content: \"Check that we can create a new stage\",\n    trigger: '.o_column_quick_create .o_quick_create_folded',\n    run: \"click\",\n}, {\n    content: \"Create a new personal stage\",\n    trigger: 'input.form-control',\n    run: \"edit Never\",\n}, {\n    content: \"Confirm create\",\n    trigger: '.o_kanban_add',\n    run: \"click\",\n}, {\n    content: \"Check that column exists && Open column edit dropdown\",\n    trigger: \".o_kanban_header:contains(Never)\",\n    run: \"hover && click .o_kanban_header:contains(Never) .dropdown-toggle\",\n}, {\n    content: \"Try editing inbox\",\n    trigger: \".dropdown-item.o_column_edit\",\n    run: \"click\",\n}, {\n    content: \"Change title\",\n    trigger: 'div.o_field_char[name=\"name\"] input',\n    run: \"edit ((Todo))\",\n}, {\n    content: \"Save changes\",\n    trigger: '.btn-primary:contains(\"Save\")',\n    run: \"click\",\n}, {\n    content: \"Check that column was updated\",\n    trigger: '.o_kanban_header:contains(\"Todo\")',\n    run: \"click\",\n}, {\n    content: \"Create a personal task from the quick create form\",\n    trigger: '.o-kanban-button-new',\n    run: \"click\",\n}, {\n    content: \"Create a new personal task\",\n    trigger: 'input.o_input:not(.o_searchview_input)',\n    run: \"edit New Test Task\",\n}, {\n    content: \"Confirm create\",\n    trigger: '.o_kanban_add',\n    run: \"click\",\n}, {\n    content: \"Check that task exists\",\n    trigger: '.o_kanban_record:contains(\"New Test Task\")',\n}]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('burndown_chart_tour', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n    run: \"click\",\n}, {\n    content: 'Open \"Burndown Chart Test\" project menu',\n            trigger: \".o_kanban_record:contains(Burndown Chart Test)\",\n    run: `hover && click .o_kanban_record:contains(Burndown Chart Test) .o_dropdown_kanban .dropdown-toggle`,\n}, {\n    content: `Open \"Burndown Chart Test\" project's \"Burndown Chart\" view`,\n    trigger: '.o_kanban_manage_reporting div[role=\"menuitem\"] a:contains(\"Burndown Chart\")',\n    run: \"click\",\n},\n{\n    trigger: \".o_graph_renderer\",\n},\n{\n    content: 'The sort buttons are not rendered',\n    trigger: '.o_graph_renderer:not(:has(.btn-group[role=toolbar][aria-label=\"Sort graph\"]))',\n    run: \"click\",\n}, {\n    content: 'Remove the project search \"Burndown Chart Test\"',\n    trigger: \".o_searchview_facet:contains(Burndown Chart Test)\",\n    run: \"hover && click .o_facet_remove\",\n}, {\n    content: 'Search Burndown Chart',\n    trigger: 'input.o_searchview_input',\n    run: `edit Burndown`,\n}, {\n    content: 'Validate search',\n    trigger: '.o_searchview_autocomplete .o_menu_item:contains(\"Project\")',\n    run: \"click\",\n}, {\n    content: 'Remove the group by \"Date: Month > Stage\"',\n    trigger: '.o_searchview_facet:contains(\"Stage\") .o_facet_remove',\n    run: \"click\",\n}, {\n    content: 'A \"The Burndown Chart must be grouped by Date and Stage\" notification is shown when trying to remove the group by \"Date: Month > Stage\"',\n    trigger: '.o_notification_manager .o_notification:contains(\"The report should be grouped either by \") button.o_notification_close',\n    run: \"click\",\n}, {\n    content: 'Open the search panel menu',\n    trigger: '.o_control_panel .o_searchview_dropdown_toggler',\n    run: \"click\",\n}, {\n    content: 'The Stage group menu item is visible',\n    trigger: '.o_group_by_menu .o_menu_item:contains(\"Stage\")',\n    run: \"click\",\n}, {\n    content: 'Open the Date group by sub menu',\n    trigger: '.o_group_by_menu button.o_menu_item:contains(\"Date\")',\n    run: \"click\",\n}, {\n    content: 'Click on the selected Date sub menu',\n    trigger: '.o_group_by_menu button.o_menu_item:contains(\"Date\") + * .dropdown-item.selected',\n    run: \"click\",\n}, {\n    content: 'A \"The Burndown Chart must be grouped by Date\" notification is shown when trying to remove the group by \"Date: Month > Stage\"',\n    trigger: '.o_notification_manager .o_notification:contains(\"The Burndown Chart must be grouped by Date\") button.o_notification_close',\n    run: \"click\",\n}, {\n    content: 'Open the search panel menu',\n    trigger: '.o_control_panel .o_searchview_dropdown_toggler',\n    run: \"click\",\n}, {\n    content: 'Open the Date filter sub menu',\n    trigger: '.o_filter_menu button.o_menu_item:contains(\"Date\")',\n    run: \"click\",\n}, {\n    content: 'Click on the first Date filter sub menu',\n    trigger: '.o_filter_menu .o_menu_item:contains(\"Date\") + * .dropdown-item:first-child',\n    run: \"click\",\n}, {\n    content: 'Close the Date filter menu',\n    trigger: '.o_graph_renderer',\n    run: \"click\",\n}, {\n    content: 'Open the search panel menu',\n    trigger: '.o_control_panel .o_searchview_dropdown_toggler',\n    run: \"click\",\n}, {\n    content: 'The comparison menu is not rendered',\n    trigger: ':not(:has(.o_comparison_menu))',\n}]});\n", "import { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst projectSharingSteps = [...stepUtils.goToAppSteps(\"project.menu_main_pm\", 'Go to the Project App.'), {\n    trigger: \".o_kanban_record:contains(Project Sharing)\",\n    content: 'Open the project dropdown.',\n    run: \"hover && click .o_kanban_record:contains(Project Sharing) .o_dropdown_kanban .dropdown-toggle\",\n}, {\n    trigger: '.dropdown-menu a:contains(\"Share\")',\n    content: 'Start editing the project.',\n    run: \"click\",\n}, {\n    trigger: '.modal div[name=\"collaborator_ids\"] .o_field_x2many_list_row_add > a',\n    content: 'Add a collaborator to the project.',\n    run: \"click\",\n}, {\n    trigger: '.modal div[name=\"collaborator_ids\"] div[name=\"partner_id\"] input',\n    content: 'Select the user portal as collaborator to the \"Project Sharing\" project.',\n    run: \"edit Georges\",\n}, {\n    trigger: '.ui-autocomplete a.dropdown-item:contains(\"Georges\")',\n    run: \"click\",\n}, {\n    trigger: '.modal div[name=\"collaborator_ids\"] div[name=\"access_mode\"] select',\n    content: 'Select \"Edit\" as Access mode in the \"Share Project\" wizard.',\n    run: 'select \"edit\"',\n}, {\n    trigger: '.modal footer > button[name=\"action_share_record\"]',\n    content: 'Confirm the project sharing with this portal user.',\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n{\n    trigger: '.o_web_client',\n    content: 'Go to project portal view to select the \"Project Sharing\" project',\n    run: function () {\n        window.location.href = window.location.origin + '/my/projects';\n    },\n}, {\n    id: 'project_sharing_feature',\n    trigger: 'table > tbody > tr a:has(span:contains(Project Sharing))',\n    content: 'Select \"Project Sharing\" project to go to project sharing feature for this project.',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_project_sharing',\n    content: 'Wait the project sharing feature be loaded',\n}, {\n    trigger: ':iframe button.o-kanban-button-new',\n    content: 'Click \"Create\" button',\n    run: 'click',\n}, {\n    trigger: ':iframe .o_kanban_quick_create .o_field_widget[name=\"name\"] input',\n    content: 'Create Task',\n    run: \"edit Test Create Task\",\n}, {\n    content: \"Check that task stages cannot be drag and dropped\",\n    trigger: ':iframe .o_kanban_group:not(.o_group_draggable)',\n}, {\n    trigger: ':iframe .o_kanban_quick_create .o_kanban_edit',\n    content: 'Go to the form view of this new task',\n    run: \"click\",\n}, {\n    trigger: ':iframe div[name=\"stage_id\"] div.o_statusbar_status button[aria-checked=\"false\"]:contains(Done)',\n    content: 'Change the stage of the task.',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o-mail-Composer-input',\n    content: 'Write a message in the chatter of the task',\n    run: \"edit I create a new task for testing purpose.\",\n}, {\n    trigger: ':iframe .o-mail-Composer-send:enabled',\n    content: 'Send the message',\n    run: \"click\",\n}, {\n    trigger: ':iframe ol.breadcrumb > li.o_back_button > a:contains(Project Sharing)',\n    content: 'Go back to the kanban view',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_searchview_dropdown_toggler',\n    content: 'open the search panel menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_filter_menu .dropdown-item:first-child',\n    content: 'click on the first item in the filter menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_group_by_menu .dropdown-item:first-child',\n    content: 'click on the first item in the group by menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_favorite_menu .o_add_favorite',\n    content: 'open accordion \"save current search\" in favorite menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_favorite_menu .o_accordion_values .o_save_favorite',\n    content: 'click to \"save\" button in favorite menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_filter_menu .dropdown-item:first-child',\n    content: 'click on the first item in the filter menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_group_by_menu .dropdown-item:first-child',\n    content: 'click on the first item in the group by menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_favorite_menu .o_accordion_values .o_save_favorite',\n    content: 'click to \"save\" button in favorite menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe button.o_switch_view.o_list',\n    content: 'Go to the list view',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_list_view',\n}, {\n    trigger: ':iframe .o_optional_columns_dropdown_toggle',\n    run: \"click\",\n}, {\n    trigger: ':iframe .dropdown-item:contains(\"Milestone\")',\n}, {\n    trigger: ':iframe .o_list_view',\n    content: 'Check the list view',\n}];\n\nregistry.category(\"web_tour.tours\").add('project_sharing_tour', {\n    url: '/odoo',\n    steps: () => {\n        return projectSharingSteps;\n    }\n});\n\nregistry.category(\"web_tour.tours\").add(\"portal_project_sharing_tour\", {\n    url: \"/my/projects\",\n    steps: () => {\n        // The begining of the project sharing feature\n        const projectSharingStepIndex = projectSharingSteps.findIndex(s => s?.id === 'project_sharing_feature');\n        return projectSharingSteps.slice(projectSharingStepIndex, projectSharingSteps.length);\n    }\n});\n\nregistry.category(\"web_tour.tours\").add(\"project_sharing_with_blocked_task_tour\", {\n    url: \"/my/projects\",\n    steps: () => [{\n        trigger: 'table > tbody > tr a:has(span:contains(\"Project Sharing\"))',\n        content: 'Click on the portal project.',\n        run: \"click\",\n    }, {\n        trigger: ':iframe article.o_kanban_record',\n        content: 'Click on the task',\n        run: \"click\",\n    }, {\n        trigger: ':iframe a:contains(\"Blocked By\")',\n        content: 'Go to the Block by task tab',\n        run: \"click\",\n    }, {\n        trigger: ':iframe i:contains(\"This task is currently blocked by\")',\n        content: 'Check that the blocked task is not visible',\n    },\n]});\n\nregistry.category(\"web_tour.tours\").add(\"portal_project_sharing_tour_with_disallowed_milestones\", {\n    url: \"/my/projects\",\n    steps: () => [\n        {\n            id: \"project_sharing_feature\",\n            trigger: \"table > tbody > tr a:has(span:contains(Project Sharing))\",\n            content:\n                'Select \"Project Sharing\" project to go to project sharing feature for this project.',\n            run: \"click\",\n        },\n        {\n            trigger: \":iframe .o_project_sharing\",\n            content: \"Wait the project sharing feature be loaded\",\n        },\n        {\n            trigger: \":iframe button.o_switch_view.o_list\",\n            content: \"Go to the list view\",\n            run: \"click\",\n        },\n        {\n            trigger: \":iframe .o_list_view\",\n        },\n        {\n            trigger: \":iframe .o_optional_columns_dropdown_toggle\",\n            run: \"click\",\n        },\n        {\n            trigger: \":iframe .dropdown-item\",\n        },\n        {\n            trigger: \":iframe .dropdown-menu\",\n            run: function () {\n                const optionalFields = Array.from(\n                    this.anchor.ownerDocument.querySelectorAll(\".dropdown-item\")\n                ).map((e) => e.textContent);\n\n                if (optionalFields.includes(\"Milestone\")) {\n                    throw new Error(\n                        \"the Milestone field should be absent as allow_milestones is set to False\"\n                    );\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_04_project_sharing_chatter_message_reactions\", {\n    url: \"/my/projects\",\n    steps: () => [\n        { trigger: \"table > tbody > tr a:has(span:contains(Project Sharing))\", run: \"click\" },\n        { trigger: \":iframe .o_project_sharing\" },\n        { trigger: \":iframe .o_kanban_record:contains('Test Task with messages')\", run: \"click\" },\n        { trigger: \":iframe .o-mail-Message\" },\n        { trigger: \":iframe .o-mail-Message .o-mail-MessageReaction:contains('\ud83d\udc40')\" },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction changeFilter(filterName) {\n    return [\n        {\n            trigger: \".o_control_panel_actions .o_searchview_dropdown_toggler\",\n            content: \"open searchview menu\",\n            run: \"click\",\n        },\n        {\n            trigger: `.o_favorite_menu .dropdown-item span:contains(\"${filterName}\")`,\n            run: \"click\",\n        },\n        {\n            trigger: \".o_control_panel_actions .o_searchview_dropdown_toggler\",\n            content: \"close searchview menu\",\n            run: \"click\",\n        },\n    ];\n}\n\nregistry.category(\"web_tour.tours\").add(\"project_tags_filter_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n            run: \"click\",\n        },\n        ...changeFilter(\"Corkscrew tail tag filter\"),\n        {\n            trigger:\n                '.o_kanban_group:has(.o_kanban_header:has(span:contains(\"goat\"))):not(:has(.o_kanban_record))',\n            content: \"check that the corkscrew tail filter has taken effect\",\n        },\n        {\n            trigger:\n                '.o_kanban_group:has(.o_kanban_header:has(span:contains(\"pig\"))) .o_kanban_record:has(span:contains(\"Pigs\"))',\n            content: \"check that the corkscrew tail filter has taken effect\",\n        },\n        ...changeFilter(\"horned tag filter\"),\n        {\n            trigger:\n                '.o_kanban_group:has(.o_kanban_header:has(span:contains(\"pig\"))):not(:has(.o_kanban_record))',\n            content: \"check that the horned filter has taken effect\",\n        },\n        {\n            trigger:\n                '.o_kanban_group:has(.o_kanban_header:has(span:contains(\"goat\"))) .o_kanban_record:has(span:contains(\"Goats\"))',\n            content: \"check that the horned filter has taken effect\",\n        },\n        ...changeFilter(\"4 Legged tag filter\"),\n        {\n            trigger:\n                '.o_kanban_group:has(.o_kanban_header:has(span:contains(\"pig\"))) .o_kanban_record:has(span:contains(\"Pigs\"))',\n            content: \"check that the 4 legged filter has taken effect\",\n        },\n        {\n            trigger:\n                '.o_kanban_group:has(.o_kanban_header:has(span:contains(\"goat\"))) .o_kanban_record:has(span:contains(\"Goats\"))',\n            content: \"check that the 4 legged filter has taken effect\",\n        },\n    ],\n});\n", "/**\n * Project Task history tour.\n * Features tested:\n * - Create / edit a task description and ensure revisions are created on write\n * - Open the history dialog and check that the revisions are correctly shown\n * - Select a revision and check that the content / comparison are correct\n * - Click the restore button and check that the content is correctly restored\n */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst baseDescriptionContent = \"Test project task history version\";\nfunction changeDescriptionContentAndSave(newContent) {\n    const newText = `${baseDescriptionContent} ${newContent}`;\n    return [\n        {\n            // force focus on editable so editor will create initial p (if not yet done)\n            trigger: \"div.note-editable.odoo-editor-editable\",\n            run: \"click\",\n        },\n        {\n            trigger: `div.note-editable[spellcheck='true'].odoo-editor-editable`,\n            run: `editor ${newText}`,\n        },\n        ...stepUtils.saveForm(),\n    ];\n}\n\nregistry.category(\"web_tour.tours\").add(\"project_task_history_tour\", {\n    url: \"/odoo\",\n    steps: () => [stepUtils.showAppsMenuItem(), {\n        content: \"Open the project app\",\n        trigger: \".o_app[data-menu-xmlid='project.menu_main_pm']\",\n        run: \"click\",\n    },\n    {\n        content: \"Open Test History Project\",\n        trigger: \".o_kanban_view .o_kanban_record:contains(Test History Project)\",\n        run: \"click\",\n    },\n    {\n        content: \"Open Test History Task\",\n        trigger: \".o_kanban_view .o_kanban_record:contains(Test History Task)\",\n        run: \"click\",\n    },\n        // edit the description content 3 times and save after each edit\n        ...changeDescriptionContentAndSave(\"0\"),\n        ...changeDescriptionContentAndSave(\"1\"),\n        ...changeDescriptionContentAndSave(\"2\"),\n        ...changeDescriptionContentAndSave(\"3\"),\n    {\n        content: \"Go back to kanban view of tasks. this step is added because it takes some time to save the changes, so it's a sort of timeout to wait a bit for the save\",\n        trigger: \".o_back_button a\",\n        run: \"click\",\n    },\n    {\n        content: \"Open Test History Task\",\n        trigger: \".o_kanban_view .o_kanban_record:contains(Test History Task)\",\n        run: \"click\",\n    },\n    {\n        content: \"Open History Dialog\",\n        trigger: \".o_form_view .o_cp_action_menus i.fa-cog\",\n        run: \"click\",\n    },\n    {\n        trigger: \".dropdown-menu\",\n    },\n    {\n        content: \"Open History Dialog\",\n        trigger: \".o_menu_item i.fa-history\",\n        run: \"click\",\n    }, {\n        content: \"Verify that 4 revisions are displayed (default empty description after the creation of the task + 3 edits)\",\n        trigger: \".modal .html-history-dialog .revision-list .btn\",\n        run: function () {\n            const items = document.querySelectorAll(\".revision-list .btn\");\n            if (items.length !== 4) {\n                console.error(\"Expect 4 Revisions in the history dialog, got \" + items.length);\n            }\n        },\n    }, {\n        content: \"Verify that the active revision (revision 4) is related to the third edit\",\n        trigger: `.modal .history-container .tab-pane:contains(\"${baseDescriptionContent} 2\")`,\n        run: \"click\",\n    }, {\n        content: \"Go to the third revision related to the second edit\",\n        trigger: \".modal .html-history-dialog .revision-list .btn:nth-child(2)\",\n        run: \"click\",\n    }, {\n        content: \"Verify that the active revision is the one clicked in the previous step\",\n        trigger: `.modal .history-container .tab-pane:contains(\"${baseDescriptionContent} 1\")`,\n        run: \"click\",\n    }, {\n        content: \"Go to comparison tab\",\n        trigger: \".modal .history-container .nav-item:contains(Comparison) a\",\n        run: \"click\",\n    }, {\n        content: \"Verify comparaison text\",\n        trigger: \".modal .history-container .tab-pane\",\n        run: function () {\n            const comparaisonHtml = this.anchor.innerHTML;\n            const correctHtml = `<added>${baseDescriptionContent} 1</added><removed>${baseDescriptionContent} 3</removed>`;\n            if (!comparaisonHtml.includes(correctHtml)) {\n                console.error(`Expect comparison to be ${correctHtml}, got ${comparaisonHtml}`);\n            }\n        },\n    }, {\n        content: \"Click on Restore History btn to get back to the selected revision in the previous step\",\n        trigger: \".modal button.btn-primary:contains(/^Restore history$/)\",\n        run: \"click\",\n    }, {\n        content: \"Verify the confirmation dialog is opened\",\n        trigger: \".modal button.btn-primary:contains(/^Restore$/)\",\n        run: \"click\",\n    }, {\n        content: \"Verify that the description contains the right text after the restore\",\n        trigger: `div.note-editable.odoo-editor-editable`,\n        run: function () {\n            const p = this.anchor?.innerText;\n            const expected = `${baseDescriptionContent} 1`;\n            if (p !== expected) {\n                console.error(`Expect description to be ${expected}, got ${p}`);\n            }\n        }\n    }, {\n        content: \"Go back to projects view.\",\n        trigger: 'a[data-menu-xmlid=\"project.menu_projects\"]',\n        run: \"click\",\n    }, {\n        trigger: \".o_kanban_view\",\n    }, {\n        content: \"Open Test History Project Without Tasks\",\n        trigger: \".o_kanban_view .o_kanban_record:contains(Without tasks project)\",\n        run: \"click\",\n    }, {\n        trigger: \".o_kanban_project_tasks\",\n    }, {\n        content: \"Switch to list view\",\n        trigger: \".o_switch_view.o_list\",\n        run: \"click\",\n    }, {\n        content: \"Create a new task.\",\n        trigger: '.o_list_button_add',\n        run: \"click\",\n    }, {\n        trigger: \".o_form_view\",\n    }, {\n        trigger: 'div[name=\"name\"] .o_input',\n        content: 'Set task name',\n        run: 'edit New task',\n    },\n    ...stepUtils.saveForm(),\n        ...changeDescriptionContentAndSave(\"0\"),\n        ...changeDescriptionContentAndSave(\"1\"),\n        ...changeDescriptionContentAndSave(\"2\"),\n        ...changeDescriptionContentAndSave(\"3\"),\n    {\n        trigger: \".o_form_view\",\n    }, {\n        content: \"Open History Dialog\",\n        trigger: \".o_cp_action_menus i.fa-cog\",\n        run: \"click\",\n    }, {\n        trigger: \".dropdown-menu\",\n    }, {\n        content: \"Open History Dialog\",\n        trigger: \".o_menu_item i.fa-history\",\n        run: \"click\",\n    }, {\n        content: \"Close History Dialog\",\n        trigger: \".modal-header .btn-close\",\n        run: \"click\",\n    }, {\n        content: \"Go back to projects view. this step is added because Tour can't be finished with an open form view in edition mode.\",\n        trigger: 'a[data-menu-xmlid=\"project.menu_projects\"]',\n        run: \"click\",\n    }, {\n        content: \"Verify that we are on kanban view\",\n        trigger: 'button.o_switch_view.o_kanban.active',\n    }\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('project_test_tour', {\n    url: '/odoo',\n    steps: () => [\n    stepUtils.showAppsMenuItem(), {\n        trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n        run: \"click\",\n    },\n    {\n        trigger: '.o_project_kanban',\n    },\n    {\n        trigger: '.o-kanban-button-new',\n        run: \"click\",\n    }, {\n        trigger: '.o_project_name input',\n        run: 'edit New Project',\n        id: 'project_creation',\n    }, {\n        trigger: '.o_open_tasks',\n        run: \"click .modal:visible .btn.btn-primary\",\n    }, {\n        trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group input\",\n        run: \"edit New\",\n    }, {\n        isActive: [\"auto\"],\n        trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_kanban_group\",\n    },\n    {\n        trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group input\",\n        run: \"edit Done\",\n    }, {\n        isActive: [\"auto\"],\n        trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_kanban_group:eq(0)\",\n    },\n    {\n        trigger: '.o-kanban-button-new',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_kanban_project_tasks\",\n    },\n    {\n        trigger: '.o_kanban_quick_create div.o_field_char[name=display_name] input',\n        run: \"edit New task\",\n    }, {\n        trigger: '.o_kanban_quick_create .o_kanban_add',\n        run: \"click\",\n    }, {\n        trigger: '.o_kanban_record span:contains(\"New task\")',\n        run: \"click\",\n    }, {\n        trigger: 'a[name=\"sub_tasks_page\"]',\n        content: 'Open sub-tasks notebook section',\n        run: 'click',\n    }, {\n        trigger: '.o_field_subtasks_one2many .o_list_renderer a[role=\"button\"]',\n        content: 'Add a subtask',\n        run: 'click',\n    }, {\n        trigger: '.o_field_subtasks_one2many div[name=\"name\"] input',\n        content: 'Set subtask name',\n        run: \"edit new subtask\",\n    }, {\n        trigger: \".o_breadcrumb .o_back_button\",\n        content: 'Go back to kanban view',\n        tooltipPosition: \"right\",\n        run: \"click\",\n    }, {\n        trigger: \".o_kanban_record .o_widget_subtask_counter .subtask_list_button\",\n        content: 'open sub-tasks from kanban card',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_widget_subtask_kanban_list .subtask_list\",\n    },\n    {\n        trigger: \".o_kanban_record .o_widget_subtask_kanban_list .subtask_create\",\n        content: 'Create a new sub-task',\n        run: \"click\",\n    },\n    {\n        trigger: \".subtask_create_input\",\n    },\n    {\n        trigger: \".o_kanban_record .o_widget_subtask_kanban_list .subtask_create_input input\",\n        content: 'Give the sub-task a name',\n        run: \"edit newer subtask && press Tab\",\n    },\n    {\n        content: \"wait the new record is created\",\n        trigger: \".o_kanban_record .o_widget_subtask_kanban_list a:contains(newer subtask)\",\n    },\n    {    \n        trigger: \".o_kanban_record .o_widget_subtask_kanban_list .subtask_list_row:first-child .o_field_project_task_state_selection button\",\n        content: 'Change the subtask state',\n        run: \"click\",\n    },\n    {\n        trigger: \".dropdown-menu\",\n    },\n    {\n        trigger: \".dropdown-menu span.text-danger\",\n        content: 'Mark the task as Canceled',\n        run: \"click\",\n    }, {\n        trigger: \".o_kanban_record .o_widget_subtask_counter .subtask_list_button:contains('1/2')\",\n        content: 'Close the sub-tasks list',\n        id: \"quick_create_tasks\",\n        run: \"click\",\n    }, {\n        trigger: '.o_field_text[name=\"name\"] textarea',\n        content: 'Set task name',\n        run: \"edit New task\",\n    }, {\n        trigger: 'div[name=\"user_ids\"].o_field_many2many_tags_avatar input',\n        content: 'Assign the task to you',\n        run: 'click',\n    }, {\n        trigger: 'ul.ui-autocomplete a .o_avatar_many2x_autocomplete',\n        content: 'Assign the task to you',\n        run: \"click\",\n    }, {\n        trigger: 'a[name=\"sub_tasks_page\"]',\n        content: 'Open sub-tasks notebook section',\n        run: 'click',\n    }, {\n        trigger: '.o_field_subtasks_one2many .o_list_renderer a[role=\"button\"]',\n        content: 'Add a subtask',\n        run: 'click',\n    }, {\n        trigger: '.o_field_subtasks_one2many div[name=\"name\"] input',\n        content: 'Set subtask name',\n        run: \"edit new subtask\",\n    },\n    {\n        trigger: '.o_field_many2many_tags_avatar .o_m2m_avatar',\n    },\n    {\n        trigger: 'button[special=\"save\"]',\n        content: 'Save task',\n        run: \"click\",\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('project_update_tour', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n    run: \"click\",\n},\n{\n    trigger: \".o_project_kanban\",\n},\n{\n    trigger: '.o-kanban-button-new',\n    run: \"click\",\n}, {\n    trigger: '.o_project_name input',\n    run: \"edit New Project\",\n}, {\n    trigger: '.o_open_tasks',\n    run: \"click .modal:visible .btn.btn-primary\",\n}, {\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group input\",\n    run: \"edit New\",\n}, {\n    isActive: [\"auto\"],\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_group\",\n},\n{\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group input\",\n    run: \"edit Done\",\n}, {\n    isActive: [\"auto\"],\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_group:eq(0)\",\n},\n{\n    trigger: '.o-kanban-button-new',\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_project_tasks\",\n},\n{\n    trigger: '.o_kanban_quick_create div.o_field_char[name=display_name] input',\n    run: \"edit New task\",\n},\n{\n    trigger: \".o_kanban_project_tasks\",\n},\n{\n    trigger: '.o_kanban_quick_create .o_kanban_add',\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_group:eq(0)\",\n},\n{\n    trigger: '.o-kanban-button-new',\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_project_tasks\",\n},\n{\n    trigger: '.o_kanban_quick_create div.o_field_char[name=display_name] input',\n    run: \"edit Second task\",\n},\n{\n    trigger: \".o_kanban_project_tasks\",\n},\n{\n    trigger: '.o_kanban_quick_create .o_kanban_add',\n    run: \"click\",\n}, {\n    trigger: \".o_kanban_group:nth-child(2) .o_kanban_header\",\n    run: \"hover && click .o_kanban_group:nth-child(2) .o_kanban_header .dropdown-toggle\",\n}, {\n    trigger: \".dropdown-item.o_column_edit\",\n    run: \"click\",\n}, {\n    trigger: \".modal .o_field_widget[name=fold] input\",\n    run: \"click\",\n}, {\n    trigger: \".modal .modal-footer button\",\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n{\n    trigger: '.o_kanban_project_tasks',\n},\n{\n    trigger: \".o_kanban_record\",\n    run: \"drag_and_drop(.o_kanban_group:eq(1))\",\n}, {\n    trigger: \".o_control_panel_navigation button i.fa-sliders\",\n    content: 'Open embedded actions',\n    run: \"click\",\n}, {\n    trigger: \".o_embedded_actions button i.fa-sliders\",\n    content: \"Open embedded actions dropdown\",\n    run: \"click\",\n}, {\n    trigger: \".o-dropdown-item div span:contains('Dashboard')\",\n    content: \"Put Dashboard in the embedded actions\",\n    run: \"click\",\n}, {\n    trigger: \".o_embedded_actions button span:contains('Dashboard')\",\n    content: \"Open Dashboard\",\n    run: \"click\",\n}, {\n    trigger: \".o_add_milestone a\",\n    content: \"Add a first milestone\",\n    run: \"click\",\n}, {\n    trigger: \"div.o_field_widget[name=name] input\",\n    run: \"edit New milestone\",\n}, {\n    trigger: \"input[data-field=deadline]\",\n    run: \"edit 12/12/2099\",\n}, {\n    trigger: \".modal-footer .o_form_button_save\",\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n{\n    trigger: \".o_add_milestone a\",\n    run: \"click\",\n}, {\n    trigger: \"div.o_field_widget[name=name] input\",\n    run: \"edit Second milestone\",\n}, {\n    trigger: \"input[data-field=deadline]\",\n    run: \"edit 12/12/2022 && click body\",\n}, {\n    trigger: \".modal-footer .o_form_button_save\",\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n{\n    trigger: \".o_rightpanel_milestone:eq(1) .o_milestone_detail\",\n    run: \"click\",\n}, {\n    trigger: \"input[data-field=deadline]\",\n    run: \"edit 12/12/2100 && click body\",\n}, {\n    trigger: \".modal-footer .o_form_button_save\",\n    run: \"click\",\n}, {\n    trigger: \".o-kanban-button-new\",\n    content: \"Create a new update\",\n    run: \"click\",\n}, {\n    trigger: \"div.o_field_widget[name=name] input\",\n    run: \"edit New update\",\n}, {\n    trigger: \".o_form_button_save\",\n    run: \"click\",\n}, {\n    trigger: \".o_field_widget[name='description'] h1:contains('Activities')\",\n}, {\n    trigger: \".o_field_widget[name='description'] h3:contains('Milestones')\",\n}, {\n    trigger: \".o_field_widget[name='description'] div[name='milestone'] ul li:contains('(12/12/2099 => 12/12/2100)')\",\n}, {\n    trigger: \".o_field_widget[name='description'] div[name='milestone'] ul li:contains('(due 12/12/2022)')\",\n}, {\n    trigger: \".o_field_widget[name='description'] div[name='milestone'] ul li:contains('(due 12/12/2100)')\",\n}, {\n    trigger: '.o_back_button',\n    content: 'Go back to the kanban view the project',\n    run: \"click\",\n}, {\n    trigger: '.o_switch_view.o_list',\n    content: 'Open List View of Dashboard',\n    run: \"click\",\n},\n{\n    trigger: '.o_list_view',\n},\n{\n    trigger: '.o_back_button',\n    content: 'Go back to the kanban view the project',\n    run: \"click\",\n},\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport {\n    clickOnSave,\n    registerWebsitePreviewTour,\n    insertSnippet,\n} from \"@website/js/tours/tour_utils\";\n\n// First part of the tour\nregisterWebsitePreviewTour(\n    \"donation_snippet_edition\",\n    {\n        url: \"/\",\n        edition: true,\n    },\n    () => [\n        ...insertSnippet({\n            id: \"s_donation\",\n            name: \"Donation\",\n            groupName: \"Contact & Forms\",\n        }),\n        ...clickOnSave(),\n]);\n\n// Second part of the tour\nregistry.category('web_tour.tours').add('donation_snippet_use', {\n    url: '/',\n    steps: () => [\n        // -- Testing the minimum amount --\n        {\n            content: \"Enter a custom amount smaller than the minimum, testing the minimum amount\",\n            trigger: \"#s_donation_amount_input\",\n            run: \"edit 1\",\n        },\n        {\n            content: \"Donate with custom amount set\",\n            trigger: \".s_donation_donate_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if alert-danger element exists\",\n            trigger: \"p.alert-danger\",\n        },\n        // -- End of testing the minimum amount --\n        {\n            content: \"Enter a custom amount\",\n            trigger: \"#s_donation_amount_input\",\n            run: \"edit 55\",\n        },\n        {\n            content: \"Donate with custom amount set\",\n            trigger: \".s_donation_donate_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if custom amount radio input is selected\",\n            trigger: \"input#other_amount:checked\",\n        },\n        {\n            content: \"Check if custom amount radio input has value 55\",\n            trigger: 'input#other_amount[value=\"55.0\"]',\n        },\n        {\n            content: \"Select the amount of 25\",\n            trigger: \"input#amount_1\",\n            run: \"click\",\n        },\n        {\n            content: \"Verify that amount_1 is checked\",\n            trigger: \"input#amount_1:checked\",\n        },\n        {\n            content: \"Verify that other_amount is not checked\",\n            trigger: \"input#other_amount:not(:checked)\",\n        },\n        {\n            content: \"Change custom amount to 67\",\n            trigger: \"input[name='o_donation_amount'][type='number']\",\n            run: \"edit 67\",\n        },\n        {\n            content: \"Select the custom amount radio button\",\n            trigger: \"input#other_amount\",\n            run: \"click\",\n        },\n        {\n            content: \"Submit the donation form\",\n            trigger: \"button[name='o_payment_submit_button']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body:contains(Your payment has been successfully processed.)\",\n        },\n        {\n            content: \"Verify that the amount displayed is 67\",\n            trigger: 'span.oe_currency_value:contains(\"67.00\")',\n        },\n        {\n            trigger: \"[name=o_payment_status_alert]:contains(thank you!)\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport * as tourUtils from \"@website_sale/js/tours/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"check_free_delivery\", {\n    url: \"/shop\",\n    steps: () => [\n        // Part 1: Check free delivery\n        ...tourUtils.addToCart({ productName: \"Office Chair Black TEST\" }),\n        tourUtils.goToCart({ quantity: 1 }),\n        tourUtils.goToCheckout(),\n        {\n            trigger: \"#o_delivery_methods label:contains(/^Delivery Now Free Over 10$/)\",\n        },\n        {\n            content: \"Check Free Delivery value to be zero\",\n            trigger: \"#o_delivery_methods span:contains('0.0')\",\n            run: \"click\",\n        },\n        // Part 2: check multiple delivery & price loaded asynchronously\n        {\n            trigger: '#o_delivery_methods input[name=\"o_delivery_radio\"]:checked',\n        },\n        {\n            content: \"Ensure price was loaded asynchronously\",\n            trigger:\n                '#o_delivery_methods [name=\"o_delivery_method\"]:contains(\"20.0\"):contains(\"The Poste\")',\n        },\n        tourUtils.confirmOrder(),\n        {\n            content: \"Select `Wire Transfer` payment method\",\n            trigger: 'input[name=\"o_payment_radio\"][data-payment-method-code=\"wire_transfer\"]',\n            run: \"click\",\n        },\n        tourUtils.pay(),\n        {\n            content: \"Confirmation page should be shown\",\n            trigger: \"#oe_structure_website_sale_confirmation_1:not(:visible)\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { assertCartContains } from '@website_sale/js/tours/tour_utils';\nimport { registerWebsitePreviewTour, clickOnEditAndWaitEditMode, clickOnSnippet, insertSnippet, selectElementInWeSelectWidget, clickOnSave, clickOnElement } from '@website/js/tours/tour_utils';\n\n\nfunction editAddToCartSnippet() {\n    return [\n        ...clickOnEditAndWaitEditMode(),\n        ...clickOnSnippet({id: 's_add_to_cart'})\n    ]\n}\n\nregisterWebsitePreviewTour('add_to_cart_snippet_tour', {\n        url: '/',\n        edition: true,\n    },\n    () => [\n        ...insertSnippet({name: 'Add to Cart Button'}),\n\n        // Basic product with no variants\n        ...clickOnSnippet({id: 's_add_to_cart'}),\n        ...selectElementInWeSelectWidget('product_template_picker_opt', 'Product No Variant', true),\n        ...clickOnSave(),\n        clickOnElement('add to cart button', ':iframe .s_add_to_cart_btn'),\n\n        // Product with 2 variants with visitor choice (will open modal)\n        ...editAddToCartSnippet(),\n        ...selectElementInWeSelectWidget('product_template_picker_opt', 'Product Yes Variant 1', true),\n        ...clickOnSave(),\n        clickOnElement('add to cart button', ':iframe .s_add_to_cart_btn'),\n        clickOnElement('continue shopping', ':iframe .modal button:contains(Continue Shopping)'),\n\n        // Product with 2 variants with a variant selected\n        ...editAddToCartSnippet(),\n        ...selectElementInWeSelectWidget('product_template_picker_opt', 'Product Yes Variant 2', true),\n        ...selectElementInWeSelectWidget('product_variant_picker_opt', 'Product Yes Variant 2 (Pink)'),\n        ...clickOnSave(),\n        clickOnElement('add to cart button', ':iframe .s_add_to_cart_btn'),\n\n        // Basic product with no variants and action=buy now\n        ...editAddToCartSnippet(),\n        ...selectElementInWeSelectWidget('product_template_picker_opt', 'Product No Variant', true),\n        ...selectElementInWeSelectWidget('action_picker_opt', 'Buy Now'),\n        // At this point the \"Add to cart\" button was changed to a \"Buy Now\" button\n        ...clickOnSave(),\n        clickOnElement('\"Buy Now\" button', ':iframe .s_add_to_cart_btn'),\n        {\n            // wait for the page to load, as the next check was sometimes too fast\n            content: \"Wait for the redirection to the cart page\",\n            trigger: \":iframe h3:contains(order overview)\",\n        },\n        assertCartContains({productName: 'Product No Variant', backend: true}),\n        assertCartContains({productName: 'Product Yes Variant 1 (Red)', backend: true}),\n        assertCartContains({productName: 'Product Yes Variant 2 (Pink)', backend: true}),\n    ],\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport * as tourUtils from \"@website_sale/js/tours/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('shop_buy_product', {\n    url: '/shop',\n    steps: () => [\n        ...tourUtils.searchProduct(\"Storage Box\"),\n        {\n            content: \"select Storage Box\",\n            trigger: '.oe_product_cart:first a:contains(\"Storage Box\")',\n            run: \"click\",\n        },\n        {\n            content: \"click on add to cart\",\n            trigger: '#product_detail form[action^=\"/shop/cart/update\"] #add_to_cart',\n            run: \"click\",\n        },\n        tourUtils.goToCart(),\n        tourUtils.goToCheckout(),\n        tourUtils.confirmOrder(),\n        ...tourUtils.payWithTransfer(true),\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport * as tourUtils from \"@website_sale/js/tours/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"website_sale_cart_notification\", {\n    url: \"/shop\",\n    steps: () => [\n        ...tourUtils.addToCart({ productName: \"website_sale_cart_notification_product_1\" }),\n        {\n            content: \"check that 1 website_sale_cart_notification_product_1 was added\",\n            trigger: '.toast-body span:contains(\"1 x website_sale_cart_notification_product_1\")',\n        },\n        {\n            content: \"check the price of 1 website_sale_cart_notification_product_1\",\n            trigger: '.toast-body div:contains(\"$ 1,000.00\")',\n        },\n        {\n            content: \"close the notification\",\n            trigger: \".toast-header button.btn-close\",\n            run: \"click\",\n        },\n        {\n            content: \"check that the notification is closed\",\n            trigger: \"div.position-fixed.w-100.h-100.top-0.pe-none\",\n            run() {\n                if (this.anchor.querySelectorAll(\"div\").length !== 1) {\n                    console.error(\"The cart notification is not closed!\");\n                }\n            },\n        },\n        ...tourUtils.searchProduct(\"website_sale_cart_notification_product_2\"),\n        {\n            content: \"select website_sale_cart_notification_product_2\",\n            trigger:\n                '.oe_product_cart:first a:contains(\"website_sale_cart_notification_product_2\")',\n            run: \"click\",\n        },\n        {\n            trigger: \"#product_detail\",\n        },\n        {\n            content: \"change quantity\",\n            trigger: '#product_detail form[action^=\"/shop/cart/update\"] input[name=add_qty]',\n            run: \"edit 3\",\n        },\n        {\n            content: \"click on add to cart\",\n            trigger: '#product_detail form[action^=\"/shop/cart/update\"] #add_to_cart',\n            run: \"click\",\n        },\n        {\n            content: \"check that 3 website_sale_cart_notification_product_2 was added\",\n            trigger: '.toast-body span:contains(\"3 x website_sale_cart_notification_product_2\")',\n        },\n        {\n            content: \"check that the novariants/custom attributes are displayed.\",\n            trigger: '.toast-body span.text-muted.small:contains(\"Size: S\")',\n        },\n        {\n            content: \"check the price of 1 website_sale_cart_notification_product_2\",\n            trigger: '.toast-body div:contains(\"$ 15,000.00\")',\n        },\n        {\n            content: \"Go To Cart\",\n            trigger: '.toast-body a:contains(\"View cart\")',\n            run: \"click\",\n        },\n        tourUtils.assertCartContains({\n            productName: \"website_sale_cart_notification_product_1\",\n            backend: false,\n        }),\n        tourUtils.assertCartContains({\n            productName: \"website_sale_cart_notification_product_2\",\n            backend: false,\n        }),\n    ],\n});\n", "/** @odoo-modules */\n\nimport { clickOnSave, clickOnEditAndWaitEditMode, registerWebsitePreviewTour } from '@website/js/tours/tour_utils';\nimport { registry } from \"@web/core/registry\";\n\n\nregisterWebsitePreviewTour('category_page_and_products_snippet_edition', {\n    url: '/shop',\n}, () => [\n    {\n        content: \"Navigate to category\",\n        trigger: ':iframe .o_wsale_filmstip > li:contains(\"Test Category\") > a',\n        run: \"click\",\n    },\n    ...clickOnEditAndWaitEditMode(),\n    {\n        trigger: \".o_website_preview.editor_enable.editor_has_snippets\",\n    },\n    {\n        content: \"Drag and drop the Products snippet group inside the category area.\",\n        trigger: '#oe_snippets .oe_snippet[name=\"Products\"] .oe_snippet_thumbnail:not(.o_we_ongoing_insertion)',\n        run: \"drag_and_drop :iframe #category_header\",\n    },\n    {\n        content: \"Click on the s_dynamic_snippet_products snippet.\",\n        trigger: ':iframe .o_snippet_preview_wrap[data-snippet-id=\"s_dynamic_snippet_products\"]',\n        run: \"click\",\n    },\n\n    {\n        content: \"Click on the product snippet to show its options\",\n        trigger: ':iframe #category_header .s_dynamic_snippet_products',\n        run: \"click\",\n    },\n    {\n        content: \"Open category option dropdown\",\n        trigger: 'we-select[data-attribute-name=\"productCategoryId\"] we-toggler',\n        run: \"click\",\n    },\n    {\n        content: \"Choose the option to use the current page's category\",\n        trigger: 'we-button[data-select-data-attribute=\"current\"]',\n        run: \"click\",\n    },\n    ...clickOnSave(),\n]);\n\nregistry.category(\"web_tour.tours\").add('category_page_and_products_snippet_use', {\n    url: '/shop',\n    steps: () => [\n    {\n        content: \"Navigate to category\",\n        trigger: '.o_wsale_filmstip > li:contains(\"Test Category\") > a',\n        run: \"click\",\n    },\n    {\n        content: \"Check that the snippet displays the right products\",\n        // Wait for at least one shown product\n        trigger: '#category_header .s_dynamic_snippet_products:has(.o_carousel_product_img_link)',\n        run() {\n            // Fetch the category's id from the url.\n            const productCategoryId = window.location.href.match('/shop/category/test-category-(\\\\d+)')[1]\n            const productGridEl = this.anchor.closest('#products_grid');\n            const regex = new RegExp(`^/shop/[\\\\w-/]+-(\\\\d+)\\\\?category=${productCategoryId}$`);\n            const allPageProductIDs = [...productGridEl.querySelectorAll('.oe_product_image_link')]\n                .map(el => el.getAttribute('href').match(regex)[1]);\n\n            const $shownProductLinks = this.anchor.querySelectorAll(\".o_carousel_product_img_link\");\n            const regex2 = new RegExp(`^/shop/[\\\\w-/]+-(\\\\d+)(?:#attribute_values=\\\\d*)?$`);\n            for (const shownProductLinkEl of $shownProductLinks) {\n                const productID = shownProductLinkEl.getAttribute('href').match(regex2)[1];\n                if (!allPageProductIDs.includes(productID)) {\n                    console.error(`The snippet displays a product (${productID}) which does not belong to the current category (${allPageProductIDs})`);\n                }\n            }\n        },\n    },\n]});\n", "import { registry } from '@web/core/registry';\nimport { queryValue, waitUntil } from '@odoo/hoot-dom';\nimport comboConfiguratorTourUtils from '@sale/js/tours/combo_configurator_tour_utils';\nimport productConfiguratorTourUtils from '@sale/js/tours/product_configurator_tour_utils';\nimport * as wsTourUtils from '@website_sale/js/tours/tour_utils';\n\nregistry\n    .category('web_tour.tours')\n    .add('website_sale_combo_configurator', {\n        url: '/shop?search=Combo product',\n        steps: () => [\n            ...wsTourUtils.addToCart({ productName: \"Combo product\", search: false }),\n            // Assert that the combo configurator behaves as expected.\n            comboConfiguratorTourUtils.assertFooterButtonsDisabled(),\n            comboConfiguratorTourUtils.setQuantity(3),\n            comboConfiguratorTourUtils.selectComboItem(\"Product A1\"),\n            ...productConfiguratorTourUtils.selectAndSetCustomAttribute(\n                \"Product A1\", \"No variant attribute\", \"B\", \"Some custom value\"\n            ),\n            ...productConfiguratorTourUtils.saveConfigurator(),\n            comboConfiguratorTourUtils.selectComboItem(\"Product B2\"),\n            comboConfiguratorTourUtils.assertFooterButtonsEnabled(),\n            // Assert that the cart's content is correct.\n            {\n                content: \"Proceed to checkout\",\n                trigger: 'button:contains(Proceed to Checkout)',\n                run: 'click',\n            },\n            wsTourUtils.assertCartContains({ productName: \"Combo product\" }),\n            wsTourUtils.assertCartContains({ productName: \"3 x Product A1\" }),\n            wsTourUtils.assertCartContains({ productName: \"3 x Product B2\" }),\n            {\n                content: \"Verify the first combo item's attributes\",\n                trigger: 'div.o_cart_product:contains(\"No variant attribute: B: Some custom value\")',\n            },\n            {\n                content: \"Verify the combo product's quantity\",\n                trigger: 'input.quantity',\n                run: async () => await waitUntil(\n                    () => queryValue('input.quantity') === '3', { timeout: 1000 }\n                ),\n            },\n            {\n                content: \"Verify the combo product's price\",\n                trigger: 'div[name=\"website_sale_cart_line_price\"]:contains(93.00)',\n            },\n            {\n                content: \"Verify the order's total price\",\n                trigger: 'tr#order_total_untaxed:contains(93.00)',\n            },\n            // Assert that the combo quantity can be updated in the cart.\n            {\n                content: \"Edit the combo quantity\",\n                trigger: 'input.quantity',\n                run: 'edit 2 && click body',\n            },\n            wsTourUtils.assertCartContains({ productName: \"2 x Product A1\" }),\n            wsTourUtils.assertCartContains({ productName: \"2 x Product B2\" }),\n            {\n                content: \"Verify the combo product's price\",\n                trigger: 'div[name=\"website_sale_cart_line_price\"]:contains(62.00)',\n            },\n        ],\n   });\n", "import { registry } from '@web/core/registry';\nimport * as wsTourUtils from '@website_sale/js/tours/tour_utils';\n\nregistry\n    .category('web_tour.tours')\n    .add('website_sale_combo_configurator_single_configurable_item', {\n        url: '/shop?search=Combo product',\n        steps: () => [\n            ...wsTourUtils.addToCart({ productName: \"Combo product\", search: false }),\n            {\n                content: \"Assert that the combo configurator is shown\",\n                trigger: '.sale-combo-configurator-dialog',\n            },\n        ],\n   });\n", "import { registry } from '@web/core/registry';\nimport * as wsTourUtils from '@website_sale/js/tours/tour_utils';\n\nregistry\n    .category('web_tour.tours')\n    .add('website_sale_combo_configurator_single_configuration', {\n        url: '/shop?search=Combo product',\n        steps: () => [\n            ...wsTourUtils.addToCart({ productName: \"Combo product\", search: false }),\n            wsTourUtils.goToCart(),\n            // Assert that the combo configurator wasn't shown.\n            wsTourUtils.assertCartContains({ productName: \"Combo product\" }),\n            wsTourUtils.assertCartContains({ productName: \"1 x Test product\" }),\n        ],\n   });\n", "/** @odoo-module **/\n\n    import { rpc } from \"@web/core/network/rpc\";\n    import { registry } from \"@web/core/registry\";\n    import * as tourUtils from \"@website_sale/js/tours/tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('website_sale_tour_1', {\n        url: '/shop?search=Storage Box Test',\n        steps: () => [\n    // Testing b2c with Tax-Excluded Prices\n    {\n        content: \"Open product page\",\n        trigger: '.oe_product_cart a:contains(\"Storage Box Test\")',\n        run: \"click\",\n    },\n    {\n        content: \"Add one more storage box\",\n        trigger: '.js_add_cart_json:eq(1)',\n        run: \"click\",\n    },\n    {\n        content: \"Check b2b Tax-Excluded Prices\",\n        trigger: \".product_price .oe_price .oe_currency_value:contains(/^79.00$/)\",\n    },\n    {\n        content: \"Click on add to cart\",\n        trigger: '#add_to_cart',\n        run: \"click\",\n    },\n        tourUtils.goToCart({quantity: 2}),\n    {\n        content: \"Check for 2 products in cart\",\n        trigger:\n            '#cart_products div:has(a>h6:contains(\"Storage Box Test\")) input.js_quantity:value(2)',\n    },\n    ...tourUtils.assertCartAmounts({\n        taxes: '23.70',\n        untaxed: '158.00',\n        total: '181.70',\n    }),\n    {\n        content: \"Proceed to checkout\",\n        trigger: 'a[href*=\"/shop/checkout\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Fulfill delivery address form\",\n        trigger: 'select[name=\"country_id\"]',\n        run: \"selectByLabel Afghanistan\",\n    },\n    {\n        trigger: `input[name=\"name\"]`,\n        run: \"edit abcd\",\n    },\n    {\n        trigger: `input[name=\"phone\"]`,\n        run: \"edit 99999999\",\n    },\n    {\n        trigger: `input[name=\"email\"]`,\n        run: \"edit abc@odoo.com\",\n    },\n    {\n        trigger: `input[name=\"street\"]`,\n        run: \"edit SO1 Delivery Street, 33\",\n    },\n    {\n        trigger: `input[name=\"city\"]`,\n        run: \"edit SO1DeliveryCity\",\n    },\n    {\n        trigger: `input[name=\"zip\"]`,\n        run: \"edit 10000\",\n    },\n    {\n        content: \"Click on next button\",\n        trigger: '.oe_cart .btn:contains(\"Continue checkout\")',\n        run: \"click\",\n    },\n    {\n        content: \"Billing address is not same as delivery address\",\n        trigger: '#use_delivery_as_billing',\n        run: \"click\",\n    },\n    {\n        content: \"Add a billing address\",\n        trigger: '.all_billing a[href^=\"/shop/address\"]:contains(\"Add address\")',\n        run: \"click\",\n    },\n    {\n        trigger: 'h3:contains(\"Billing address\")',\n    },\n    {\n        content: \"Fulfill billing address form\",\n        trigger: 'select[name=\"country_id\"]',\n        run: \"selectByLabel Afghanistan\",\n    },\n    {\n        trigger: `input[name=\"name\"]`,\n        run: \"edit def\",\n    },\n    {\n        trigger: `input[name=\"phone\"]`,\n        run: \"edit 8888888888\",\n    },\n    {\n        trigger: `input[name=\"email\"]`,\n        run: \"edit abc@odoo.com\",\n    },\n    {\n        trigger: `input[name=\"street\"]`,\n        run: \"edit 17, SO1 Billing Road\",\n    },\n    {\n        trigger: `input[name=\"city\"]`,\n        run: \"edit SO1BillingCity\",\n    },\n    {\n        trigger: `input[name=\"zip\"]`,\n        run: \"edit 10000\",\n    },\n    {\n        content: \"Click on next button\",\n        trigger: '.oe_cart .btn:contains(\"Save address\")',\n        run: \"click\",\n    },\n    {\n        content: \"Check selected delivery address is same as typed in previous step\",\n        trigger: '#delivery_address_row:contains(SO1 Delivery Street, 33):contains(SO1DeliveryCity):contains(Afghanistan)',\n    },\n    {\n        content: \"Check selected billing address is same as typed in previous step\",\n        trigger: '#billing_address_row:contains(17, SO1 Billing Road):contains(SO1BillingCity):contains(Afghanistan)',\n    },\n    {\n        content: \"Click for edit billing address\",\n        trigger: '.all_billing .js_edit_address:first',\n        run: \"click\",\n    },\n    {\n        trigger: 'h3:contains(\"Billing address\")',\n    },\n    {\n        content: \"Change billing address form\",\n        trigger: 'select[name=\"country_id\"]',\n    },\n    {\n        trigger: `input[name=\"name\"]`,\n        run: \"edit abcd\",\n    },\n    {\n        trigger: `input[name=\"phone\"]`,\n        run: \"edit 11111111\",\n    },\n    {\n        trigger: `input[name=\"street\"]`,\n        run: \"edit SO1 Billing Street Edited, 33\",\n    },\n    {\n        trigger: `input[name=\"city\"]`,\n        run: \"edit SO1BillingCityEdited\",\n    },\n    {\n        content: \"Click on next button\",\n        trigger: '.oe_cart .btn:contains(\"Save address\")',\n        run: \"click\",\n    },\n        tourUtils.confirmOrder(),\n    {\n        content: \"Check selected billing address is same as typed in previous step\",\n        trigger: '#delivery_and_billing :contains(Billing:):contains(SO1 Billing Street Edited, 33):contains(SO1BillingCityEdited):contains(Afghanistan)',\n    },\n    {\n        content: \"Select `Wire Transfer` payment method\",\n        trigger: 'input[name=\"o_payment_radio\"][data-payment-method-code=\"wire_transfer\"]',\n        run: \"click\",\n    },\n    {\n        trigger:\n            'input[name=\"o_payment_radio\"][data-payment-method-code=\"wire_transfer\"]:checked',\n    },\n    {\n        content: \"Pay Now\",\n        trigger: 'button[name=\"o_payment_submit_button\"]:not(:disabled)',\n        run: \"click\",\n    },\n    {\n        content: \"Sign up\",\n        trigger: '.oe_cart a:contains(\"Sign Up\")',\n        run: \"click\",\n    },\n    {\n        trigger: `.oe_signup_form input[name=\"password\"]`,\n        run: \"edit 1admin@admin\",\n    },\n    {\n        trigger: `.oe_signup_form input[name=\"confirm_password\"]`,\n        run: \"edit 1admin@admin\",\n    },\n    {\n        content: \"Submit login\",\n        trigger: `.oe_signup_form button[type=\"submit\"]`,\n        run: \"click\",\n    },\n    {\n        content: \"See Quotations\",\n        trigger: '.o_portal_docs a:contains(\"Quotations to review\")',\n        run: \"click\",\n    },\n    // Sign in as admin change config auth_signup -> b2b, sale_show_tax -> total and Logout\n    {\n        trigger: \".o_header_standard:not(.o_transitioning)\",\n    },\n    {\n        content: \"Open Dropdown for logout\",\n        trigger: 'header#top li.dropdown:visible a:contains(\"abcd\")',\n        run: \"click\",\n    },\n    {\n        content: \"Logout\",\n        trigger: '#o_logout:contains(\"Logout\")',\n        run: \"click\",\n    },\n    {\n        content: \"Sign in as admin\",\n        trigger: 'header a[href=\"/web/login\"]',\n        run: \"click\",\n    },\n    {\n        trigger: `.oe_login_form input[name=\"login\"]`,\n        run: \"edit admin\",\n    },\n    {\n        trigger: `.oe_login_form input[name=\"password\"]`,\n        run: \"edit admin\",\n    },\n    {\n        trigger: `.oe_login_form input[name=\"redirect\"]:not(:visible)`,\n        run(helpers) {\n            this.anchor.value = \"/\";\n        },\n    },\n    {\n        content: \"Submit login\",\n        trigger: `.oe_login_form button[type=\"submit\"]`,\n        run: \"click\"\n    },\n    {\n        trigger: \".o_frontend_to_backend_nav\", // Check if the user is connected\n    },\n    {\n        content: \"Configuration Settings for 'Tax Included' and sign up 'On Invitation'\",\n        trigger: '#wrapwrap',\n        run: function () {\n            var def1 = rpc(`/web/dataset/call_kw/res.config.settings/create`, {\n                model: \"res.config.settings\",\n                method: \"create\",\n                args: [{\n                    'auth_signup_uninvited': 'b2b',\n                    'show_line_subtotals_tax_selection': 'tax_included',\n                }],\n                kwargs: {},\n            });\n            var def2 = def1.then(function (resId) {\n                return rpc(`/web/dataset/call_kw/res.config.settings/execute`, {\n                    model: \"res.config.settings\",\n                    method: \"execute\",\n                    args: [[resId]],\n                    kwargs: {},\n                });\n            });\n            def2.then(function () {\n                window.location.href = '/web/session/logout?redirect=/shop?search=Storage Box Test';\n            });\n        },\n    },\n    // Testing b2b with Tax-Included Prices\n    {\n        content: \"Open product page\",\n        trigger: '.oe_product_cart a:contains(\"Storage Box Test\")',\n        run: \"click\",\n    },\n    {\n        content: \"Add one more Storage Box Test\",\n        trigger: '.js_add_cart_json:eq(1)',\n        run: \"click\",\n    },\n    {\n        content: \"Check b2c Tax-Included Prices\",\n        trigger: \".product_price .oe_price .oe_currency_value:contains(/^90.85$/)\",\n    },\n    {\n        content: \"Click on add to cart\",\n        trigger: '#add_to_cart',\n        run: \"click\",\n    },\n        tourUtils.goToCart({quantity: 2}),\n        {\n            content: \"Check for 2 products in cart\",\n            trigger:\n                '#cart_products div:has(a>h6:contains(\"Storage Box Test\")) input.js_quantity:value(2)',\n        },\n        ...tourUtils.assertCartAmounts({\n            taxes: \"23.70\",\n            untaxed: \"158.00\",\n            total: \"181.70\",\n        }),\n        {\n            content: \"Proceed to checkout\",\n            trigger: 'a[href*=\"/shop/checkout\"]',\n            run: \"click\",\n        },\n    {\n        content: \"Click on Sign in Button\",\n        trigger: `.oe_cart a:contains(Sign in)`,\n        run: \"click\",\n    },\n    {\n        trigger: `.oe_login_form input[name=\"login\"]`,\n        run: \"edit abc@odoo.com\",\n    },\n    {\n        trigger: `.oe_login_form input[name=\"password\"]`,\n        run: \"edit 1admin@admin\",\n    },\n    {\n        content: \"Submit login\",\n        trigger: `.oe_login_form button[type=\"submit\"]`,\n        run: \"click\",\n    },\n    {\n        content: \"Add new delivery address\",\n        trigger: '.all_delivery a[href^=\"/shop/address\"]:contains(\"Add address\")',\n        run: \"click\",\n    },\n    {\n        content: \"Fulfill delivery address form\",\n        trigger: 'select[name=\"country_id\"]',\n        run: \"selectByLabel Afghanistan\",\n    },\n    {\n        trigger: `input[name=\"name\"]`,\n        run: \"edit ghi\",\n    },\n    {\n        trigger: `input[name=\"phone\"]`,\n        run: \"edit 7777777777\",\n    },\n    {\n        trigger: `input[name=\"street\"]`,\n        run: \"edit SO2New Delivery Street, 5\",\n    },\n    {\n        trigger: `input[name=\"city\"]`,\n        run: \"edit SO2NewDelivery\",\n    },\n    {\n        trigger: `input[name=\"zip\"]`,\n        run: \"edit 1200\",\n    },\n    {\n        content: \"Click on next button\",\n        trigger: '.oe_cart .btn:contains(\"Save address\")',\n        run: \"click\",\n    },\n        tourUtils.confirmOrder(),\n    {\n        content: \"Select `Wire Transfer` payment method\",\n        trigger: 'input[name=\"o_payment_radio\"][data-payment-method-code=\"wire_transfer\"]',\n        run: \"click\",\n    },\n    {\n        trigger: 'input[name=\"o_payment_radio\"][data-payment-method-code=\"wire_transfer\"]:checked',\n    },\n    {\n        content: \"Pay Now\",\n        trigger: 'button[name=\"o_payment_submit_button\"]:not(:disabled)',\n        run: \"click\",\n    },\n    {\n        trigger: '.oe_cart .oe_website_sale_tx_status',\n    },\n    {\n        content: \"Open Dropdown for See quotation\",\n        trigger: 'header#top li.dropdown:visible a:contains(\"abc\")',\n        run: \"click\",\n    },\n    {\n        trigger: \"header#top li.dropdown .js_usermenu.show\",\n    },\n    {\n        content: \"My account\",\n        trigger: 'header#top .dropdown-menu a[href=\"/my/home\"]:visible',\n        run: \"click\",\n    },\n\n    // enable extra step on website checkout and check extra step on checkout process\n    {\n        trigger: \".o_header_standard:not(.o_transitioning)\",\n    },\n    {\n        content: \"Open Dropdown for logout\",\n        trigger: 'header#top li.dropdown:visible a:contains(\"abc\")',\n        run: \"click\",\n    },\n    {\n        content: \"Logout\",\n        trigger: '#o_logout:contains(\"Logout\")',\n        run: \"click\",\n    },\n    {\n        content: \"Sign in as admin\",\n        trigger: 'header a[href=\"/web/login\"]',\n        run: \"click\",\n    },\n    {\n        trigger: `.oe_login_form input[name=\"login\"]`,\n        run: \"edit admin\",\n    },\n    {\n        trigger: `.oe_login_form input[name=\"password\"]`,\n        run: \"edit admin\",\n    },\n    {\n        trigger: `.oe_login_form input[name=\"redirect\"]:not(:visible)`,\n        run(helpers) {\n            this.anchor.value = \"/shop/cart\";\n        },\n    },\n    {\n        content: \"Submit login\",\n        trigger: `.oe_login_form button[type=\"submit\"]`,\n        run: \"click\",\n    }]});\n\n    registry.category(\"web_tour.tours\").add('website_sale_tour_2', {\n        url: '/shop/cart',\n        steps: () => [\n    {\n        trigger: '.o_wizard:contains(\"Extra Info\")',\n    },\n    {\n        content: \"Open Dropdown for logout\",\n        trigger: 'header#top li.dropdown:visible a:contains(\"Mitchell Admin\")',\n        run: \"click\",\n    },\n    {\n        content: \"Logout\",\n        trigger: '#o_logout:contains(\"Logout\")',\n        run: \"click\",\n    },\n    {\n        content: \"Sign in as abc\",\n        trigger: 'header a[href=\"/web/login\"]',\n        run: \"click\",\n    },\n    {\n        trigger: `.oe_login_form input[name=\"login\"]`,\n        run: \"edit abc@odoo.com\",\n    },\n    {\n        trigger: `.oe_login_form input[name=\"password\"]`,\n        run: \"edit 1admin@admin\",\n    },\n    {\n        trigger: `.oe_login_form input[name=\"redirect\"]:not(:visible)`,\n        run(helpers) {\n            this.anchor.value = \"/shop?search=Storage Box Test\";\n        },\n    },\n    {\n        content: \"Submit login\",\n        trigger: `.oe_login_form button[type=\"submit\"]`,\n        run: \"click\",\n    },\n    {\n        content: \"Open product page\",\n        trigger: '.oe_product_cart a:contains(\"Storage Box Test\")',\n        run: \"click\",\n    },\n    {\n        content: \"Click on add to cart\",\n        trigger: '#add_to_cart',\n        run: \"click\",\n    },\n        tourUtils.goToCart(),\n        tourUtils.goToCheckout(),\n    {\n        content: \"Click on 'Confirm' button (redirect to the 'extra info' form)\",\n        trigger: 'a[href^=\"/shop/extra_info\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Click on 'Continue checkout' button\",\n        trigger: '.oe_cart .btn:contains(\"Continue checkout\")',\n        run: \"click\",\n    },\n    ...tourUtils.payWithTransfer(),\n    {\n        content: \"Check payment status confirmation window\",\n        trigger: \".oe_website_sale_tx_status[data-order-tracking-info]\",\n    }]});\n", "/** @odoo-module **/\n\nimport { clickOnSave, registerWebsitePreviewTour } from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('website_sale_tour_backend', {\n    url: '/shop/cart',\n    edition: true,\n}, () => [\n        {\n            content: \"open customize tab\",\n            trigger: '.o_we_customize_snippet_btn',\n            run: \"click\",\n        },\n        {\n            trigger: \"#oe_snippets .o_we_customize_panel\",\n        },\n        {\n            content: \"Enable Extra step\",\n            trigger: '[data-customize-website-views=\"website_sale.extra_info\"] we-checkbox',\n            run: \"click\",\n        },\n        ...clickOnSave(),\n    ],\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_sale_fiscal_position_portal_tour', {\n    url: '/shop?search=Super%20Product',\n    steps: () => [\n        {\n            content: \"Check price\",\n            trigger: \".oe_product:contains('Super product') .product_price:contains('80.00')\",\n        },\n]});\n\nregistry.category(\"web_tour.tours\").add('website_sale_fiscal_position_public_tour', {\n    url: '/shop?search=Super%20Product',\n    steps: () => [\n        {\n            content: \"Toggle Pricelist\",\n            trigger: \".o_pricelist_dropdown > .dropdown-toggle\",\n            run: 'click',\n        },\n        {\n            content: \"Change Pricelist\",\n            trigger: \".dropdown-item:contains('EUROPE EUR')\",\n            run: 'click',\n        },\n        {\n            content: \"Check price\",\n            trigger: \".oe_product:contains('Super product') .product_price:contains('92.00')\",\n        },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport * as tourUtils from \"@website_sale/js/tours/tour_utils\";\n\nodoo.loader.bus.addEventListener(\"module-started\", (e) => {\n    if (e.detail.moduleName === \"@website_sale/js/website_sale_tracking\") {\n        //import websiteSaleTracking from \"@website_sale/js/website_sale_tracking\";\n        e.detail.module[Symbol.for(\"default\")].include({\n            // Purposely don't call super to avoid call to third party (GA) during tests\n            _onViewItem(event, data) {\n                document.body.setAttribute(\"view-event-id\", data.item_id);\n            },\n            _onAddToCart(event, data) {\n                document.body.setAttribute(\"cart-event-id\", data.item_id);\n            },\n        });\n    }\n});\n\nlet itemId;\n\n\nregistry.category(\"web_tour.tours\").add('google_analytics_view_item', {\n    url: '/shop?search=Colored T-Shirt',\n    steps: () => [\n    {\n        content: \"select Colored T-Shirt\",\n        trigger: '.oe_product_cart a:contains(\"Colored T-Shirt\")',\n        run: \"click\",\n    },\n    {\n        content: \"wait until `_getCombinationInfo()` rpc is done\",\n        trigger: 'body[view-event-id]',\n        timeout: 25000,\n        run: () => {\n            itemId = document.body.getAttribute(\"view-event-id\");\n        }\n    },\n    {\n        content: 'select another variant',\n        trigger:\n            \"ul.js_add_cart_variants ul.list-inline li:has(label.active) + li:has(label) input:not(:visible)\",\n        run: \"click\",\n    },\n    {\n        content: 'wait until `_getCombinationInfo()` rpc is done (2)',\n        // a new view event should have been generated, for another variant\n        trigger: `body[view-event-id]:not([view-event-id=\"${itemId}\"])`,\n        timeout: 25000,\n    },\n]});\n\nregistry.category(\"web_tour.tours\").add('google_analytics_add_to_cart', {\n    url: '/shop?search=Basic Shirt',\n    steps: () => [\n    ...tourUtils.addToCart({productName: 'Basic Shirt', search: false}),\n    {\n        trigger: \"body[cart-event-id]\",\n    },\n    {\n        content: 'check add to cart event',\n        trigger: \"a:has(.my_cart_quantity:contains(/^1$/))\",\n        timeout: 25000,\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport configuratorTourUtils from \"@sale/js/tours/product_configurator_tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('website_sale_product_configurator_optional_products_tour', {\n    steps: () => [\n        {\n            trigger: 'ul.js_add_cart_variants span:contains(\"Aluminium\") ~ span.badge:contains(\"50.40\")',\n        },\n        {\n    content: 'Click Aluminium Option',\n    trigger: 'ul.js_add_cart_variants span:contains(\"Aluminium\")',\n    run: \"click\",\n}, {\n    content: 'Add to cart',\n    trigger: '#add_to_cart',\n    run: \"click\",\n},\nconfiguratorTourUtils.assertPriceTotal(\"800.40\"),\n]});\n", "import { registry } from '@web/core/registry';\nimport configuratorTourUtils from '@sale/js/tours/product_configurator_tour_utils';\nimport websiteConfiguratorTourUtils from '@website_sale/js/tours/product_configurator_tour_utils';\nimport * as wsTourUtils from '@website_sale/js/tours/tour_utils';\n\nregistry\n    .category('web_tour.tours')\n    .add('website_sale_product_configurator_strikethrough_price', {\n        url: '/shop?search=Main product',\n        steps: () => [\n            ...wsTourUtils.addToCart({ productName: \"Main product\", search: false }),\n            configuratorTourUtils.assertProductPrice(\"Main product\", '55.00'),\n            websiteConfiguratorTourUtils.assertProductStrikethroughPrice(\"Main product\", '110.00'),\n            configuratorTourUtils.assertOptionalProductPrice(\"Optional product\", '5.50'),\n            websiteConfiguratorTourUtils.assertOptionalProductStrikethroughPrice(\n                \"Optional product\", '10.00'\n            ),\n        ],\n   });\n", "import { registry } from '@web/core/registry';\nimport configuratorTourUtils from '@sale/js/tours/product_configurator_tour_utils';\nimport websiteConfiguratorTourUtils from '@website_sale/js/tours/product_configurator_tour_utils';\nimport * as wsTourUtils from '@website_sale/js/tours/tour_utils';\n\nregistry\n    .category('web_tour.tours')\n    .add('website_sale_product_configurator_zero_priced', {\n        url: '/shop?search=Main product',\n        steps: () => [\n            ...wsTourUtils.addToCart({ productName: \"Main product\", search: false }),\n            // Assert that the \"Zero-priced\" variant of the optional product can't be sold.\n            ...websiteConfiguratorTourUtils.assertOptionalProductZeroPriced(\n                \"Optional product (Zero-priced)\"\n            ),\n            // Add the \"Zero-priced\" variant by selecting the \"Nonzero-priced\" variant, adding it,\n            // and selecting the \"Zero-priced\" variant again.\n            configuratorTourUtils.selectAttribute(\"Optional product\", \"Price\", \"Nonzero-priced\"),\n            configuratorTourUtils.addOptionalProduct(\"Optional product (Nonzero-priced)\"),\n            configuratorTourUtils.selectAttribute(\"Optional product\", \"Price\", \"Zero-priced\"),\n            // Assert that the \"Zero-priced\" variant of the optional product still can't be sold.\n            ...websiteConfiguratorTourUtils.assertProductZeroPriced(\"Optional product (Zero-priced)\"),\n            configuratorTourUtils.assertFooterButtonsDisabled(),\n        ],\n    });\n", "import { registry } from \"@web/core/registry\";\n\nregistry\n    .category('web_tour.tours')\n    .add('website_sale_product_reviews_reactions_public', {\n        url: '/shop?search=Storage Box Test',\n        steps: () => [\n            {\n                trigger: '.oe_product_cart a:contains(\"Storage Box Test\")',\n                run: \"click\",\n            },\n            {\n                trigger: '.o_product_page_reviews_title',\n                run: \"click\",\n            },\n            {\n                trigger: \"#chatterRoot:shadow .o-mail-Message-textContent:contains(Bad box!)\",\n                run: \"hover && click\",\n            },\n            {\n                trigger: \"#chatterRoot:shadow .o-mail-Message-actions\",\n                run: async () => {\n                    const addReactionButton = document.querySelector('#chatterRoot').shadowRoot.querySelector(\"[title='Add a Reaction']\")\n                    if (addReactionButton) {\n                        throw new Error(\"Non-authenticated user should not be able to add a reaction to a message\");\n                    }\n                },\n            },\n            {\n                trigger: \"#chatterRoot:shadow .o-mail-Message-core\",\n                run: () => {\n                    const reactionButton = document.querySelector(\"#chatterRoot\").shadowRoot.querySelector(\".o-mail-MessageReaction\")\n                    reactionButton.dispatchEvent(new Event(\"mouseenter\"));\n                },\n            },\n            {\n                trigger: \"#chatterRoot:shadow .o-mail-MessageReactionList-preview\",\n                run: \"click\",\n            },\n            {\n                trigger: \"#chatterRoot:shadow .o-mail-MessageReactionMenu\",\n            },\n            {\n                trigger: \"#chatterRoot:shadow .o-mail-Message-core\",\n                run: () => {\n                    const addReaction = document.querySelector(\"#chatterRoot\").shadowRoot.querySelector(\".o-mail-MessageReactions-add\")\n                    if (addReaction) {\n                        throw new Error(\"Non-authenticated user should not be able to add a reaction to a message\");\n                    }\n                },\n            },\n        ],\n   });\n", "/** @odoo-module **/\n\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst clickOnImgAndWaitForLoad = [\n    {\n        content: \"Click on the product image\",\n        trigger: \":iframe #o-carousel-product img[alt='Test Remove Image']\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the snippet editor of the clicked image has been loaded\",\n        trigger: \"we-customizeblock-options:has(we-title:contains('Re-order'))\",\n    },\n];\nconst enterEditModeOfTestProduct = () => [\n    stepUtils.waitIframeIsReady(),\n    {\n        content: \"Click on the product anchor\",\n        trigger: \":iframe a:contains('Test Remove Image')\",\n        run: \"click\",\n    },\n    ...clickOnEditAndWaitEditMode(),\n];\n\nconst removeImg = [\n    {\n        content: \"Click on Remove\",\n        trigger: \"we-customizeblock-options:has(we-title:contains('Image')) we-button[data-name='media_wsale_remove']\",\n        run: \"click\",\n    },\n    // If the snippet editor is not visible, the remove process is considered as\n    // finished.\n    {\n        content: \"Check that the snippet editor is not visible\",\n        trigger: \".o_we_customize_panel:not(:has(we-customizeblock-options:has(we-title:contains('Re-order'))))\",\n    },\n];\n\nregisterWebsitePreviewTour(\"add_and_remove_main_product_image_no_variant\", {\n    url: \"/shop?search=Test Remove Image\",\n}, () => [\n    ...enterEditModeOfTestProduct(),\n    {\n        content: \"Double click on the product image\",\n        trigger: \":iframe #o-carousel-product img[alt='Test Remove Image']\",\n        run: \"dblclick\",\n    },\n    {\n        content: \"Click on the new image\",\n        trigger: \".o_select_media_dialog img[title='s_default_image.jpg']\",\n        run: \"click\",\n    },\n    {\n        content: \"Check that the snippet editor of the clicked image has been loaded\",\n        trigger: \"we-customizeblock-options:has(we-title:contains('Re-order'))\",\n    },\n    ...removeImg,\n]);\nregisterWebsitePreviewTour(\"remove_main_product_image_with_variant\", {\n    url: \"/shop?search=Test Remove Image\",\n}, () => [\n    ...enterEditModeOfTestProduct(),\n    ...clickOnImgAndWaitForLoad,\n    ...clickOnSave(),\n    ...clickOnEditAndWaitEditMode(),\n    ...clickOnImgAndWaitForLoad,\n    ...removeImg,\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { assertCartContains } from '@website_sale/js/tours/tour_utils';\nimport { clickOnElement } from '@website/js/tours/tour_utils';\n\nregistry.category(\"web_tour.tours\").add('website_sale_reorder_from_portal', {\n        url: '/my/orders',\n        steps: () => [\n        // Initial reorder, nothing in cart\n        {\n            content: 'Select first order',\n            trigger: '.o_portal_my_doc_table a:first',\n            run: \"click\",\n        },\n        clickOnElement('Reorder Again', '.o_wsale_reorder_button'),\n        clickOnElement('Confirm', '.o_wsale_reorder_confirm'),\n        assertCartContains({productName: 'Reorder Product 1'}),\n        assertCartContains({productName: 'Reorder Product 2'}),\n        {\n            content: \"Check that quantity is 1\",\n            trigger: \".js_quantity[value='1']\",\n            run: \"edit Test\",\n        },\n        // Second reorder, add reorder to cart\n        {\n            content: \"Go back to my orders\",\n            trigger: \"body\",\n            run() {\n                window.location = \"/my/orders\";\n            }\n        },\n        {\n            content: 'Select first order',\n            trigger: '.o_portal_my_doc_table a:first',\n            run: \"click\",\n        },\n        clickOnElement('Reorder Again', '.o_wsale_reorder_button'),\n        clickOnElement('Confirm', '.o_wsale_reorder_confirm'),\n        clickOnElement('No', 'button:contains(No)'),\n        assertCartContains({productName: 'Reorder Product 1'}),\n        assertCartContains({productName: 'Reorder Product 2'}),\n        {\n            content: \"Check that quantity is 2\",\n            trigger: \".js_quantity[value='2']\",\n            run: \"edit Test\",\n        },\n        // Third reorder, clear cart and reorder\n        {\n            content: \"Go back to my orders\",\n            trigger: \"body\",\n            run() {\n                window.location = \"/my/orders\";\n            }\n        },\n        {\n            content: 'Select first order',\n            trigger: '.o_portal_my_doc_table a:first',\n            run: \"click\",\n        },\n        clickOnElement('Reorder Again', '.o_wsale_reorder_button'),\n        clickOnElement('Confirm', '.o_wsale_reorder_confirm'),\n        clickOnElement('Yes', 'button:contains(Yes)'),\n        assertCartContains({productName: 'Reorder Product 1'}),\n        assertCartContains({productName: 'Reorder Product 2'}),\n        {\n            content: \"Check that quantity is 1\",\n            trigger: \".js_quantity[value='1']\",\n        },\n        // Fourth reorder making sure confirmation dialog doesn't pop up unnecessary\n        {\n            content: \"Deleting All products from cart\",\n            trigger: 'div.js_cart_lines',\n            run: async () => {\n                $('a.js_delete_product:first').click();\n                await new Promise((r) => setTimeout(r, 1000));\n                $('a.js_delete_product:first').click();\n                await new Promise((r) => setTimeout(r, 1000));\n                $('a.js_delete_product:first').click();\n                await new Promise((r) => setTimeout(r, 1000));\n                $('a.js_delete_product:first').click();\n                await new Promise((r) => setTimeout(r, 1000));\n            }\n        },\n        {\n            content: \"Go to my orders\",\n            trigger: 'body',\n            run: () => {\n                window.location = '/my/orders';\n            }\n        },\n        {\n            content: \"Select first order\",\n            trigger: '.o_portal_my_doc_table a:first',\n            run: \"click\",\n        },\n        clickOnElement('Reorder Again', '.o_wsale_reorder_button'),\n        clickOnElement('Confirm', '.o_wsale_reorder_confirm'),\n        assertCartContains({productName: 'Reorder Product 1'}),\n        {\n            content: \"Check that quantity is 1\",\n            trigger: \".js_quantity[value='1']\",\n        },\n    ]\n});\n", "/** @odoo-modules */\n\nimport { registerWebsitePreviewTour } from '@website/js/tours/tour_utils';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregisterWebsitePreviewTour('website_sale_restricted_editor_ui', {\n    url: `/shop`,\n}, () => [\n    {\n        content: \"Open the site menu to check what is inside\",\n        trigger: '[data-menu-xmlid=\"website.menu_site\"]',\n        run: \"click\",\n    },\n    {\n        // Not very robust but still nice to have an extra check as this is the\n        // main purpose of this tour\n        content: \"First check the user is not a designer\",\n        trigger: '.dropdown-menu:has([data-menu-xmlid=\"website_sale.menu_product_pages\"]):not(:has([data-menu-xmlid=\"website.menu_website_pages_list\"]))',\n        run: \"click\",\n    },\n    {\n        // Wait for the possibility to edit to appear\n        trigger: \".o_menu_systray .o_edit_website_container a\",\n    },\n    {\n        content: \"Ensure the publish and 'edit-in-backend' buttons are not shown\",\n        trigger: '.o_menu_systray:not(:has(.form-switch)):not(:has(.o_website_edit_in_backend))',\n        run: \"click\",\n    },\n    stepUtils.waitIframeIsReady(),\n    {\n        content: \"Navigate to the first product\",\n        trigger: ':iframe .oe_product_image_link',\n        run: \"click\",\n    },\n    {\n        content: \"Click on publish/unpublish\",\n        trigger: '.o_website_publish_container a:has(input:checked)',\n        run: \"click\",\n    },\n    {\n        trigger:\n            \".o_menu_systray_item:not([data-processing]) .form-switch:has(input:not(:checked))\",\n    },\n    {\n        content: \"Click on edit-in-backend\",\n        trigger: '.o_menu_systray .o_website_edit_in_backend a',\n        run: \"click\",\n    },\n    {\n        content: \"Check that you landed on a form view and that the record was unpublished\",\n        trigger: '.o-form-buttonbox [name=\"is_published\"] .fa-globe.text-danger',\n    },\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nfunction fail(errorMessage) {\n    const tour = registry.get(\"tourManager\");\n    tour._consume_tour(tour.running_tour, errorMessage);\n}\n\nfunction assert(current, expected, info) {\n    if (current !== expected) {\n        fail(info + ': \"' + current + '\" instead of \"' + expected + '\".');\n    }\n}\n\nregistry.category(\"web_tour.tours\").add('tour_shop_archived_variant_multi', {\n    url: '/shop?search=Test Product 2',\n    steps: () => [\n    {\n        content: \"select Test Product\",\n        trigger: \".oe_product_cart a:contains(/^Test Product 2$/)\",\n        run: \"click\",\n    },\n    {\n        content: 'click on the first variant',\n        trigger: 'input[data-attribute_name=\"Size\"][data-value_name=\"Small\"]',\n        run: \"click\",\n    },\n    {\n        content: \"click on the second variant\",\n        trigger: 'input[data-attribute_name=\"Color\"][data-value_name=\"Black\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Check that brand b is not available\",\n        trigger: '.css_not_available',\n    },\n    {\n        content: \"select brand b even though it's not available\",\n        trigger: 'input[data-attribute_name=\"Brand\"][data-value_name=\"Brand B\"]',\n        run: \"click\",\n    },\n    {\n        content: \"check combination is not possible\",\n        trigger: '.js_main_product.css_not_available .css_not_available_msg:contains(\"This combination does not exist.\")',\n    },\n    {\n        content: \"check add to cart not possible\",\n        trigger: '#add_to_cart.disabled',\n    },\n    {\n        content: \"change second variant to remove warning\",\n        trigger: 'input[data-attribute_name=\"Color\"][data-value_name=\"White\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Check that brand b is not available\",\n        trigger: '.css_not_available',\n    },\n    {\n        content: \"Check that second variant is disabled\",\n        trigger: '.css_not_available input[data-attribute_name=\"Color\"][data-value_name=\"Black\"]',\n    },\n]});\n\nregistry.category(\"web_tour.tours\").add('test_09_pills_variant', {\n    url: '/shop?search=Test Product 2',\n    steps: () => [\n    {\n        content: \"select Test Product\",\n        trigger: \".oe_product_cart a:contains(/^Test Product 2$/)\",\n        run: \"click\",\n    },\n    {\n        content: \"check there are two radio boxes, both hidden\",\n        trigger: '.js_main_product',\n        run: function() {\n            var buttons = [...document.querySelectorAll('input.js_variant_change')];\n\n            function isVisuallyHidden(elem) {\n                const style = window.getComputedStyle(elem);\n                return style.display === \"none\" ||\n                    style.visibility === \"hidden\" ||\n                    style.opacity === \"0\" ||\n                    (style.width === \"0px\" && style.height === \"0px\")\n            }\n\n            assert(buttons.length, 2, \"there should be two radio inputs\")\n            assert(isVisuallyHidden(buttons[0]), true, \"first radio input is not hidden\")\n            assert(isVisuallyHidden(buttons[1]), true, \"second radio input is not hidden\")\n            assert(buttons[0].checked, true, \"first radio input should be checked\")\n        },\n    },\n    {\n        content: \"click on the second variant label\",\n        trigger: 'label:contains(\"Small\")',\n        run: \"click\",\n    },\n    {\n        content: 'check second variant is selected',\n        trigger: 'li.o_variant_pills.active:contains(\"Small\")',\n        run: function () {\n            var button = [...document.querySelectorAll('input.js_variant_change[data-attribute_name=\"Size\"][data-value_name=\"Small\"]')];\n            assert(button.length, 1, \"there should be one radio input\")\n            assert(button[0].checked, true, \"the radio input should be checked\")\n        }\n    },\n]});\n", "/** @odoo-module **/\n\nimport { queryOne } from \"@odoo/hoot-dom\";\nimport { browser } from \"@web/core/browser/browser\";\nimport { registry } from \"@web/core/registry\";\nimport * as tourUtils from \"@website_sale/js/tours/tour_utils\";\n\nvar orderIdKey = 'website_sale.tour_shop_cart_recovery.orderId';\nvar recoveryLinkKey = 'website_sale.tour_shop_cart_recovery.recoveryLink';\n\nregistry.category(\"web_tour.tours\").add('shop_cart_recovery', {\n    url: '/shop',\n    steps: () => [\n        ...tourUtils.addToCart({productName: \"Acoustic Bloc Screens\"}),\n        tourUtils.goToCart(),\n    {\n        content: \"check product is in cart, get cart id, logout, go to login\",\n        trigger: 'div:has(a>h6:contains(\"Acoustic Bloc Screens\"))',\n        run: function () {\n            const orderId = document.querySelector(\".my_cart_quantity\").dataset[\"orderId\"];\n            browser.localStorage.setItem(orderIdKey, orderId);\n            window.location.href = \"/web/session/logout?redirect=/web/login\";\n        },\n    },\n    {\n        content: \"edit login input\",\n        trigger: '.oe_login_form input[name=\"login\"]',\n        run: \"edit admin\",\n    },\n    {\n        content: \"edit password input\",\n        trigger: '.oe_login_form input[name=\"password\"]',\n        run: \"edit admin\",\n    },\n    {\n        content: \"edit hidden redirect input\",\n        trigger: '.oe_login_form input[name=\"redirect\"]:hidden',\n        run() {\n            const orderId = browser.localStorage.getItem(orderIdKey);\n            const url = \"/odoo/action-sale.action_orders/\" + orderId;\n            this.anchor.value = url;\n        }\n    },\n    {\n        content: \"login as admin and go to the SO (backend)\",\n        trigger: \".oe_login_form .oe_login_buttons button:contains(log in)\",\n        run: \"click\",\n    },\n    {\n        content: \"click action\",\n        trigger: '.o_cp_action_menus .dropdown-toggle',\n        run: \"click\",\n    },\n    {\n        content: \"click Send an Email\",\n        trigger: \"span:contains(/^Send an email$/)\",\n        run: \"click\",\n    },\n    {\n        content: \"Wait the modal is opened and form is fullfilled\",\n        trigger: \".modal main .o_form_view_container [name=subject] input:value(/^S0/)\",\n    },\n    {\n        content: \"select template\",\n        trigger: \".mail-composer-template-dropdown-btn\",\n        run: \"click\",\n    },\n    {\n        content: 'Select the \"Ecommerce: Cart Recovery\" template from the list.',\n        trigger: '.mail-composer-template-dropdown.popover .o-dropdown-item:contains(\"Ecommerce: Cart Recovery\")',\n        run: 'click'\n    },\n    {\n        content: \"click Send email\",\n        trigger: '.btn.o_mail_send',\n        run: \"click\",\n    },\n    {\n        content: \"check the mail is sent, grab the recovery link, and logout\",\n        trigger: \".o-mail-Message-body a:contains(/^Resume order$/)\",\n        run: function () {\n            var link = queryOne('.o-mail-Message-body a:contains(\"Resume order\")').getAttribute('href');\n            browser.localStorage.setItem(recoveryLinkKey, link);\n            window.location.href = \"/web/session/logout?redirect=/\";\n        }\n    },\n    {\n        content: \"go to the recovery link\",\n        trigger: 'a[href=\"/web/login\"]',\n        run: function () {\n            const localStorage = browser.localStorage;\n            window.location.href = localStorage.getItem(recoveryLinkKey);\n        },\n    },\n    {\n        trigger: 'p:contains(\"This is your current cart\")',\n    },\n    {\n        content: \"check the page is working, click on restore\",\n        trigger: 'p:contains(\"restore\") a:contains(\"Click here\")',\n        run: \"click\",\n    },\n    {\n        content: \"check product is in restored cart\",\n        trigger: 'div>a>h6:contains(\"Acoustic Bloc Screens\")',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport * as tourUtils from '@website_sale/js/tours/tour_utils';\n\nregistry.category(\"web_tour.tours\").add('compare_list_price_price_list_display', {\n        url: '/shop?search=test_product',\n        steps: () => [\n        tourUtils.assertProductPrice(\"price_reduce\", \"1,000\", \"test_product_default\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"2,000\", \"test_product_with_compare_list_price\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"2,500\", \"test_product_with_compare_list_price\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"2,000\", \"test_product_with_pricelist\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"4,000\", \"test_product_with_pricelist_and_compare_list_price\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"4,500\", \"test_product_with_pricelist_and_compare_list_price\"),\n\n        ...tourUtils.selectPriceList('pricelist_with_discount'),\n\n        tourUtils.assertProductPrice(\"price_reduce\", \"1,000\", \"test_product_default\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"2,000\", \"test_product_with_compare_list_price\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"2,500\", \"test_product_with_compare_list_price\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"1,500\", \"test_product_with_pricelist\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"3,500\", \"test_product_with_pricelist_and_compare_list_price\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"4,000\", \"test_product_with_pricelist_and_compare_list_price\"),\n\n        ...tourUtils.selectPriceList('pricelist_without_discount'),\n\n        tourUtils.assertProductPrice(\"price_reduce\", \"1,000\", \"test_product_default\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"2,000\", \"test_product_with_compare_list_price\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"2,500\", \"test_product_with_compare_list_price\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"1,500\", \"test_product_with_pricelist\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"2,000\", \"test_product_with_pricelist\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"3,500\", \"test_product_with_pricelist_and_compare_list_price\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"4,000\", \"test_product_with_pricelist_and_compare_list_price\"),\n\n    ]\n});\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n\n    registry.category(\"web_tour.tours\").add(\"shop_custom_attribute_value\", {\n        url: \"/shop?search=Customizable Desk\",\n        steps: () => [{\n        content: \"click on Customizable Desk\",\n        trigger: '.oe_product_cart a:contains(\"Customizable Desk (TEST)\")',\n        run: \"click\",\n    },\n    {\n        trigger: \"li.js_attribute_value\",\n    },\n    {\n        trigger: 'li.js_attribute_value span:contains(Custom)',\n        run: 'click',\n    }, {\n        trigger: 'input.variant_custom_value',\n        run: \"edit Wood\",\n    }, {\n        id: 'add_cart_step',\n        trigger: 'a:contains(Add to cart)',\n        run: 'click',\n    },\n    {\n        trigger: 'button:contains(Proceed to Checkout)',\n        run: 'click',\n    },\n    {\n        trigger: \"#cart_products\",\n    },\n    {\n        trigger: 'span:contains(Custom: Wood)',\n    }]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport configuratorTourUtils from \"@sale/js/tours/product_configurator_tour_utils\";\nimport * as tourUtils from '@website_sale/js/tours/tour_utils';\n\nlet optionVariantImage;\n\nregistry.category(\"web_tour.tours\").add(\"a_shop_custom_attribute_value\", {\n    url: \"/shop?search=Customizable Desk\",\n    steps: () => [{\n        content: \"click on Customizable Desk\",\n        trigger: '.oe_product_cart a:contains(\"Customizable Desk (TEST)\")',\n        run: \"click\",\n}, {\n    trigger: 'a.js_add_cart_json:has(i.fa-plus)',\n    run: 'click',\n}, {\n    trigger: 'span.oe_currency_value:contains(750)',\n}, {\n    id: 'add_cart_step',\n    trigger: 'a:contains(Add to cart)',\n    run: 'click',\n}, {\n    trigger: configuratorTourUtils.optionalProductSelector(\"Conference Chair (TEST) (Steel)\"),\n    run: function () {\n        optionVariantImage =\n            configuratorTourUtils.optionalProductImageSrc(\"Conference Chair (TEST) (Steel)\")\n    }\n},\nconfiguratorTourUtils.selectAttribute(\"Conference Chair\", \"Legs\", \"Aluminium\"),\n{\n    trigger: configuratorTourUtils.optionalProductSelector(\"Conference Chair (TEST) (Aluminium)\"),\n    run: function () {\n        const newOptionVariantImage =\n            configuratorTourUtils.optionalProductImageSrc(\"Conference Chair (TEST) (Aluminium)\")\n        if (newOptionVariantImage === optionVariantImage) {\n            console.error(\"The variant image wasn't updated\");\n        }\n    }\n},\nconfiguratorTourUtils.assertOptionalProductPrice(\"Conference Chair\", \"22.90\"),\nconfiguratorTourUtils.selectAttribute(\"Conference Chair\", \"Legs\", \"Steel\"),\nconfiguratorTourUtils.addOptionalProduct(\"Conference Chair\"),\nconfiguratorTourUtils.addOptionalProduct(\"Chair floor protection\"),\nconfiguratorTourUtils.assertPriceTotal(\"1,528.50\"),\n{\n    trigger: 'button:contains(Proceed to Checkout)',\n    run: 'click',\n},\ntourUtils.assertCartContains({\n    productName: \"Customizable Desk (TEST)\",\n    backend: false,\n}),\n]});\n", "/** @odoo-module **/\n\nimport { goToCart } from '@website_sale/js/tours/tour_utils';\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\n\nregisterWebsitePreviewTour('shop_customize', {\n    url: '/shop',\n    edition: true,\n},\n    () => [\n        ...clickOnSave(),\n        {\n            content: \"select product attribute Steel\",\n            trigger: ':iframe form.js_attributes input:not(:checked) + label:contains(Steel - Test)',\n            run: \"click\",\n        },\n        {\n            content: \"check the selection\",\n            trigger: ':iframe form.js_attributes input:checked + label:contains(Steel - Test)',\n        },\n        {\n            trigger: \":iframe body:not(:has(.oe_website_sale .oe_product_cart:eq(3)))\",\n        },\n        {\n            content: \"select product\",\n            trigger: ':iframe .oe_product_cart a:contains(\"Test Product\")',\n            run: \"click\",\n        },\n        {\n            trigger: \":iframe #product_detail\",\n        },\n        {\n            content: \"check list view of variants is disabled initially\",\n            trigger: ':iframe body:not(:has(.js_product_change))',\n        },\n        ...clickOnEditAndWaitEditMode(),\n        {\n            content: \"open customize tab\",\n            trigger: '.o_we_customize_snippet_btn',\n            run: \"click\",\n        },\n        {\n            trigger: \"#oe_snippets .o_we_customize_panel\",\n        },\n        {\n            content: \"open 'Variants' selector\",\n            trigger: '[data-name=\"variants_opt\"] we-toggler',\n            run: \"click\",\n        },\n        {\n            content: \"click on 'Products List' of the 'Variants' selector\",\n            trigger: 'we-button[data-name=\"variants_products_list_opt\"]',\n            run: \"click\",\n        },\n        ...clickOnSave(),\n        {\n            content: \"check variant price\",\n            trigger: ':iframe .form-check:contains(\"Aluminium\") .badge:contains(\"+\") .oe_currency_value:contains(\"50.4\")',\n        },\n        {\n            content: \"check price is 750\",\n            trigger: \":iframe .product_price .oe_price .oe_currency_value:contains(/^750.00$/)\",\n        },\n        {\n            content: \"switch to another variant\",\n            trigger: \":iframe .js_product label:contains('Aluminium')\",\n            run: \"click\",\n        },\n        {\n            content: \"verify that price has changed when changing variant\",\n            trigger: \":iframe .product_price .oe_price .oe_currency_value:contains(/^800.40$/)\",\n        },\n        ...clickOnEditAndWaitEditMode(),\n        {\n            content: \"open customize tab\",\n            trigger: '.o_we_customize_snippet_btn',\n            run: \"click\",\n        },\n        {\n            trigger: \"#oe_snippets .o_we_customize_panel\",\n        },\n        {\n            content: \"open 'Variants' selector\",\n            trigger: '[data-name=\"variants_opt\"] we-toggler',\n            run: \"click\",\n        },\n        {\n            content: \"click on 'Options' of the 'Variants' selector\",\n            trigger: 'we-button[data-name=\"variants_options_opt\"]',\n            run: \"click\",\n        },\n        ...clickOnSave(),\n        {\n            content: \"check page loaded after list of variant customization disabled\",\n            trigger: \":iframe .js_product:not(:has(.js_product_change))\",\n        },\n        {\n            content: \"check price is 750\",\n            trigger: \":iframe .product_price .oe_price .oe_currency_value:contains(/^750.00$/)\",\n        },\n        {\n            content: \"switch to Aluminium variant\",\n            trigger: ':iframe .js_product input[data-value_name=\"Aluminium\"]',\n            run: \"click\",\n        },\n        {\n            content: \"verify that price has changed when changing variant\",\n            trigger: \":iframe .product_price .oe_price .oe_currency_value:contains(/^800.40$/)\",\n        },\n        {\n            content: \"switch back to Steel variant\",\n            trigger: \":iframe .js_product label:contains('Steel - Test')\",\n            run: \"click\",\n        },\n        {\n            content: \"check price is 750\",\n            trigger: \":iframe .product_price .oe_price .oe_currency_value:contains(/^750.00$/)\",\n        },\n        {\n            content: \"click on 'Add to Cart' button\",\n            trigger: \":iframe a:contains(Add to cart)\",\n            run: \"click\",\n        },\n        {\n            content: \"check quantity\",\n            trigger: \":iframe .my_cart_quantity:contains(/^1$/),.o_extra_menu_items .fa-plus\",\n        },\n        goToCart({backend: true}),\n        {\n            trigger: \":iframe body:not(:has(#products_grid_before .js_attributes))\",\n        },\n        {\n            content: \"click on shop\",\n            trigger: \":iframe a:contains(Continue shopping)\",\n            run: \"click\",\n        },\n        ...clickOnEditAndWaitEditMode(),\n        {\n            content: \"open customize tab\",\n            trigger: '.o_we_customize_snippet_btn',\n            run: \"click\",\n        },\n        {\n            trigger: \"#oe_snippets .o_we_customize_panel\",\n        },\n        {\n            content: \"remove 'Attributes'\",\n            trigger: 'we-button[data-name=\"attributes_opt\"]',\n            run: \"click\",\n        },\n        ...clickOnSave(),\n        {\n            content: \"wait to exit edit mode\",\n            trigger: '.o_website_preview:not(.editor_has_snippets)',\n            run: \"click\",\n        },\n        {\n            trigger: \":iframe body:not(:has(#products_grid_before .js_attributes))\",\n        },\n        {\n            content: \"finish\",\n            trigger: ':iframe #wrap:not(:has(li:has(.my_cart_quantity):visible))',\n        },\n    ],\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\n// This tour relies on a data created from the python test.\nregistry.category(\"web_tour.tours\").add('tour_shop_deleted_archived_variants', {\n    url: '/shop?search=Test Product 2',\n    steps: () => [\n    {\n        content: \"check price on /shop (template price)\",\n        trigger: '.oe_product_cart .oe_currency_value:contains(\"1.00\")',\n        run: \"click\",\n    },\n    {\n        content: \"select Test Product 2\",\n        trigger: \".oe_product_cart a:contains(/^Test Product 2$/)\",\n        run: \"click\",\n    },\n    {\n        content: \"check price (3rd variant)\",\n        trigger: '.oe_currency_value:contains(\"31.00\")',\n        run: \"click\",\n    },\n    {\n        content: \"click on the second variant\",\n        trigger: 'input[data-attribute_name=\"My Attribute\"][data-value_name=\"My Value 2\"]',\n        run: \"click\",\n    },\n    {\n        content: \"check combination is not possible\",\n        trigger: '.js_main_product.css_not_available .css_not_available_msg:contains(\"This combination does not exist.\")',\n        run: \"click\",\n    },\n    {\n        content: \"click on the 3rd variant to reset the warning\",\n        trigger: 'input[data-attribute_name=\"My Attribute\"][data-value_name=\"My Value 3\"]',\n        run: \"click\",\n    },\n    {\n        content: \"check price (3rd variant)\",\n        trigger: '.oe_currency_value:contains(\"31.00\")',\n        run: \"click\",\n    },\n    {\n        content: \"click on the first variant\",\n        trigger: 'input[data-attribute_name=\"My Attribute\"][data-value_name=\"My Value 1\"]',\n        run: \"click\",\n    },\n    {\n        content: \"check combination is not possible\",\n        trigger: '.js_main_product.css_not_available .css_not_available_msg:contains(\"This combination does not exist.\")',\n        run: \"click\",\n    },\n    {\n        content: \"check add to cart not possible\",\n        trigger: '#add_to_cart.disabled',\n    }\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport * as tourUtils from \"@website_sale/js/tours/tour_utils\";\n\n// This tour relies on a data created from the python test.\nregistry.category(\"web_tour.tours\").add('tour_shop_dynamic_variants', {\n    url: '/shop?search=Dynamic Product',\n    steps: () => [\n    {\n        content: \"select Dynamic Product\",\n        trigger: \".oe_product_cart a:contains(/^Dynamic Product$/)\",\n        run: \"click\",\n    },\n    {\n        content: \"click on the second variant\",\n        trigger: 'input[data-attribute_name=\"Dynamic Attribute\"][data-value_name=\"Dynamic Value 2\"]',\n        run: \"click\",\n    },\n    {\n        content: \"wait for variant to be loaded\",\n        trigger: '.oe_price .oe_currency_value:contains(\"0.00\")',\n    },\n    {\n        trigger: 'body:has(input[type=\"hidden\"][name=\"product_id\"][value=\"0\"])',\n    },\n    {\n        content: \"click add to cart\",\n        trigger: '#add_to_cart',\n        run: \"click\",\n    },\n        tourUtils.goToCart(),\n    {\n        content: \"check the variant is in the cart\",\n        trigger: 'div>a>h6:contains(Dynamic Product (Dynamic Value 2))',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { clickOnSave, registerWebsitePreviewTour } from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour(\"shop_editor\", {\n    url: \"/shop\",\n    edition: true,\n}, () => [{\n    content: \"Click on pricelist dropdown\",\n    trigger: \":iframe div.o_pricelist_dropdown a[data-bs-toggle=dropdown]\",\n    run: \"click\",\n},\n{\n    trigger: \":iframe div.o_pricelist_dropdown a[data-bs-toggle=dropdown][aria-expanded=true]\",\n},\n{\n    trigger: \":iframe input[name=search]\",\n    content: \"Click somewhere else in the shop.\",\n    run: \"click\",\n},\n{\n    trigger: \":iframe div.o_pricelist_dropdown a[data-bs-toggle=dropdown][aria-expanded=false]\",\n},\n{\n    trigger: \":iframe div.o_pricelist_dropdown a[data-bs-toggle=dropdown]\",\n    content: \"Click on the pricelist again.\",\n    run: \"click\",\n}, {\n    trigger: \":iframe div.o_pricelist_dropdown a[data-bs-toggle=dropdown][aria-expanded=true]\",\n    content: \"Check pricelist dropdown opened\",\n}]);\n\nregisterWebsitePreviewTour(\"shop_editor_set_product_ribbon\", {\n    url: \"/shop\",\n    edition: true,\n}, () => [{\n    content: \"Click on first product\",\n    trigger: \":iframe .oe_product:first\",\n    run: \"click\",\n}, {\n    content: \"Open the ribbon selector\",\n    trigger: \".o_wsale_ribbon_select we-toggler\",\n    run: \"click\",\n}, {\n    content: \"Select a ribbon\",\n    trigger: '.o_wsale_ribbon_select we-button:contains(\"Sale\")',\n    run: \"click\",\n},\n...clickOnSave(),\n{\n    content: \"Check that the ribbon was properly saved\",\n    trigger: ':iframe .oe_product:first .o_ribbon:contains(\"Sale\")',\n}]);\n", "/** @odoo-module **/\n\nimport { goToCart } from '@website_sale/js/tours/tour_utils';\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregisterWebsitePreviewTour('shop_list_view_b2c', {\n    url: '/shop?search=Test Product',\n},\n    () => [\n        stepUtils.waitIframeIsReady(),\n        {\n            content: \"check price on /shop\",\n            trigger: ':iframe .oe_product_cart .oe_currency_value:contains(\"825.00\")',\n        },\n        {\n            content: \"select product\",\n            trigger: ':iframe .oe_product_cart a:contains(\"Test Product\")',\n            run: \"click\",\n        },\n        {\n            trigger: \":iframe #product_details\",\n        },\n        {\n            content: \"check products list is disabled initially (when on /product page)\",\n            trigger: ':iframe body:not(:has(.js_product_change))',\n        },\n        ...clickOnEditAndWaitEditMode(),\n        {\n            content: \"open customize tab\",\n            trigger: '.o_we_customize_snippet_btn',\n            run: \"click\",\n        },\n        {\n            trigger: \"#oe_snippets .o_we_customize_panel\",\n        },\n        {\n            content: \"open 'Variants' selector\",\n            trigger: '[data-name=\"variants_opt\"] we-toggler',\n            run: \"click\",\n        },\n        {\n            content: \"click on 'Products List' of the 'Variants' selector\",\n            trigger: 'we-button[data-name=\"variants_products_list_opt\"]',\n            run: \"click\",\n        },\n        ...clickOnSave(),\n        {\n            content: \"check page loaded after 'Products List' enabled\",\n            trigger: ':iframe .js_product_change',\n        },\n        {\n            content: \"check variant price\",\n            trigger: ':iframe .form-check:contains(\"Aluminium\") .badge:contains(\"+\") .oe_currency_value:contains(\"55.44\")',\n        },\n        {\n            content: \"check price is 825\",\n            trigger: \":iframe .product_price .oe_price .oe_currency_value:contains(/^825.00$/)\",\n        },\n        {\n            content: \"switch to another variant\",\n            trigger: ':iframe .js_product label:contains(\"Aluminium\")',\n            run: \"click\",\n        },\n        {\n            content: \"verify that price has changed when changing variant\",\n            trigger: \":iframe .product_price .oe_price .oe_currency_value:contains(/^880.44$/)\",\n        },\n        {\n            content: \"click on 'Add to Cart' button\",\n            trigger: ':iframe a:contains(Add to cart)',\n            run: \"click\",\n        },\n        goToCart({backend: true}),\n        {\n            content: \"check price on /cart\",\n            trigger: \":iframe #cart_products .oe_currency_value:contains(/^880.44$/)\",\n        },\n    ],\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport * as tourUtils from \"@website_sale/js/tours/tour_utils\";\nimport { redirect } from \"@web/core/utils/urls\";\n\nregistry.category(\"web_tour.tours\").add('shop_mail', {\n    url: '/shop?search=Acoustic Bloc Screens',\n    steps: () => [\n        ...tourUtils.addToCart({productName: 'Acoustic Bloc Screens', search: false}),\n        tourUtils.goToCart(),\n    {\n        content: \"check product is in cart, get cart id, go to backend\",\n        trigger: 'div:has(a>h6:contains(\"Acoustic Bloc Screens\"))',\n        run: function () {\n            const orderId = document.querySelector(\".my_cart_quantity\").dataset[\"orderId\"];\n            redirect(\"/odoo/action-sale.action_orders/\" + orderId);\n        },\n    },\n    {\n        content: \"click confirm\",\n        trigger: '.btn[name=\"action_confirm\"]',\n        run: \"click\",\n    },\n    {\n        trigger: '.o_statusbar_status .o_arrow_button_current:contains(\"Sales Order\")',\n    },\n    {\n        content: \"click send by email\",\n        trigger: '.btn[name=\"action_quotation_send\"]',\n        run: \"click\",\n    },\n    {\n        isActive: [\"body:not(:has(.modal-footer button[name='action_send_mail']))\"],\n        trigger: \".modal-footer button[name='document_layout_save']\",\n        content: \"let's continue\",\n        tooltipPosition: \"bottom\",\n        run: \"click\",\n    },\n    {\n        content: \"Open recipients dropdown\",\n        trigger: \".modal .o_field_many2many_tags_email[name=partner_ids] input\",\n        run: 'edit Interior24',\n    },\n    {\n        content: \"Select azure interior\",\n        trigger: \".modal .ui-menu-item a:contains(Interior24)\",\n        run: \"click\",\n    },\n    {\n        trigger: '.modal .o_badge_text:contains(\"Azure\")',\n    },\n    {\n        content: \"click Send email\",\n        trigger: '.modal .btn.o_mail_send',\n        run: \"click\",\n    },\n    {\n        trigger: \"body:not(:has(.modal))\",\n    },\n    {\n        content: \"wait mail to be sent, and go see it\",\n        trigger: '.o-mail-Message-body:contains(\"Your\"):contains(\"order\")',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport * as tourUtils from \"@website_sale/js/tours/tour_utils\";\n\n// This tour relies on a data created from the python test.\nregistry.category(\"web_tour.tours\").add('tour_shop_multi_checkbox', {\n    url: '/shop?search=Product Multi',\n    steps: () => [\n    {\n        content: \"select Product\",\n        trigger: \".oe_product_cart a:contains(/^Product Multi$/)\",\n        run: \"click\",\n    },\n    {\n        content: \"check price\",\n        trigger: '.oe_currency_value:contains(\"750\")',\n    },\n    {\n        content: 'click on the first option to select it',\n        trigger: 'input[data-attribute_name=\"Options\"][data-value_name=\"Option 1\"]',\n        run: \"click\",\n    },\n    {\n        content: 'click on the third option to select it',\n        trigger: 'input[data-attribute_name=\"Options\"][data-value_name=\"Option 3\"]',\n        run: \"click\",\n    },\n    {\n        content: 'check combination is not possible',\n        trigger: '.js_main_product.css_not_available .css_not_available_msg:contains(\"This combination does not exist.\")',\n        timeout: 30000,\n        run: \"click\",\n    },\n    {\n        content: \"check add to cart not possible\",\n        trigger: '#add_to_cart.disabled',\n    },\n    {\n        content: 'click on the third option to unselect it',\n        trigger: 'input[data-attribute_name=\"Options\"][data-value_name=\"Option 3\"]',\n        run: \"click\",\n    },\n    {\n        content: 'click on the second option to select it',\n        trigger: 'input[data-attribute_name=\"Options\"][data-value_name=\"Option 2\"]',\n        run: \"click\",\n    },\n    {\n        content: \"check price of options is correct\",\n        trigger: '.oe_currency_value:contains(\"753\")',\n    },\n    {\n        content: \"add to cart\",\n        trigger: 'a:contains(Add to cart)',\n        run: \"click\",\n    },\n        tourUtils.goToCart(),\n    {\n        content: \"check price is correct\",\n        trigger: '#cart_products div div.text-muted>span:contains(\"Options: Option 1, Option 2\")',\n    },\n]});\n\nregistry.category(\"web_tour.tours\").add('tour_shop_multi_checkbox_single_value', {\n    url: '/shop?search=Burger',\n    steps: () => [\n    {\n        content: \"select Product\",\n        trigger: '.oe_product_cart a:contains(/^Burger$/)',\n        run: \"click\",\n    },\n    {\n        content: \"check price\",\n        trigger: '.oe_currency_value:contains(\"750\")',\n    },\n    {\n        content: 'click on the first option to select it',\n        trigger: 'input[data-attribute_name=\"Toppings\"][data-value_name=\"cheese\"]',\n        run: \"click\",\n    },\n    {\n        content: \"check price of options is correct\",\n        trigger: '.oe_currency_value:contains(\"750\")',\n    },\n    {\n        content: \"add to cart\",\n        trigger: 'a:contains(Add to cart)',\n        run: \"click\",\n    },\n        tourUtils.goToCart(),\n    {\n        content: \"check choice was correctly saved\",\n        trigger: '#cart_products div div.text-muted>span:contains(\"Toppings: cheese\")',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport * as tourUtils from \"@website_sale/js/tours/tour_utils\";\n\n// This tour relies on a data created from the python test.\nregistry.category(\"web_tour.tours\").add('tour_shop_no_variant_attribute', {\n    url: '/shop?search=Test Product 3',\n    steps: () => [\n    {\n        content: \"select Test Product 3\",\n        trigger: \".oe_product_cart a:contains(/^Test Product 3$/)\",\n        run: \"click\",\n    },\n    {\n        content: \"check price\",\n        trigger: '.oe_currency_value:contains(\"1.00\")',\n    },\n    {\n        content: \"add to cart\",\n        trigger: 'a:contains(Add to cart)',\n        run: \"click\",\n    },\n        tourUtils.goToCart(),\n    {\n        content: \"check price is correct\",\n        trigger: 'div[name=\"website_sale_cart_line_price\"]:contains(11.0)',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\n    \"website_sale.website_sale_shop_pricelist_tour\",\n    {\n        url: '/shop',\n        steps: () => [\n            {\n                content: \"Check pricelist\",\n                trigger: \".o_pricelist_dropdown .dropdown-toggle:not(:contains('User Pricelist'))\",\n            },\n            {\n                content: \"Go to login page\",\n                trigger: \"a:contains('Sign in')\",\n                run: \"click\",\n            },\n            {\n                content: \"Submit login\",\n                trigger: '.oe_login_form',\n                run: function () {\n                    document.querySelector('.oe_login_form input[name=\"login\"]').value = \"toto\";\n                    document.querySelector('.oe_login_form input[name=\"password\"]').value = \"long_enough_password\";\n                    document.querySelector('.oe_login_form input[name=\"redirect\"]').value = \"/shop\";\n                    document.querySelector('.oe_login_form').submit();\n                }\n            },\n            {\n                content: \"Check pricelist\",\n                trigger: \".o_pricelist_dropdown .dropdown-toggle:contains('User Pricelist')\",\n            },\n        ]\n    }\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nvar imageSelector = '#o-carousel-product .carousel-item.active img';\nvar imageName = \"A Colorful Image\";\nvar nameGreen = \"Forest Green\";\n\n// This tour relies on a data created from the python test.\nregistry.category(\"web_tour.tours\").add('shop_zoom', {\n    url: '/shop?debug=1&search=' + imageName,\n    steps: () => [\n    {\n        content: \"select \" + imageName,\n        trigger: `.oe_product_cart a:contains(/^${imageName}$/)`,\n        run: \"click\",\n    },\n    {\n        content: \"click on the image\",\n        trigger: imageSelector,\n        run: \"click\",\n    },\n    {\n        content: \"check that the image viewer opened\",\n        trigger: '.o_wsale_image_viewer',\n    },\n    {\n        content: \"close the image viewer\",\n        trigger: '.o_wsale_image_viewer_header span.fa-times',\n        run: \"click\",\n    },\n    {\n        content: \"change variant\",\n        trigger: `input[data-attribute_name='Beautiful Color'][data-value_name='${nameGreen}']:not(:visible)`,\n        run: 'click',\n    },\n    {\n        content: \"wait for variant to be loaded\",\n        trigger: '.oe_currency_value:contains(\"21.00\")',\n        run: \"click\",\n    },\n    {\n        content: \"click on the image\",\n        trigger: imageSelector,\n        run: \"click\",\n    },\n    {\n        content: \"check there is a zoom on that big image\",\n        trigger: '.o_wsale_image_viewer',\n    },\n]});\n", "/** @odoo-module */\n\nimport { queryFirst } from '@odoo/hoot-dom';\nimport {\n    changeOption,\n    clickOnSave,\n    clickOnSnippet,\n    insertSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\nimport { goToCart } from '@website_sale/js/tours/tour_utils';\n\nconst optionBlock = 'dynamic_snippet_products';\nconst productsSnippet = {id: \"s_dynamic_snippet_products\", name: \"Products\", groupName: \"Products\"};\nconst templates = [\n    \"dynamic_filter_template_product_product_add_to_cart\",\n    \"dynamic_filter_template_product_product_view_detail\",\n    \"dynamic_filter_template_product_product_mini_image\",\n    \"dynamic_filter_template_product_product_mini_price\",\n    \"dynamic_filter_template_product_product_mini_name\",\n    \"dynamic_filter_template_product_product_centered\",\n    \"dynamic_filter_template_product_product_borderless_1\",\n    \"dynamic_filter_template_product_product_borderless_2\",\n    \"dynamic_filter_template_product_product_banner\",\n    \"dynamic_filter_template_product_product_horizontal_card\",\n    \"dynamic_filter_template_product_product_horizontal_card_2\",\n    \"dynamic_filter_template_product_product_card_group\",\n];\n\nfunction changeTemplate(templateKey) {\n    const templateClass = templateKey.replace(/dynamic_filter_template_/, \"s_\");\n    return [\n        changeOption(optionBlock, 'we-select[data-name=\"template_opt\"] we-toggler', 'template'),\n        changeOption(optionBlock, `we-button[data-select-data-attribute=\"website_sale.${templateKey}\"]`),\n        {\n            content: 'Check the template is applied',\n            trigger: `:iframe .s_dynamic_snippet_products.${templateClass} .carousel`,\n        },\n    ];\n}\n\nregisterWebsitePreviewTour('website_sale.snippet_products', {\n    url: '/',\n    edition: true,\n},\n() => {\n    let templatesSteps = [];\n    for (const templateKey of templates) {\n        templatesSteps = templatesSteps.concat(changeTemplate(templateKey));\n    }\n    return [\n        ...insertSnippet(productsSnippet),\n        ...clickOnSnippet(productsSnippet),\n        ...templatesSteps,\n        ...changeTemplate('dynamic_filter_template_product_product_add_to_cart'),\n        ...clickOnSave(),\n        {\n            trigger: \":iframe .s_dynamic_snippet_products .o_carousel_product_card_body .js_add_cart\",\n            run: 'click',\n        },\n        goToCart({backend: true}),\n    ]\n});\n\nregisterWebsitePreviewTour('website_sale.products_snippet_recently_viewed', {\n    url: '/',\n    edition: true,\n},\n() => [\n    ...insertSnippet(productsSnippet),\n    ...clickOnSnippet(productsSnippet),\n    ...changeTemplate('dynamic_filter_template_product_product_add_to_cart'),\n    changeOption(optionBlock, 'we-select[data-name=\"filter_opt\"] we-toggler', 'filter'),\n    changeOption(optionBlock, 'we-select[data-name=\"filter_opt\"] we-button:contains(\"Recently Viewed\")', 'filter'),\n    ...clickOnSave(),\n    {\n        content: 'make delete icon appear',\n        trigger: ':iframe .s_dynamic_snippet_products .o_carousel_product_card',\n        run() {\n            queryFirst(\n                `:iframe .o_carousel_product_card:has(a img[alt=\"Storage Box\"]) .js_remove`,\n            ).style.display = \"block\";\n        }\n    },\n    {\n        trigger: ':iframe .s_dynamic_snippet_products .o_carousel_product_card .js_remove',\n        run: 'click',\n    },\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport * as tourUtils from \"@website_sale/js/tours/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('update_billing_shipping_address', {\n    url: '/shop',\n    steps: () => [\n        ...tourUtils.addToCart({productName: \"Office Chair Black TEST\"}),\n        tourUtils.goToCart({quantity: 1}),\n        tourUtils.goToCheckout(),\n        tourUtils.confirmOrder(),\n        {\n            content: \"Edit Address\",\n            trigger: '#delivery_and_billing a:contains(\"Edit\")',\n            run: \"click\",\n        },\n        {\n            content: \"Edit  billing address which is shipping address too\",\n            trigger: 'a.js_edit_address',\n            run: \"click\",\n        },\n        {\n            content: \"Empty the phone field\",\n            trigger: 'input[name=\"phone\"]',\n            run: \"clear\",\n        },\n        {\n            content: \"Save address\",\n            trigger: 'button#save_address',\n            run: \"click\",\n        },\n        {\n            content: \"Check there is a warning for required field.\",\n            trigger: ':invalid',\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport {registry} from '@web/core/registry';\nimport * as tourUtils from '@website_sale/js/tours/tour_utils';\n\nregistry.category('web_tour.tours').add('shop_update_cart', {\n    url: '/shop',\n    steps: () => [\n        ...tourUtils.searchProduct(\"conference chair\"),\n        {\n            content: \"select conference chair\",\n            trigger: '.oe_product_cart:first a:contains(\"Conference Chair\")',\n            run: \"click\",\n        },\n        {\n            trigger: \"#product_detail\",\n        },\n        {\n            content: \"select Conference Chair Aluminium\",\n            trigger: 'label:contains(Aluminium) input',\n            run: \"click\",\n        },\n        {\n            trigger: \"#product_detail\",\n        },\n        {\n            content: \"select Conference Chair Steel\",\n            trigger: 'label:contains(Steel) input',\n            run: \"click\",\n        },\n        {\n            trigger: \"label:contains(Steel) input:checked\",\n        },\n        {\n            content: \"click on add to cart\",\n            trigger: '#product_detail form[action^=\"/shop/cart/update\"] #add_to_cart',\n            run: \"click\",\n        },\n        {\n            content: \"click in modal on 'Proceed to checkout' button\",\n            trigger: 'button:contains(\"Proceed to Checkout\")',\n            run: \"click\",\n        },\n        {\n            content: \"add suggested\",\n            trigger: '.js_cart_lines:has(a:contains(\"Storage Box\")) a:contains(\"Add to cart\")',\n            run: \"click\",\n        },\n        {\n            trigger: '#cart_products div>a>h6:contains(\"Storage Box\")',\n        },\n        {\n            content: \"add one more\",\n            trigger: '#cart_products div:has(div>a>h6:contains(\"Steel\")) a.js_add_cart_json:eq(1)',\n            run: \"click\",\n        },\n        {\n            trigger:\n                '#cart_products div:has(div>a>h6:contains(\"Steel\")) input.js_quantity:value(2)',\n        },\n        {\n            content: \"remove Storage Box\",\n            trigger:\n                '#cart_products div:has(div>a>h6:contains(\"Storage Box\")) a.js_add_cart_json:first',\n            run: \"click\",\n        },\n        {\n            trigger: '#wrap:not(:has(#cart_products div>a>h6:contains(\"Storage Box\")))',\n        },\n        {\n            content: \"set one\",\n            trigger: '#cart_products input.js_quantity',\n            run: \"edit 1\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n\n    // This tour relies on a data created from the python test.\n    registry.category(\"web_tour.tours\").add('tour_variants_modal_window', {\n        url: '/shop?search=Short (TEST)',\n        steps: () => [\n        {\n            content: \"Select the Short (TEST) product\",\n            trigger: `.oe_product_cart a:contains(/^Short \\\\(TEST\\\\)$/)`,\n            run: \"click\",\n        },\n        {\n            content: \"Click on the always variant\",\n            trigger: 'input[data-attribute_name=\"Always attribute size\"][data-value_name=\"M always\"]',\n            run: \"check\",\n        },\n        {\n            content: \"Click on the dynamic variant\",\n            trigger: 'input[data-attribute_name=\"Dynamic attribute size\"][data-value_name=\"M dynamic\"]',\n            run: \"check\",\n        },\n        {\n            content: \"Click on the never variant\",\n            trigger: 'input[data-attribute_name=\"Never attribute size\"][data-value_name=\"M never\"]',\n            run: \"check\",\n        },\n        {\n            content: \"Click on the never custom variant\",\n            trigger: 'input[data-attribute_name=\"Never attribute size custom\"][data-value_name=\"Yes never custom\"]',\n            run: \"check\",\n        },\n        {\n            trigger: 'input.variant_custom_value',\n            run: \"edit TEST\",\n        },\n        {\n            content: \"Click add to cart\",\n            trigger: '#add_to_cart',\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".modal:contains(configure your product) table.o_sale_product_configurator_table\",\n        },\n        {\n            content: \"Go through the modal window of the product configurator\",\n            trigger: \".modal:contains(configure your product) button:contains(Proceed to Checkout)\",\n            run: \"click\",\n        },\n        {\n            content: \"Check the product is in the cart\",\n            trigger: 'div>a>h6:contains(Short (TEST))',\n        },\n        {\n            content: \"Check always variant\",\n            trigger: 'div>a>h6:contains(M always)',\n        },\n        {\n            content: \"Check dynamic variant\",\n            trigger: 'div>a>h6:contains(M dynamic)',\n        },\n        {\n            content: \"Check never variant\",\n            trigger: 'div.text-muted>span:contains(Never attribute size: M never)',\n        },\n        {\n            content: \"Check never custom variant\",\n            trigger: 'div.text-muted>span:contains(Never attribute size custom: Yes never custom: TEST)',\n        }\n    ]});\n", "import { registry } from '@web/core/registry';\n\nregistry.category('web_tour.tours').add('website_sale_contact_us_button', {\n    steps: () => [\n        {\n            content: \"Check that the red color attribute is selected\",\n            trigger: '.js_attribute_value:has([checked]):contains(red)',\n        },\n        {\n            content: \"Zero-priced product should be unavailable\",\n            trigger: '#product_unavailable',\n        },\n        {\n            content: \"Price should be hidden\",\n            trigger: '.product_price:not(:visible)',\n        },\n        {\n            content: '\"Add to Cart\" button should be hidden',\n            trigger: '#add_to_cart_wrap:not(:visible)',\n        },\n        {\n            content: '\"Contact Us\" button should be visible',\n            trigger: '#contact_us_wrapper',\n        },\n        {\n            content: \"Select attribute with price extra value\",\n            trigger: '.js_attribute_value:contains(blue):contains(20.00) input',\n            run: 'click',\n        },\n        {\n            content: \"Product price should be updated\",\n            trigger: '.product_price .oe_currency_value:contains(20.00)',\n        },\n        {\n            content: '\"Add to Cart\" button should now be visibile',\n            trigger: '#add_to_cart_wrap',\n        },\n        {\n            content: '\"Contact Us\" button should now be hidden',\n            trigger: '#contact_us_wrapper:not(:visible)',\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport configuratorTourUtils from '@sale/js/tours/product_configurator_tour_utils';\n\nfunction assertProductStrikethroughPrice(productName, price) {\n    return {\n        content: `Assert that ${productName} was reduced from ${price}`,\n        trigger: `\n            ${configuratorTourUtils.productSelector(productName)}\n            td.o_sale_product_configurator_price\n            .oe_striked_price:contains(\"${price}\")\n        `,\n    };\n}\n\nfunction assertOptionalProductStrikethroughPrice(productName, price) {\n    return {\n        content: `Assert that ${productName} was reduced from ${price}`,\n        trigger: `\n            ${configuratorTourUtils.optionalProductSelector(productName)}\n            td.o_sale_product_configurator_qty\n            .oe_striked_price:contains(\"${price}\")\n        `,\n    };\n}\n\nfunction assertProductZeroPriced(productName) {\n    return [\n        {\n            content: `Assert that ${productName} is not available for sale`,\n            trigger: `\n                ${configuratorTourUtils.productSelector(productName)}\n                td.o_sale_product_configurator_qty:contains(\"Not available for sale\")\n            `,\n        },\n        {\n            content: `Assert that ${productName} has no quantity`,\n            trigger: `\n                ${configuratorTourUtils.productSelector(productName)}\n                td.o_sale_product_configurator_qty:not(:has(input[name=\"sale_quantity\"]))\n            `,\n        },\n    ];\n}\n\nfunction assertOptionalProductZeroPriced(productName) {\n    return [\n        {\n            content: `Assert that ${productName} is not available for sale`,\n            trigger: `\n                ${configuratorTourUtils.optionalProductSelector(productName)}\n                td.o_sale_product_configurator_price:contains(\"Not available for sale\")\n            `,\n        },\n        {\n            content: `Assert that ${productName} has no \"Add\" button`,\n            trigger: `\n                ${configuratorTourUtils.optionalProductSelector(productName)}\n                td.o_sale_product_configurator_price:not(:has(button:contains(\"Add\")))\n            `,\n        },\n    ];\n}\n\nexport default {\n    assertProductStrikethroughPrice,\n    assertOptionalProductStrikethroughPrice,\n    assertProductZeroPriced,\n    assertOptionalProductZeroPriced,\n};\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"can_export_new_module\", {\n    url: \"/odoo\",\n    steps: () => [\n        {\n            trigger: \".o_home_menu_background .o_home_menu\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item > .o_nav_entry\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_app.o_web_studio_new_app\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_input[name='appName']\",\n            run: \"edit My New App\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_input[name='menuName']\",\n            run: \"edit My App Records\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_renderer div:contains(description)\",\n        },\n        {\n            trigger: \".o_web_studio_leave > a\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_renderer h1 input[placeholder^='Name']\",\n        },\n        {\n            trigger: \".o_menu_toggle:contains(my new app)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item > .o_nav_entry\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_export\",\n            run: \"click\",\n        },\n        {\n            content: \"check that export feature is blazing fast\",\n            trigger: \".modal .modal-footer button:contains(export)\",\n            run: \"click\",\n        },\n        {\n            content: \"close modal\",\n            trigger: \".modal .modal-footer button:contains(cancel)\",\n            run: \"click\",\n        },\n    ],\n});\n", "/** @odoo-module */\n\nexport function assertEqual(actual, expected) {\n    if (actual !== expected) {\n        throw new Error(`Assert failed: expected: ${expected} ; got: ${actual}`);\n    }\n}\n\nexport async function nextTick() {\n    await new Promise((resolve) => setTimeout(resolve));\n    await new Promise((resolve) => requestAnimationFrame(resolve));\n}\n\nexport function stepNotInStudio(trigger) {\n    return [\n        {\n            trigger: \"body:not(:has(.o_studio))\",\n        },\n        {\n            trigger: trigger || \"body\",\n        },\n    ];\n}\n", "/** @odoo-module */\n\nimport { _t } from \"@web/core/l10n/translation\";\nimport { registry } from \"@web/core/registry\";\nimport { markup } from \"@odoo/owl\";\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_home_menu_background_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item\",\n            content: markup(\n                _t(\"Want to customize the background? Let\u2019s activate <b>Odoo Studio</b>.\")\n            ),\n            tooltipPosition: \"bottom\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_change_background\",\n            content: markup(_t(\"Change the <b>background</b>, make it yours.\")),\n            tooltipPosition: \"bottom\",\n            run: \"click\",\n        },\n    ],\n});\n", "/** @odoo-module */\n\nimport { browser } from \"@web/core/browser/browser\";\nimport { registry } from \"@web/core/registry\";\nimport { randomString } from \"@web_studio/utils\";\nimport { assertEqual, stepNotInStudio } from \"@web_studio/../tests/tours/tour_helpers\";\n\nconst localStorage = browser.localStorage;\nlet createdAppString = null;\nlet createdMenuString = null;\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_main_and_rename\", {\n    url: \"/odoo?debug=1\",\n    steps: () => [\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n            run: \"click\",\n        },\n        {\n            // the next steps are here to create a new app\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_name > input\",\n            run: `edit ${(createdAppString = randomString(6))}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_menu_creator > input\",\n            run: `edit ${(createdMenuString = randomString(6))}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n            run: \"click\",\n        },\n        {\n            // disable chatter in model configurator, we'll test adding it on later\n            trigger: 'input[name=\"use_mail\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_menu_toggle:not(.o_menu_toggle_back)\",\n        },\n        {\n            // toggle the home menu outside of studio and come back in studio\n            trigger: \".o_web_studio_leave > a.btn\",\n            timeout: 60000 /* previous step reloads registry, etc. - could take a long time */,\n            run: \"click\",\n        },\n        {\n            trigger: `.o_web_client:not(.o_in_studio)` /* wait to be out of studio */,\n        },\n        {\n            trigger: \".o_menu_toggle:not(.o_menu_toggle_back)\",\n            timeout: 60000 /* previous step reloads registry, etc. - could take a long time */,\n            run: \"click\",\n        },\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            // open the app creator and leave it\n            trigger: \".o_web_studio_new_app\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator\",\n        },\n        {\n            trigger: \".o_web_studio_leave > a.btn\",\n            run: \"click\",\n        },\n        {\n            // go back to the previous app\n            trigger: \".o_home_menu\",\n            run: \"press Escape\",\n        },\n        {\n            trigger: `.o_web_client:not(.o_in_studio) .o_menu_brand:contains(${createdAppString})`,\n        },\n        {\n            // this should open the previous app outside of studio\n            // go back to the home menu\n            trigger: \".o_menu_toggle:not(.o_menu_toggle_back)\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input.o_search_hidden\",\n            // Open Command Palette\n            run: `edit ${createdMenuString[0]}`,\n        },\n        {\n            trigger: \".o_command_palette_search input\",\n            run: `edit /${createdMenuString}`,\n        },\n        {\n            trigger: `.o_command.focused:contains(${createdAppString} / ${createdMenuString})`,\n        },\n        {\n            // search results should have been updated\n            trigger: \".o_command_palette\",\n            // Close the Command Palette\n            run: \"press Escape\",\n        },\n        {\n            // enter Studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_studio_home_menu\",\n        },\n        {\n            // edit an app\n            trigger: `.o_app[data-menu-xmlid*=\"studio\"]:contains(${createdAppString})`,\n            run: function () {\n                // We can't emulate a hover to display the edit icon\n                const editIcon = this.anchor.querySelector(\".o_web_studio_edit_icon\");\n                editIcon.style.visibility = \"visible\";\n                editIcon.click();\n            },\n        },\n        {\n            // design the icon\n            // TODO: we initially tested this (change an app icon) at the end but a\n            // long-standing bug (KeyError: ir.ui.menu.display_name, caused by a registry\n            // issue with multiple workers) on runbot prevent us from doing it. It thus have\n            // been moved at the beginning of this test to avoid the registry to be reloaded\n            // before the write on ir.ui.menu.\n            trigger: \".o_web_studio_selector_background > button\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-dropdown--menu .o_web_studio_selector_value\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-footer .btn.btn-primary\",\n            run: \"click\",\n        },\n        {\n            // click on the created app\n            trigger: `.o_app[data-menu-xmlid*=\"studio\"]:contains(${createdAppString})`,\n            run: \"click\",\n        },\n        {\n            // create a new menu\n            trigger: \".o_main_navbar .o_web_edit_menu\",\n            run: \"click\",\n        },\n        {\n            trigger: \"footer.modal-footer .js_add_menu\",\n            run: \"click\",\n        },\n        {\n            trigger: 'input[name=\"menuName\"]',\n            run: `edit ${(createdMenuString = randomString(6))}`,\n        },\n        {\n            trigger: 'div.o_web_studio_menu_creator_model_choice input[value=\"existing\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \"div.o_web_studio_menu_creator_model .o_record_selector input\",\n            run: \"edit a\",\n        },\n        {\n            trigger:\n                \".o_record_selector .o-autocomplete--dropdown-menu > li > a:not(:has(.fa-spin))\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_record_selector :not(.o-autocomplete dropdown-menu)\",\n        },\n        {\n            trigger: \".o_web_studio_add_menu_modal button:contains(Confirm):not(.disabled)\",\n            run: \"click\",\n        },\n        {\n            trigger: \":not(.o_inactive_modal) .o-web-studio-appmenu-editor\",\n        },\n        {\n            trigger: \".o-web-studio-appmenu-editor button:contains(Confirm):not(.disabled)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_menu\",\n        },\n        {\n            // check that the Studio menu is still there\n            // switch to form view\n            trigger: '.o_web_studio_views_icons > a[title=\"Form\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n        },\n        {\n            // wait for the form editor to be rendered because the sidebar is the same\n            // unfold 'Existing Fieldqs' section\n            trigger: \".o_web_studio_existing_fields_header\",\n            run: \"click\",\n        },\n        {\n            // add an new field\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(1) .o_web_studio_field_char\",\n            run: \"drag_and_drop .o_web_studio_form_view_editor .o_inner_group\",\n        },\n        {\n            trigger: '.o_web_studio_sidebar input[name=\"technical_name\"]',\n        },\n        {\n            // click on the field\n            trigger: \".o_web_studio_form_view_editor .o_wrap_label:first label\",\n            // when it's there\n            run: \"click\",\n        },\n        {\n            // rename the label\n            trigger: '.o_web_studio_sidebar input[name=\"string\"]',\n            run: \"edit My Coucou Field && click .o_web_studio_sidebar\",\n        },\n        {\n            // verify that the field name has changed and change it\n            trigger: '.o_web_studio_sidebar input[name=\"technical_name\"]',\n            async run(helper) {\n                assertEqual(this.anchor.value, \"my_coucou_field\");\n                await helper.edit(\"coucou\");\n                await helper.click(\".o_web_studio_sidebar\");\n            },\n            // the rename operation (/web_studio/rename_field + /web_studio/edit_view)\n            // takes a while and sometimes reaches the default 10s timeout\n            timeout: 20000,\n        },\n        {\n            // click on \"Add\" tab\n            trigger: \".o_web_studio_sidebar .o_web_studio_new\",\n            // the rename operation (/web_studio/rename_field + /web_studio/edit_view)\n            // takes a while and sometimes reaches the default 10s timeout\n            timeout: 20000,\n            run: \"click\",\n        },\n        {\n            // add a new field\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(1) .o_web_studio_field_char\",\n            run: \"drag_and_drop .o_web_studio_form_view_editor .o_inner_group\",\n        },\n        {\n            // rename the field with the same name\n            trigger: '.o_web_studio_sidebar input[name=\"technical_name\"]',\n            run: \"edit coucou && click body\",\n        },\n        {\n            // an alert dialog should be opened\n            trigger: \".modal-footer > button:first\",\n            run: \"click\",\n        },\n        {\n            // rename the label\n            trigger: '.o_web_studio_sidebar input[name=\"string\"]',\n            run: \"edit COUCOU && click body\",\n        },\n        {\n            // verify that the field name has changed (post-fixed by _1)\n            trigger: '.o_web_studio_sidebar input[name=\"technical_name\"]',\n            run(helper) {\n                assertEqual(this.anchor.value, \"coucou_1\");\n            },\n            // the rename operation (/web_studio/rename_field + /web_studio/edit_view)\n            // takes a while and sometimes reaches the default 10s timeout\n            timeout: 20000,\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_new\",\n            run: \"click\",\n        },\n        {\n            // add a monetary field --> create a currency field\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(1) .o_web_studio_field_monetary\",\n            run: \"drag_and_drop (.o_inner_group:first .o_web_studio_hook:eq(1))\",\n        },\n        {\n            // verify that the monetary field is in the view\n            trigger:\n                '.o_web_studio_form_view_editor .o_wrap_label:eq(1) label:contains(\"New Monetary\")',\n        },\n        {\n            // switch the two first fields\n            trigger: \".o_web_studio_form_view_editor .o_inner_group:first .o-draggable:eq(1)\",\n            run: \"drag_and_drop .o_inner_group:first .o_web_studio_hook:first\",\n        },\n        {\n            // click on \"Add\" tab\n            trigger:\n                '.o_web_studio_form_view_editor .o_wrap_label:eq(0) label:contains(\"New Monetary\")',\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_new\",\n            run: \"click\",\n        },\n        {\n            // verify that the fields have been switched\n            trigger:\n                '.o_web_studio_form_view_editor .o_wrap_label:eq(0) label:contains(\"New Monetary\")',\n        },\n        {\n            // add a m2m field\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(1) .o_web_studio_field_many2many\",\n            run: \"drag_and_drop .o_inner_group:first .o_web_studio_hook:first\",\n        },\n        {\n            // type something in the modal\n            trigger:\n                '.modal:not(.o_inactive_modal) [name=\"relation_id\"] input.o-autocomplete--input',\n            // we are sure \"Activity\" exists since studio depends on mail.\n            //Also, it is determinisic and field names should not conflict too much.\n            run: \"fill mail.activity\",\n        },\n        {\n            // select Activity as model\n            trigger:\n                '.modal:not(.o_inactive_modal) [name=\"relation_id\"] .o-autocomplete--dropdown-menu li a:not(:has(.fa-spin)):contains(Activity):not(:contains(\"Activity \"))',\n            run: \"click\",\n        },\n        {\n            trigger: \".modal:not(.o_inactive_modal) button:contains(Confirm):not(.disabled)\",\n            run: \"click\",\n        },\n        {\n            // select the m2m to set its properties\n            trigger: \".o_wrap_input:has(.o_field_many2many)\",\n            timeout: 15000, // creating M2M relations can take some time...\n            run: \"click\",\n        },\n        {\n            // change the `widget` attribute\n            trigger: '.o_web_studio_sidebar [name=\"widget\"] .o_select_menu_toggler_slot',\n            run: \"click\",\n        },\n        {\n            trigger: \".o-dropdown--menu .o_select_menu_item_label:contains('(many2many_tags)')\",\n            run: \"click\",\n        },\n        {\n            // use colors on the m2m tags\n            trigger: '.o_web_studio_sidebar [name=\"color_field\"]',\n            run: \"click\",\n        },\n        {\n            // add a statusbar\n            trigger: \".o_web_studio_statusbar_hook\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-footer .btn.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_statusbar_status\",\n            run: \"click\",\n        },\n        {\n            // verify that a default value has been set for the statusbar\n            trigger:\n                '.o_web_studio_sidebar [name=\"default_value\"] .o_select_menu_toggler_slot:contains(First Status)',\n        },\n        {\n            trigger: \".o_web_studio_views_icons a[aria-label=Form]\",\n            run: \"click\",\n        },\n        {\n            // verify Chatter can be added after changing view to form\n            trigger: \".o_web_studio_add_chatter\",\n        },\n        {\n            // edit action\n            trigger: \".o_web_studio_menu .o_menu_sections li a:contains(Views)\",\n            run: \"click\",\n        },\n        {\n            // edit form view\n            trigger:\n                \".o_web_studio_view_category .o_web_studio_thumbnail_item.o_web_studio_thumbnail_form\",\n            run: \"click\",\n        },\n        {\n            // verify Chatter can be added after changing view to form\n            trigger: \".o_web_studio_add_chatter\",\n        },\n        {\n            // switch in list view\n            trigger: '.o_web_studio_menu .o_web_studio_views_icons a[title=\"List\"]',\n            run: \"click\",\n        },\n        {\n            // wait for the list editor to be rendered because the sidebar is the same\n            trigger: \".o_web_studio_list_view_editor\",\n        },\n        {\n            // unfold 'Existing Fieldqs' section\n            trigger: \".o_web_studio_existing_fields_header\",\n            run: \"click\",\n        },\n        {\n            // add an existing field (display_name)\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_field_char:contains(COUCOU)\",\n            run: \"drag_and_drop .o_web_studio_list_view_editor th.o_web_studio_hook:first\",\n        },\n        {\n            // verify that the field is correctly named\n            trigger: '.o_web_studio_list_view_editor th:contains(\"COUCOU\")',\n        },\n        {\n            // leave Studio\n            trigger: \".o_web_studio_leave > a.btn\",\n            run: \"click\",\n        },\n        {\n            // come back to the home menu to check if the menu data have changed\n            trigger: \".o_web_client:not(.o_in_studio)\",\n        },\n        {\n            trigger: \".o_menu_toggle:not(.o_menu_toggle_back)\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input.o_search_hidden\",\n            // Open Command Palette\n            run: `edit ${createdMenuString[0]}`,\n        },\n        {\n            trigger: \".o_command_palette_search input\",\n            run: `edit /${createdMenuString}`,\n        },\n        {\n            // search results should have been updated\n            trigger: `.o_command.focused:contains(${createdAppString} / ${createdMenuString})`,\n        },\n        {\n            trigger: \".o_command_palette\",\n            // Close the Command Palette\n            run: `press Escape`,\n        },\n        {\n            trigger: \".o_home_menu\",\n            // go back again to the app (using keyboard)\n            run: `press Escape`,\n        },\n        {\n            // wait to be back in the list view\n            trigger: \".o_list_view\",\n        },\n        {\n            // re-open studio\n            trigger: \".o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            // modify the list view\n            trigger: \".o_web_studio_sidebar .o_web_studio_view\",\n            run: \"click\",\n        },\n        {\n            //select field you want to sort and based on that sorting will be applied on List view\n            trigger:\n                '.o_web_studio_sidebar .o_web_studio_sidebar_select[name=\"sort_by\"] .o_select_menu_toggler',\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-menu .dropdown-item\",\n            run: \"click\",\n        },\n        {\n            //change order of sorting, Select order and change it\n            trigger:\n                '.o_web_studio_sidebar .o_web_studio_sidebar_select[name=\"sort_order\"] .o_select_menu_toggler',\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-menu .dropdown-item:nth-child(2)\",\n            run: \"click\",\n        },\n        {\n            // edit action\n            trigger: '.o_web_studio_menu .o_menu_sections li a:contains(\"Views\")',\n            run: \"click\",\n        },\n        {\n            // add a kanban\n            trigger: \".o_web_studio_view_category .o_web_studio_thumbnail_kanban.disabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_notebook .o_web_studio_new\",\n            run: \"click\",\n        },\n        {\n            // add a menu\n            trigger: \".o_web_studio_component.o_web_studio_field_menu\",\n            async run(helpers) {\n                const hook = \".o_web_studio_hook[data-structures='t,kanban_colorpicker']\";\n                document.querySelector(hook).style.setProperty(\"transition\", \"none\", \"important\");\n                await helpers.drag_and_drop(hook);\n            },\n        },\n        {\n            // add an aside\n            trigger: \".o_web_studio_component.o_web_studio_field_aside\",\n            async run(helpers) {\n                const hook = \".o_web_studio_hook[data-structures='aside']\";\n                document.querySelector(hook).style.setProperty(\"transition\", \"none\", \"important\");\n                await helpers.drag_and_drop(hook);\n            },\n        },\n        {\n            trigger: \".o_kanban_record main\",\n            content: \"card content has been wrapped in a <main> element\",\n        },\n        {\n            trigger: \".o_kanban_record aside\",\n        },\n        {\n            // add a colorpicker\n            trigger: \".o_web_studio_component.o_web_studio_field_color_picker\",\n            async run(helpers) {\n                const hook = \".o_web_studio_hook[data-structures='t,kanban_colorpicker']\";\n                document.querySelector(hook).style.setProperty(\"transition\", \"none\", \"important\");\n                await helpers.drag_and_drop(hook);\n            },\n        },\n        {\n            // select the menu for edition\n            trigger: \".o_dropdown_kanban\",\n            run: \"click\",\n        },\n        {\n            // select the colorpicker for edition\n            trigger: \"button.o_web_studio_field_color_picker:contains(Edit Color Picker)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_notebook_content h3:contains(Field)\",\n            content: \"sidebar is editing the color field\",\n        },\n        {\n            trigger: \".o_notebook .o_web_studio_view\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_web_studio_property_highlight_color .o_select_menu_toggler:contains(Card color)\",\n        },\n        {\n            // edit action\n            trigger: '.o_web_studio_menu .o_menu_sections li a:contains(\"Views\")',\n            run: \"click\",\n        },\n        {\n            // check that the kanban view is now active\n            trigger: \".o_web_studio_view_category .o_web_studio_thumbnail_kanban:not(.disabled)\",\n        },\n        {\n            // add an activity view\n            trigger: \".o_web_studio_view_category .o_web_studio_thumbnail_activity.disabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_activity_view\",\n        },\n        {\n            // edit action\n            trigger: '.o_web_studio_menu .o_menu_sections li a:contains(\"Views\")',\n            timeout: 20000, // activating a view takes a while and sometimes reaches the default 10s timeout\n            run: \"click\",\n        },\n        {\n            // add a graph view\n            trigger: \".o_web_studio_view_category .o_web_studio_thumbnail_graph.disabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_graph_renderer\",\n        },\n        {\n            trigger: '.o_web_studio_menu .o_menu_sections li a:contains(\"Views\")',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_views\",\n        },\n        {\n            run: \"click\",\n            // edit the search view\n            trigger:\n                \".o_web_studio_view_category .o_web_studio_thumbnail_item.o_web_studio_thumbnail_search\",\n        },\n        {\n            trigger: \".o_web_studio_search_view_editor\",\n        },\n        {\n            run: \"click\",\n            trigger: \".o_menu_toggle:not(.o_menu_toggle_back)\",\n        },\n        {\n            // export all modifications\n            trigger: \".o_web_studio_export\",\n            run: \"click\",\n        },\n        {\n            content: \"check that export feature is blazing fast\",\n            trigger: \".modal .modal-footer button:contains(export)\",\n            run: \"click\",\n        },\n        {\n            content: \"close modal\",\n            trigger: \".modal .modal-footer button:contains(cancel)\",\n            run: \"click\",\n        },\n        {\n            // click on the created app\n            trigger: '.o_app[data-menu-xmlid*=\"studio\"]:last',\n            run: \"click\",\n        },\n        {\n            // switch to form view\n            trigger: '.o_web_studio_views_icons > a[title=\"Form\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n        },\n        {\n            // click on the view tab\n            trigger: \".o_web_studio_view\",\n            run: \"click\",\n        },\n        {\n            // click on the restore default view button\n            trigger: \".o_web_studio_restore\",\n            run: \"click\",\n        },\n        {\n            // click on the ok button\n            trigger: \".modal-footer .btn.btn-primary\",\n            run: \"click\",\n        },\n        {\n            // checks that the field doesn't exist anymore\n            trigger: \".o_web_studio_form_view_editor:not(:has(.o_form_label))\",\n        },\n        {\n            trigger: \".o_web_studio_leave > a.btn\",\n            run: \"click\",\n        },\n        ...stepNotInStudio(\".o_form_view\"),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_hide_fields_tour\", {\n    url: \"/odoo/action-studio?mode=home_menu&debug=1\",\n    steps: () => [\n        {\n            trigger: \".o_web_studio_new_app\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: `\n        .o_web_studio_app_creator_name\n        > input`,\n            run: `edit ${randomString(6)}`,\n        },\n        {\n            // make another interaction to show \"next\" button\n            trigger: `\n        .o_web_studio_selectors\n        .o_web_studio_selector_icon > button`,\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: `\n        .o_web_studio_menu_creator\n        > input`,\n            run: `edit ${randomString(6)}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n            run: \"click\",\n        },\n        {\n            // check that the Studio menu is still there\n            trigger: \".o_web_studio_menu\",\n        },\n        {\n            trigger: \".o_web_studio_leave > a.btn\",\n            timeout: 60000 /* previous step reloads registry, etc. - could take a long time */,\n            run: \"click\",\n        },\n        {\n            trigger: \".oe_title input\",\n            run: \"edit Test\",\n        },\n        {\n            trigger: \".o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_menu\",\n        },\n        {\n            run: \"click\",\n            trigger: `\n        .o_web_studio_views_icons\n        > a[title=\"List\"]`,\n        },\n        {\n            // wait for the list editor to be rendered because the sidebar is the same\n            trigger: \".o_web_studio_list_view_editor\",\n        },\n        {\n            trigger: \".o_web_studio_existing_fields_header\",\n            run: \"click\",\n        },\n        {\n            trigger: `\n        .o_web_studio_sidebar\n        .o_web_studio_existing_fields\n        .o_web_studio_component:has(.o_web_studio_component_description:contains(display_name))`,\n            run: \"drag_and_drop .o_web_studio_list_view_editor .o_web_studio_hook\",\n        },\n        {\n            trigger: `\n        .o_list_table\n        th[data-name=\"display_name\"]`,\n            run: \"click\",\n        },\n        {\n            trigger: `\n        .o_web_studio_sidebar\n        [name=\"optional\"] .o_select_menu_toggler`,\n            run: \"click\",\n        },\n        {\n            trigger: \".o-dropdown--menu .o_select_menu_item:contains(Hide by default)\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_list_table:not(:has(th[data-name=\"display_name\"]))',\n        },\n        {\n            trigger: `\n        .o_web_studio_sidebar\n        .o_web_studio_view`,\n            run: \"click\",\n        },\n        {\n            trigger: `\n        .o_web_studio_sidebar_checkbox\n        input#show_invisible`,\n            run: \"click\",\n        },\n        {\n            trigger: `\n        .o_list_table\n        th[data-name=\"display_name\"].o_web_studio_show_invisible`,\n        },\n        {\n            trigger: \".o_web_studio_leave > a.btn\",\n            run: \"click\",\n        },\n        ...stepNotInStudio(\".o_list_view\"),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_model_option_value_tour\", {\n    url: \"/odoo/action-studio?mode=home_menu&debug=tests\",\n    steps: () => [\n        {\n            trigger: \".o_web_studio_new_app\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: `\n        .o_web_studio_app_creator_name\n        > input`,\n            run: `edit ${randomString(6)}`,\n        },\n        {\n            trigger: `\n        .o_web_studio_selectors\n        .o_web_studio_selector_icon > button`,\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: `\n        .o_web_studio_menu_creator\n        > input`,\n            run: `edit ${randomString(6)}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            // check monetary value in model configurator\n            trigger: 'input[name=\"use_value\"]',\n            run: \"click\",\n        },\n        {\n            // check lines value in model configurator\n            trigger: 'input[name=\"lines\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_web_studio_menu .o_web_studio_views_icons > a[title=\"Graph\"]',\n            timeout: 60000 /* previous step reloads registry, etc. - could take a long time */,\n            run: \"click\",\n        },\n        {\n            // wait for the graph editor to be rendered and also check for sample data\n            trigger: \".o_view_sample_data .o_graph_renderer\",\n        },\n        {\n            trigger: '.o_web_studio_menu .o_web_studio_views_icons a[title=\"Pivot\"]',\n            run: \"click\",\n        },\n        {\n            // wait for the pivot editor to be rendered and also check for sample data\n            trigger: \".o_pivot_view .o_view_sample_data .o_view_nocontent_empty_folder\",\n        },\n        {\n            trigger: \".o_web_studio_leave > a.btn\",\n            run: \"click\",\n        },\n        ...stepNotInStudio(\".o_pivot_view\"),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_new_submenu_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body.o_in_studio\",\n        },\n        {\n            // click on the created app\n            trigger: '.o_app[data-menu-xmlid*=\"studio\"]:first',\n            run: \"click\",\n        },\n        {\n            // create a new menu\n            trigger: \".o-studio--menu .o_web_create_new_model\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input[name=model_name]\",\n            run: `edit second menu ${randomString(6)}`,\n        },\n        {\n            trigger: \".confirm_button\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n            run: \"click\",\n        },\n        {\n            // leave studio\n            trigger: \".o_web_studio_leave > a.btn\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_client:not(.o_in_studio)\",\n        },\n        {\n            // open studio again to check the new menu can be edited\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            // check we are back in studio\n            trigger: \".o_in_studio\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_new_report_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body.o_in_studio\",\n        },\n        {\n            // click on the created app\n            trigger: '.o_app[data-menu-xmlid*=\"studio\"]:first',\n            run: \"click\",\n        },\n        {\n            // edit reports\n            trigger: \".o_web_studio_menu li a:contains(Reports)\",\n            run: \"click\",\n        },\n        {\n            // create a new report\n            trigger: \".o_control_panel .o-kanban-button-new\",\n            run: \"click\",\n        },\n        {\n            // select external layout\n            trigger: '.o_web_studio_report_layout_dialog div[data-layout=\"web.external_layout\"]',\n            run: \"click\",\n        },\n        {\n            // edit report name\n            trigger: '.o_web_studio_sidebar input[id=\"name\"]',\n            run: \"edit My Awesome Report && click body\",\n        },\n        {\n            // add a new group on the node\n            trigger: '.o_web_studio_sidebar .o_field_many2many_tags[name=\"groups_id\"] input',\n            run: \"click\",\n        },\n        {\n            trigger: \".o-autocomplete--dropdown-menu li:contains(Access Rights)\",\n            run: \"click\",\n        },\n        {\n            // wait for the group to appear\n            trigger:\n                '.o_web_studio_sidebar .o_field_many2many_tags[name=\"groups_id\"] .o_tag_badge_text:contains(Access Rights)',\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable div.page div\",\n            run() {\n                this.anchor.ownerDocument.getSelection().setPosition(this.anchor);\n                assertEqual(\n                    this.anchor.outerHTML,\n                    `<div class=\"oe_structure o-paragraph\" o-diff-key=\"3\"><br></div>`\n                );\n            },\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable div.page div\",\n            run() {\n                assertEqual(this.anchor.classList.contains(\"o-we-hint\"), true);\n            },\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable div.page div\",\n            run: \"editor some new text\",\n        },\n        {\n            trigger: \".o_web_studio_menu .o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            // The report has been saved\n            trigger: \".o_web_studio_menu .o-web-studio-save-report:not(.btn-primary)\",\n        },\n        {\n            trigger: \".o_web_studio_breadcrumb .o_back_button:contains(Reports)\",\n            run: \"click\",\n        },\n        {\n            content: \"open the dropdown\",\n            trigger: \".o_kanban_record:contains(My Awesome Report) .dropdown-toggle:not(:visible)\",\n            run: \"click\",\n        },\n        {\n            // duplicate the report\n            trigger: \".dropdown-menu a:contains(Duplicate)\",\n            run: \"click\",\n        },\n        {\n            // open the duplicate report\n            trigger: \".o_kanban_record:contains(My Awesome Report copy(1))\",\n            run: \"click\",\n        },\n        {\n            // switch to 'Report' tab\n            trigger: \".o_web_studio_sidebar input[id='name']\",\n            run() {\n                assertEqual(this.anchor.value, \"My Awesome Report copy(1)\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe div.page div\",\n            run() {\n                assertEqual(this.anchor.textContent, \"some new text\");\n            },\n        },\n        {\n            trigger:\n                '.o_web_studio_sidebar .o_field_many2many_tags[name=\"groups_id\"] .o_tag_badge_text:contains(Access Rights)',\n        },\n        {\n            trigger: \".o_web_studio_leave > a.btn\",\n            run: \"click\",\n        },\n        ...stepNotInStudio(),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_new_report_basic_layout_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body.o_in_studio\",\n        },\n        {\n            // click on the created app\n            trigger: '.o_app[data-menu-xmlid*=\"studio\"]:first',\n            run: \"click\",\n        },\n        {\n            // edit reports\n            trigger: \".o_web_studio_menu li a:contains(Reports)\",\n            run: \"click\",\n        },\n        {\n            // create a new report\n            trigger: \".o_control_panel .o-kanban-button-new\",\n            run: \"click\",\n        },\n        {\n            // select basic layout\n            trigger: '.o_web_studio_report_layout_dialog div[data-layout=\"web.basic_layout\"]',\n            run: \"click\",\n        },\n        {\n            // edit report name\n            trigger: '.o_web_studio_sidebar input[id=\"name\"]',\n            run: \"edit My Awesome basic layout Report && click body\",\n        },\n        {\n            // add a new group on the node\n            trigger: '.o_web_studio_sidebar .o_field_many2many_tags[name=\"groups_id\"] input',\n            run: \"click\",\n        },\n        {\n            trigger: \".o-autocomplete--dropdown-menu li:contains(Access Rights)\",\n            run: \"click\",\n        },\n        {\n            // wait for the group to appear\n            trigger:\n                '.o_web_studio_sidebar .o_field_many2many_tags[name=\"groups_id\"] .o_tag_badge_text:contains(Access Rights)',\n        },\n        {\n            trigger: \".o_web_studio_menu .o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            // The report has been saved\n            trigger: \".o_web_studio_menu .o-web-studio-save-report:not(.btn-primary)\",\n        },\n        {\n            // leave the report\n            trigger: \".o_web_studio_breadcrumb .o_back_button:contains(Reports)\",\n            run: \"click\",\n        },\n        {\n            content: \"open the dropdown\",\n            trigger: \".o_kanban_record:contains(My Awesome basic layout Report)\",\n            run: \"hover && click .o_kanban_record:contains(My Awesome basic layout Report) .dropdown-toggle\",\n        },\n        {\n            // duplicate the report\n            trigger: \".dropdown-menu .dropdown-item:contains(Duplicate)\",\n            run: \"click\",\n        },\n        {\n            // open the duplicate report\n            trigger: \".o_kanban_record:contains(My Awesome basic layout Report copy(1))\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_web_studio_sidebar input[id=\"name\"]',\n            run() {\n                assertEqual(this.anchor.value, \"My Awesome basic layout Report copy(1)\");\n            },\n        },\n        {\n            trigger: \".o_web_studio_leave > a.btn\",\n            run: \"click\",\n        },\n        ...stepNotInStudio(),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_approval_tour\", {\n    url: \"/odoo?debug=1\",\n    steps: () => [\n        {\n            // go to Apps menu\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_cp_switch_buttons\",\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            // switch to form view editor\n            trigger: '.o_web_studio_views_icons > a[title=\"Form\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_view\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar #show_invisible\",\n            run: \"click\",\n        },\n        {\n            content: \"click on first button it finds that has a node id\",\n            trigger:\n                \".o_web_studio_form_view_editor button[name='button_immediate_upgrade'].o-web-studio-editor--element-clickable\",\n            run: \"click\",\n        },\n        {\n            // enable approvals for the button\n            trigger: '.o_web_studio_sidebar_approval [name=\"create_approval_rule\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_snackbar .fa-check\",\n        },\n        {\n            // add approval rule\n            trigger: '.o_web_studio_sidebar_approval [name=\"create_approval_rule\"]',\n            run: \"click\",\n        },\n        {\n            // set approval message\n            trigger: '.o_web_studio_sidebar_approval input[name*=\"approval_message\"]',\n            run: \"edit nope\",\n        },\n        {\n            trigger: \".o_studio_sidebar_approval_rule:eq(1)\",\n        },\n        {\n            // set domain on first rule\n            trigger: \".o_web_studio_sidebar_approval .o_approval_domain\",\n            run: \"click\",\n        },\n        {\n            // set stupid domain that is always truthy\n            trigger: \".o_domain_selector_debug_container textarea\",\n            run: function () {\n                this.anchor.focus();\n                this.anchor.value = '[[\"id\", \"!=\", False]]';\n                this.anchor.dispatchEvent(new Event(\"change\", { bubbles: true }));\n            },\n        },\n        {\n            // save domain and close modal\n            trigger: \" .modal-footer .btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_snackbar .fa-check\",\n        },\n        {\n            // add second approval rule when the first is set\n            trigger: '.o_web_studio_sidebar_approval [name=\"create_approval_rule\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_snackbar .fa-check\",\n        },\n        {\n            // enable 'force different users' for one rule (doesn't matter which)\n            trigger: '.o_web_studio_sidebar label[for*=\"exclusive_user\"]',\n            run: \"click\",\n        },\n        {\n            // switch to kanban view editor\n            trigger: '.o_web_studio_views_icons > a[title=\"Kanban\"]',\n            run: \"click\",\n        },\n        {\n            // leave studio\n            trigger: \".o_web_studio_leave > a.btn\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_client:not(.o_in_studio)\",\n        },\n        {\n            // TODO: add breacrumb to access multi-record view when closing studio and close studio from form instead of from kanban\n            // trigger: \".o_breadcrumb .o_back_button\",\n            trigger: \"body\",\n        },\n        {\n            trigger: \".o_searchview_dropdown_toggler\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-dropdown-item:contains(Installed)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_searchview_input\",\n            run: \"edit web_studio\",\n        },\n        {\n            trigger: \".o_menu_item.dropdown-item:contains(Module)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_record:not(.o_kanban_ghost):only\",\n        },\n        {\n            content:\n                \"open first record (should be the one that was used, so the button should be there)\",\n            trigger:\n                \".o_kanban_view .o_kanban_record:not(.o_kanban_ghost):not(:has(button[name='button_immediate_install'])) .o_dropdown_kanban .dropdown-toggle\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-dropdown--menu .dropdown-item\",\n            run: \"click\",\n        },\n        {\n            // try to do the action\n            trigger: \"button[name='button_immediate_upgrade']\",\n            run: \"click\",\n        },\n        {\n            // there should be a warning\n            trigger: \".o_notification_bar.bg-warning\",\n            run: \"click\",\n        },\n        {\n            trigger: \".breadcrumb .o_back_button\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body .o_modules_kanban\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_custom_field_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        {\n            // go to Apps menu\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n            run: \"click\",\n        },\n        {\n            // click on the list view\n            trigger: \".o_switch_view.o_list\",\n            run: \"click\",\n        },\n        {\n            // click on optional column dropdown\n            trigger: \".o_optional_columns_dropdown_toggle\",\n            run: \"click\",\n        },\n        {\n            // click on add custom field\n            trigger: \".dropdown-item-studio\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_client.o_in_studio\",\n        },\n        {\n            // go to home menu\n            trigger: \".o_menu_toggle\",\n            run: \"click\",\n        },\n        {\n            //leave studio\n            trigger: \".o_web_studio_leave > a.btn\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_client:not(.o_in_studio)\",\n        },\n        {\n            // studio left.\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n            run: \"click\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_local_storage_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        {\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n            run: function () {\n                localStorage.setItem(\"openStudioOnReload\", \"main\");\n                window.location.reload();\n            },\n        },\n        {\n            trigger: \".o_web_client.o_in_studio\",\n        },\n        {\n            // should be directly in studio mode\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_menu_toggle\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_leave > a.btn\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_client:not(.o_in_studio)\",\n        },\n        {\n            // studio left.\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n            run: function () {\n                window.location.reload();\n            },\n        },\n        {\n            trigger: \".o_web_client:not(.o_in_studio)\",\n        },\n        {\n            // studio left after refresh.\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n            run: \"click\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_custom_background_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        {\n            content: \"class for custom background must be enabled (outside studio)\",\n            trigger: \".o_home_menu_background_custom.o_home_menu_background:not(.o_in_studio)\",\n            run: () => null,\n        },\n        {\n            content: \"opening studio\",\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            content: \"class for custom background must be enabled (in studio)\",\n            trigger: \".o_home_menu_background_custom.o_home_menu_background.o_in_studio\",\n            run: () => null,\n        },\n        {\n            content: \"reset the background\",\n            trigger: \".o_web_studio_reset_default_background\",\n            run: \"click\",\n        },\n        {\n            content: \"validate the reset of the background\",\n            trigger: \".modal-dialog .btn-primary\",\n            run: \"click\",\n        },\n        {\n            content: \"class for custom background must be disabled (inside studio)\",\n            trigger: \".o_home_menu_background.o_in_studio:not(.o_home_menu_background_custom)\",\n            run: () => null,\n        },\n        {\n            content: \"leaving studio\",\n            trigger: \".o_web_studio_leave a\",\n            run: \"click\",\n        },\n        {\n            content: \"class for custom background must be disabled (outside studio)\",\n            trigger: \".o_home_menu_background:not(.o_in_studio.o_home_menu_background_custom)\",\n            run: () => null,\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_create_app_with_pipeline_and_user_assignment\", {\n    steps: () => [\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n            run: \"click\",\n        },\n        {\n            // the next steps are here to create a new app\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_name > input\",\n            run: `edit ${(createdAppString = randomString(6))}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_menu_creator > input\",\n            run: `edit ${(createdAppString = randomString(6))}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input#use_stages\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input#use_responsible\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_editor .o_menu_sections a:contains(Views)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_thumbnail_item.o_web_studio_thumbnail_kanban\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_kanban_view_editor\",\n        },\n        {\n            trigger: \".o_avatar.o_m2o_avatar\",\n            run() {\n                const avatarImg = document.querySelector(\".o_avatar.o_m2o_avatar a\");\n                if (!avatarImg.getAttribute(\"title\") === \"Assign\") {\n                    throw new Error(\n                        \"It should be possible to assign a record, when no one is currently selected\"\n                    );\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_alter_field_existing_in_multiple_views_tour\", {\n    steps: () => [\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item button\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n            run: \"click\",\n        },\n        {\n            // the next steps are here to create a new app\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_name > input\",\n            run: `edit ${(createdAppString = randomString(6))}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_menu_creator > input\",\n            run: `edit ${createdAppString}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar\",\n        },\n        {\n            // unfold 'Existing Fieldqs' section\n            trigger: \".o_web_studio_existing_fields_header\",\n            timeout: 60000,\n            run: \"click\",\n        },\n        {\n            // add an existing field (the one we created)\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(2) .o_web_studio_field_many2many:contains(Followers (Partners))\",\n            run: \"drag_and_drop .o_inner_group:first .o_web_studio_hook:first\",\n        },\n        {\n            trigger: \".o_web_studio_new \",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(1) .o_web_studio_field_many2many\",\n            run: \"drag_and_drop div.o_web_studio_hook:last\",\n        },\n        {\n            trigger: \".modal-body\",\n        },\n        {\n            trigger: '.modal:not(.o_inactive_modal) [name=\"relation_id\"] input',\n            run: `edit ${createdAppString}`,\n        },\n        {\n            // select the first model\n            trigger:\n                \".modal:not(.o_inactive_modal) .o-autocomplete--dropdown-menu > li > a:not(:has(.fa-spin))\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains(Confirm)\",\n            run: \"click\",\n        },\n        {\n            // edit list view\n            trigger: \".o_web_studio_editX2Many\",\n            run: \"click\",\n        },\n        {\n            // wait for list view to be loaded\n            trigger: \".o_web_studio_list_view_editor\",\n        },\n        {\n            // go to view\n            trigger: \".o_web_studio_view \",\n            run: \"click\",\n        },\n        {\n            // show invisible elements\n            trigger: 'label[for=\"show_invisible\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_new \",\n            run: \"click\",\n        },\n        {\n            // unfold 'Existing Fieldqs' section\n            trigger: \".o_web_studio_existing_fields_header\",\n            run: \"click\",\n        },\n        {\n            // add an existing field (the one we created)\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(1) .o_web_studio_field_many2many:contains(Followers (Partners))\",\n            run: \"drag_and_drop .o_web_studio_list_view_editor th.o_web_studio_hook:first\",\n        },\n        {\n            // select field\n            trigger: \"th[data-name='message_partner_ids']\",\n            run: \"click\",\n        },\n        {\n            // make it invisible\n            trigger: \"#invisible\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_snackbar .fa.fa-check\",\n        },\n        {\n            // check if the invisible option is checked\n            trigger: \"#invisible:checked\",\n        },\n    ],\n});\n\nconst buttonToogleStudio = {\n    trigger: `button[title=\"Toggle Studio\"]`,\n    run: \"click\",\n};\nconst addActionButtonModalSteps = (\n    ActionLabel = \"web_studio_new_button_action_name\",\n    ActionName = \"Privacy Lookup\"\n) => [\n    {\n        trigger: \".o-web-studio-editor--add-button-action\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o-web-studio-editor--modal-add-action input#set_label\",\n        run: `edit ${ActionLabel}`,\n    },\n    {\n        trigger: \".o-web-studio-editor--modal-add-action input#set_button_type_to_action\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o-web-studio-editor--modal-add-action .o_record_selector input\",\n        run: `edit ${ActionName}`,\n    },\n    {\n        trigger: `.o-web-studio-editor--modal-add-action .o-autocomplete--dropdown-menu li a:not(:has(.fa-spin)):contains(${ActionName})`,\n        run: \"click\",\n    },\n    {\n        trigger: \"footer button.o-web-studio-editor--add-button-confirm\",\n        run: \"click\",\n    },\n];\n\nconst addMethodButtonModalSteps = () => [\n    {\n        trigger: \".o-web-studio-editor--add-button-action\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o-web-studio-editor--modal-add-action input#set_label\",\n        run: `edit test`,\n    },\n    {\n        trigger: \".o-web-studio-editor--modal-add-action input#set_button_type_to_object\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o-web-studio-editor--modal-add-action  input#set_method\",\n        run: `edit demo && click body`,\n    },\n];\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_check_method_in_model\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        buttonToogleStudio,\n        ...addMethodButtonModalSteps(),\n        {\n            trigger: \"div.text-danger\",\n            run() {\n                const div_error = document.querySelector(\"div.text-danger\");\n                assertEqual(\n                    div_error.innerHTML,\n                    \"The method demo does not exist on the model res.partner().\"\n                );\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_create_action_button_in_form_view\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        buttonToogleStudio,\n        ...addActionButtonModalSteps(),\n        {\n            trigger: \".o_web_studio_leave a\",\n            run: \"click\",\n        },\n        ...stepNotInStudio(\".o_form_view\"),\n    ],\n});\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"web_studio_test_create_second_action_button_in_form_view\", {\n        steps: () => [\n            {\n                trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_form_view .o_form_editable\",\n                run: \"click\",\n            },\n            buttonToogleStudio,\n            ...addActionButtonModalSteps(\"web_studio_other_button_action_name\", \"Download (vCard)\"),\n            {\n                trigger: \".o_web_studio_leave a\",\n                run: \"click\",\n            },\n            ...stepNotInStudio(\".o_form_view\"),\n        ],\n    });\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_create_action_button_in_list_view\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        buttonToogleStudio,\n        {\n            trigger: \".o_web_studio_views_icons a[aria-label='List']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_optional_columns_dropdown button\",\n            run: \"click\",\n        },\n        ...addActionButtonModalSteps(),\n        {\n            trigger: \".o_web_studio_leave a\",\n            run: \"click\",\n        },\n        ...stepNotInStudio(\".o_list_view\"),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_remove_action_button_in_form_view\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        buttonToogleStudio,\n        {\n            trigger: 'button[studioxpath=\"/form[1]/header[1]/button[1]\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \"button.o_web_studio_remove\",\n            run: \"click\",\n        },\n        {\n            trigger: \"footer.modal-footer>button.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_leave a\",\n            run: \"click\",\n        },\n        ...stepNotInStudio(\".o_form_view\"),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_remove_action_button_in_list_view\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        buttonToogleStudio,\n        {\n            trigger: \".o_web_studio_views_icons a[aria-label='List']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_optional_columns_dropdown button\",\n            run: \"click\",\n        },\n        {\n            trigger: 'button[studioxpath=\"/list[1]/header[1]/button[1]\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \"button.o_web_studio_remove\",\n            run: \"click\",\n        },\n        {\n            trigger: \"footer.modal-footer>button.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_leave a\",\n            run: \"click\",\n        },\n        ...stepNotInStudio(\".o_list_view\"),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_monetary_create\", {\n    url: \"/odoo?debug=1\",\n    steps: () => [\n        // This tour drag&drop a monetary field and verify that a currency is created\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            trigger: \".o_app[data-menu-xmlid='web_studio.studio_app_menu']\",\n            run: \"click\",\n        },\n        // drag&drop a monetary and verify that the currency is in the view\n        {\n            // add a new monetary field\n            trigger: \".o_web_studio_sidebar .o_web_studio_field_monetary\",\n            run: \"drag_and_drop .o_web_studio_form_view_editor .o_inner_group\",\n        },\n        {\n            // verify that the currency is set\n            trigger: \".o_web_studio_sidebar .o_web_studio_property_currency_field .text-start\",\n            run() {\n                assertEqual(this.anchor.textContent, \"Currency (x_studio_currency_id)\");\n            },\n        },\n        {\n            // currency field is in the view\n            trigger: \".o_web_studio_view_renderer div[data-field-name='x_studio_currency_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_properties.active\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_monetary_change_currency_name\", {\n    url: \"/odoo?debug=1\",\n    steps: () => [\n        // Changing currency name also change the currency name in the monetary currency selection\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            trigger: \".o_app[data-menu-xmlid='web_studio.studio_app_menu']\",\n            run: \"click\",\n        },\n        {\n            // currency field is in the view and click on it\n            trigger: \".o_web_studio_view_renderer [data-field-name='x_studio_currency_test']\",\n            run: \"click\",\n        },\n        {\n            // change the currency name\n            trigger: \"input[name='string']\",\n            run: \"edit NewCurrency && click body\",\n        },\n        {\n            // click on monetary\n            trigger: \"div[data-field-name^='x_studio_monetary_test']\",\n            run: \"click\",\n        },\n        {\n            // verify that the currency name changed in the monetary field\n            trigger: \".o_web_studio_sidebar .o_web_studio_property_currency_field .text-start\",\n            run() {\n                assertEqual(this.anchor.textContent, \"NewCurrency (x_studio_currency_test)\");\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_related_monetary_creation\", {\n    url: \"/odoo?debug=1\",\n    steps: () => [\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            trigger: \".o_app[data-menu-xmlid='web_studio.studio_app_menu']\",\n            run: \"click\",\n        },\n        {\n            // add a new related field\n            trigger: \".o_web_studio_sidebar .o_web_studio_field_related\",\n            run: \"drag_and_drop .o_web_studio_form_view_editor .o_inner_group\",\n        },\n        {\n            trigger: \".o_model_field_selector_value\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_search input\",\n            run: \"edit X Test\",\n        },\n        {\n            run: \"click\",\n            trigger:\n                \".o_model_field_selector_popover_item[data-name='x_test'] .o_model_field_selector_popover_item_relation\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_search input\",\n            run: \"edit X Studio Monetary Test\",\n        },\n        {\n            run: \"click\",\n            trigger:\n                \".o_model_field_selector_popover_item[data-name='x_studio_monetary_test'] button\",\n        },\n        {\n            trigger: \".modal-footer button.btn-primary\",\n            run: \"click\",\n        },\n        {\n            // The related monetary is created\n            trigger: \".o_web_studio_view_renderer .o_form_label:contains('New Related Field')\",\n            run: \"click\",\n        },\n        {\n            // The currency is created\n            trigger: \".o_web_studio_view_renderer [data-field-name='x_studio_currency_id']\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_monetary_change_currency_field\", {\n    url: \"/odoo\",\n    steps: () => [\n        // Change currency and verify that the view take the changes into account (the dollar appears)\n        {\n            // open the custom app form view\n            trigger: \"a[data-menu-xmlid='web_studio.studio_app_menu']\",\n            run: \"click\",\n        },\n        {\n            // fill the required char input\n            trigger: \".o_field_char input\",\n            run: \"edit title\",\n        },\n        {\n            // fill the new currency (many2one) input #1\n            trigger: \"div [name='x_studio_currency_test2'] input\",\n            run: \"edit USD\",\n        },\n        {\n            // add a new currency field step #2\n            trigger: '.ui-menu-item a:contains(\"USD\")',\n            run: \"click\",\n        },\n        {\n            // save the view form\n            trigger: \"button.o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_saved\",\n        },\n        {\n            // open studio with the record\n            trigger: \".o_main_navbar .o_web_studio_navbar_item button\",\n            run: \"click\",\n        },\n        {\n            // check that there is no currency symbol in renderer\n            trigger: \"div[name='x_studio_monetary_test'] span\",\n            run() {\n                assertEqual(this.anchor.textContent, \"0.00\");\n            },\n        },\n        {\n            // click on the monetary field\n            trigger: \"div[data-field-name='x_studio_monetary_test']\",\n            run: \"click\",\n        },\n        {\n            // change the currency_field in the monetary\n            trigger: \".o_web_studio_sidebar .o_web_studio_property_currency_field button\",\n            run: \"click\",\n        },\n        {\n            // click on the second currency, which is \"X Studio Currency Test2\"\n            trigger: \".o-dropdown--menu .o_select_menu_item:nth-child(2)\",\n            run: \"click\",\n        },\n        {\n            //wait until the currency has been set (also test the reactivity)\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_property_currency_field span.text-start:contains('X Studio Currency Test2')\",\n        },\n        {\n            // by changing the currency, we should have a $ symbol in the renderer\n            trigger: \"div[name^='x_studio_monetary'] span\",\n            run() {\n                assertEqual(this.anchor.textContent, \"$\u00a00.00\");\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_monetary_change_currency_not_in_view\", {\n    url: \"/odoo\",\n    steps: () => [\n        // Change a currency that is not present in the view insert it in the view\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            trigger: \".o_app[data-menu-xmlid='web_studio.studio_app_menu']\",\n            run: \"click\",\n        },\n        {\n            // click on the monetary field\n            trigger: \"div[data-field-name='x_studio_monetary_test']\",\n            run: \"click\",\n        },\n        {\n            // change the currency_field in the monetary\n            trigger: \".o_web_studio_sidebar .o_web_studio_property_currency_field button\",\n            run: \"click\",\n        },\n        {\n            // click on the second currency, which is \"X Studio Currency Test2\"\n            trigger: \".o-dropdown--menu .o_select_menu_item:nth-child(2)\",\n            run: \"click\",\n        },\n        {\n            // wait until the currency has been set\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_property_currency_field span.text-start:contains('X Studio Currency Test2')\",\n        },\n        {\n            // go to view tab\n            trigger: \".o_web_studio_view\",\n            run: \"click\",\n        },\n        {\n            // currency field is in the view and click on it\n            trigger: \".o_web_studio_view_renderer div[data-field-name='x_studio_currency_test2']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_properties.active\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_monetary_add_existing_monetary\", {\n    url: \"/odoo?debug=1\",\n    steps: () => [\n        // Add an existing monetary trough the \"existing fields\" and verify that the currency\n        // is added to the view\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            trigger: \".o_app[data-menu-xmlid='web_studio.studio_app_menu']\",\n            run: \"click\",\n        },\n        {\n            // click on \"existing fields\"\n            trigger: \".o_web_studio_existing_fields_header\",\n            run: \"click\",\n        },\n        {\n            // add the existing monetary field\n            trigger: \".o_web_studio_existing_fields_section .o_web_studio_field_monetary\",\n            run: \"drag_and_drop .o_form_renderer .o_web_studio_hook\",\n        },\n        {\n            // monetary exist and click on monetary\n            trigger: \"div[data-field-name='x_studio_monetary_test']\",\n            run: \"click\",\n        },\n        {\n            // verify that the currency name changed in the monetary field\n            trigger: \".o_web_studio_sidebar .o_web_studio_property_currency_field .text-start\",\n            run() {\n                assertEqual(\n                    this.anchor.textContent,\n                    \"X Studio Currency Test (x_studio_currency_test)\"\n                );\n            },\n        },\n        {\n            // currency field is in the view\n            trigger: \"div[data-field-name='x_studio_currency_test']\",\n        },\n    ],\n});\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"web_studio_monetary_create_monetary_with_existing_currency\", {\n        url: \"/odoo?debug=1\",\n        steps: () => [\n            // Add a new monetary field, since a currency already exists, it should take it instead\n            // of creating a new one\n            {\n                trigger: \".o_home_menu_background\",\n            },\n            {\n                // open studio\n                trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_web_studio_new_app\",\n            },\n            {\n                trigger: \".o_app[data-menu-xmlid='web_studio.studio_app_menu']\",\n                run: \"click\",\n            },\n            {\n                // go to Add tab\n                trigger: \".o_web_studio_new\",\n                run: \"click\",\n            },\n            {\n                // add a new monetary field\n                trigger: \".o_web_studio_sidebar .o_web_studio_field_monetary\",\n                async run(helpers) {\n                    await helpers.drag_and_drop(\n                        `.o_web_studio_form_view_editor .o_inner_group .o_web_studio_hook:eq(1)`,\n                        {\n                            position: {\n                                bottom: 0,\n                            },\n                            relative: true,\n                        }\n                    );\n                },\n            },\n            {\n                // there is only one occurence of the currency field in the view\n                trigger: \".o_form_renderer div[data-field-name^='x_studio_monetary']\",\n                run() {\n                    const o2mNumber = document.querySelectorAll(\"div.o_field_many2one\");\n                    assertEqual(o2mNumber.length, 1);\n                },\n            },\n        ],\n    });\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_add_field_into_empty_group_by\", {\n    url: \"/odoo?debug=1\",\n    steps: () => [\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_name > input\",\n            run: `edit ${randomString(6)}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_menu_creator > input\",\n            run: `edit ${randomString(6)}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_views_icons a:last\",\n            run: \"click\",\n        },\n        {\n            trigger: `\n        .o_web_studio_sidebar\n        .o_web_studio_existing_fields\n        .o_web_studio_component:has(.o_web_studio_component_description:contains(create_date))`,\n            run: \"drag_and_drop .o-web-studio-search--groupbys .o_web_studio_hook\",\n        },\n    ],\n});\n", "/** @odoo-module */\nimport { registry } from \"@web/core/registry\";\nimport { download } from \"@web/core/network/download\";\nimport { patch } from \"@web/core/utils/patch\";\nimport { parseXML, serializeXML } from \"@web/core/utils/xml\";\nimport { assertEqual, stepNotInStudio, nextTick } from \"@web_studio/../tests/tours/tour_helpers\";\nimport { cookie } from \"@web/core/browser/cookie\";\nimport { Editor } from \"@html_editor/editor\";\nimport { nodeSize } from \"@html_editor/utils/position\";\n\nconst getBoundingClientRect = Element.prototype.getBoundingClientRect;\n\nconst editorsWeakMap = new WeakMap();\npatch(Editor.prototype, {\n    attachTo(editable) {\n        editorsWeakMap.set(editable.ownerDocument, this);\n        return super.attachTo(...arguments);\n    },\n});\n\nfunction normalizeXML(str) {\n    const doc = parseXML(str);\n    /* Recursively trim text nodes conditionally\n     * if they start or end with a newline (\\n).\n     * In that case we make the assumption that all whitespaces\n     * are materializing indentation.\n     * If there are only spaces (\\s), we make the assumption that they\n     * are actual spaces that are visible to the naked eye of the user.\n     */\n    const nodes = [...doc.childNodes];\n    for (const node of nodes) {\n        if (node.nodeType === Node.TEXT_NODE) {\n            let nodeValue = node.nodeValue;\n            if (nodeValue.startsWith(\"\\n\")) {\n                nodeValue = nodeValue.trimStart();\n            }\n            if (nodeValue.endsWith(\"\\n\")) {\n                nodeValue = nodeValue.trimEnd();\n            }\n            node.nodeValue = nodeValue;\n        }\n        if (node.nodeType === Node.ELEMENT_NODE) {\n            nodes.push(...node.childNodes);\n        }\n    }\n\n    return serializeXML(doc);\n}\n\nfunction insertText(element, text, offsets = null) {\n    const doc = element.ownerDocument;\n    const sel = doc.getSelection();\n    let range;\n    if (sel && sel.rangeCount) {\n        range = sel.getRangeAt(sel.rangeCount - 1);\n    }\n    if (offsets || !range) {\n        const { start, end } = offsets || {};\n        sel.removeAllRanges();\n        range = doc.createRange();\n        range.setStart(element, start || 0);\n        range.setEnd(element, end || start || 0);\n        sel.addRange(range);\n    }\n\n    const evOptions = {\n        view: doc.defaultView,\n        bubbles: true,\n        composed: true,\n        cancelable: true,\n        isTrusted: true,\n    };\n\n    for (const char of text) {\n        element.dispatchEvent(\n            new KeyboardEvent(\"keydown\", {\n                ...evOptions,\n                key: char,\n            })\n        );\n        element.dispatchEvent(\n            new KeyboardEvent(\"keypress\", {\n                ...evOptions,\n                key: char,\n            })\n        );\n        element.dispatchEvent(\n            new InputEvent(\"input\", {\n                ...evOptions,\n                inputType: \"insertText\",\n                data: char,\n            })\n        );\n        const newNode = doc.createTextNode(char);\n        element.append(newNode);\n        range.setEndAfter(newNode);\n\n        element.dispatchEvent(\n            new KeyboardEvent(\"keyup\", {\n                ...evOptions,\n                key: char,\n            })\n        );\n    }\n}\n\nfunction openEditorPowerBox(element, offsets = null) {\n    return insertText(element, \"/\", offsets);\n}\n\n/* global ace */\n\n// This function allows to use and test the feature that automatically\n// saves when we leave the reportEditor.\n// Implem detail: it is done at willUnmount, so we need to wait for the promise\n// to be sure we leave the tour when the save is done.\nfunction patchReportEditorModelForSilentSave() {\n    const saveProms = [];\n    const { ReportEditorModel } = odoo.loader.modules.get(\n        \"@web_studio/client_action/report_editor/report_editor_model\"\n    );\n    const _unpatch = patch(ReportEditorModel.prototype, {\n        saveReport() {\n            const prom = super.saveReport(...arguments);\n            saveProms.push(prom);\n            return prom;\n        },\n    });\n\n    return {\n        wait: async (unpatch = true) => {\n            await Promise.all(saveProms);\n            if (unpatch) {\n                _unpatch();\n            }\n        },\n        saveProms,\n        unpatch: _unpatch,\n    };\n}\n\nlet silentPatch;\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_basic_report_edition\", {\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar input[id='name']\",\n            run: \"edit modified in test && click body\",\n        },\n        {\n            trigger: \".o_web_studio_menu .breadcrumb-item.active\",\n            run() {\n                assertEqual(this.anchor.textContent, \"modified in test\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(0)\",\n            run: \"editor edited with odoo editor\",\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(2)\",\n            run: \"editor edited with odoo editor 2\",\n        },\n        {\n            // Don't explicitly save, this is a feature\n            trigger: \".o_web_studio_leave a\",\n            run(helpers) {\n                silentPatch = patchReportEditorModelForSilentSave();\n                helpers.click();\n            },\n        },\n        ...stepNotInStudio(),\n        {\n            trigger: \"body\",\n            run() {\n                return silentPatch.wait();\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_basic_report_edition_xml\", {\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_edit_sources']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_xml_resource_selector .o_web_studio_xml_resource_select_menu\",\n            run() {\n                assertEqual(\n                    this.anchor.textContent,\n                    \"web_studio.test_report_document (web_studio.test_report_document)\"\n                );\n            },\n        },\n        {\n            trigger: \".o_web_studio_code_editor.ace_editor\",\n            run() {\n                ace.edit(this.anchor)\n                    .getSession()\n                    .insert(\n                        { row: 2, column: 0 },\n                        '<span class=\"test-added-0\">in document view</span>\\n'\n                    );\n            },\n        },\n        {\n            trigger: \".o_web_studio_xml_resource_selector .o_select_menu_toggler\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-dropdown--menu\",\n            run(helpers) {\n                const mainView = Array.from(\n                    this.anchor.querySelectorAll(\".o_select_menu_item\")\n                ).find(\n                    (el) =>\n                        el.textContent ===\n                        \"web_studio.test_report (web_studio.studio_test_report_view)\"\n                );\n                helpers.click(mainView);\n            },\n        },\n        {\n            trigger: \".o_web_studio_code_editor.ace_editor\",\n            run() {\n                ace.edit(this.anchor)\n                    .getSession()\n                    .insert(\n                        { row: 2, column: 0 },\n                        '<span class=\"test-added-1\">in main view</span>\\n'\n                    );\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n        {\n            trigger: \".o-web-studio-report-container :iframe body\",\n            run() {\n                assertEqual(\n                    this.anchor.querySelector(\".test-added-0\").textContent,\n                    \"in document view\"\n                );\n                assertEqual(this.anchor.querySelector(\".test-added-1\").textContent, \"in main view\");\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_basic_report_edition_discard\", {\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar input[id='name']\",\n            run: \"edit modified in test && click body\",\n        },\n        {\n            trigger: \".o_web_studio_menu .breadcrumb-item.active\",\n            run() {\n                assertEqual(this.anchor.textContent, \"modified in test\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(0)\",\n            run: \"editor edited with odoo editor\",\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(2)\",\n            run: \"editor edited with odoo editor 2\",\n        },\n        {\n            trigger: \".o-web-studio-discard-report.btn-secondary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-dialog .btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(0)\",\n            run() {\n                assertEqual(this.anchor.textContent, \"\");\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_basic_report_edition_cancel_discard\", {\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar input[id='name']\",\n            run: \"edit modified in test && click body\",\n        },\n        {\n            trigger: \".o_web_studio_menu .breadcrumb-item.active\",\n            run() {\n                assertEqual(this.anchor.textContent, \"modified in test\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(0)\",\n            run: \"editor edited with odoo editor\",\n        },\n        {\n            trigger: \".o-web-studio-discard-report.btn-secondary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-dialog .btn-secondary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(0)\",\n            run() {\n                assertEqual(this.anchor.textContent, \"edited with odoo editor\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_basic_report_edition_xml_discard\", {\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_edit_sources']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_code_editor.ace_editor\",\n            run() {\n                ace.edit(this.anchor)\n                    .getSession()\n                    .insert({ row: 2, column: 0 }, '<span class=\"test-added\">in main view</span>');\n            },\n        },\n        {\n            trigger: \".o-web-studio-discard-report.btn-secondary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-report-container :iframe body\",\n            run() {\n                const element = this.anchor.querySelector(\".test-added\");\n                if (element) {\n                    throw new Error(\"The changes should have been discarded\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_basic_report_edition_error\", {\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(0)\",\n            run: \"editor edited with odoo editor\",\n        },\n        {\n            // Brutally add a t-else: this will crash in python on save\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable\",\n            run() {\n                const editor = editorsWeakMap.get(this.anchor.ownerDocument);\n                const telse = editor.document.createElement(\"t\");\n                telse.setAttribute(\"t-else\", \"\");\n                editor.shared.dom.insert(telse);\n                editor.shared.history.addStep();\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(2)\",\n            run: \"editor edited with odoo editor 2\",\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_notification .o_notification_title\",\n            run() {\n                assertEqual(this.anchor.textContent, \"Report edition failed\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(0)\",\n            run() {\n                // The iframe shouldn't have been reset after an error\n                assertEqual(this.anchor.textContent, \"edited with odoo editor\");\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_basic_report_edition_xml_error\", {\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_edit_sources']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_code_editor.ace_editor\",\n            run() {\n                ace.edit(this.anchor)\n                    .getSession()\n                    .insert(\n                        { row: 2, column: 0 },\n                        '<span t-else=\"\" class=\"test-added\">in main view</span>'\n                    );\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_notification .o_notification_title\",\n            run() {\n                assertEqual(this.anchor.textContent, \"Report edition failed\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-container :iframe body\",\n            run() {\n                const element = this.anchor.querySelector(\".test-added\");\n                if (element) {\n                    throw new Error(\"The changes should have been discarded\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_report_reset_archs\", {\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_reset_archs']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-footer\",\n            run(helpers) {\n                const button = Array.from(this.anchor.querySelectorAll(\"button\")).find(\n                    (el) => el.textContent === \"Reset report\" && el.classList.contains(\"btn-danger\")\n                );\n                helpers.click(button);\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(1)\",\n            run() {\n                assertEqual(this.anchor.textContent, \"from file\");\n            },\n        },\n    ],\n});\n\nlet downloadProm;\nconst steps = [];\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_print_preview\", {\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_print_preview']\",\n            run(helpers) {\n                downloadProm = new Promise((resolve) => {\n                    const unpatch = patch(download, {\n                        _download(options) {\n                            steps.push(\"download report\");\n                            const context = JSON.parse(options.data.context);\n                            assertEqual(context[\"report_pdf_no_attachment\"], true);\n                            assertEqual(context[\"discard_logo_check\"], true);\n                            assertEqual(context[\"active_ids\"].length, 1);\n                            unpatch();\n                            resolve();\n                        },\n                    });\n                });\n                return helpers.click();\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg\",\n            async run() {\n                await downloadProm;\n                assertEqual(steps.length, 1);\n                assertEqual(steps[0], \"download report\");\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_table_rendering\", {\n    steps: () => [\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable .valid_table\",\n            run() {\n                assertEqual(\n                    this.anchor.outerHTML.replace(/\\n\\s*/g, \"\"),\n                    `<table class=\"valid_table\" o-diff-key=\"3\">\n                        <tbody o-diff-key=\"4\"><tr o-diff-key=\"5\"><td o-diff-key=\"6\">I am valid</td></tr>\n                    </tbody></table>`.replace(/\\n\\s*/g, \"\")\n                );\n            },\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable .invalid_table\",\n            run() {\n                assertEqual(\n                    this.anchor.outerHTML.replace(/\\n\\s*/g, \"\"),\n                    `<q-table class=\"invalid_table oe_unbreakable\" o-diff-key=\"7\" style=\"--q-table-col-count: 1;\">\n                    <t t-foreach=\"doc.child_ids\" t-as=\"child\" o-diff-key=\"8\" oe-context=\"{&quot;docs&quot;: {&quot;model&quot;: &quot;res.partner&quot;, &quot;name&quot;: &quot;Contact&quot;, &quot;in_foreach&quot;: false}, &quot;company&quot;: {&quot;model&quot;: &quot;res.company&quot;, &quot;name&quot;: &quot;Companies&quot;, &quot;in_foreach&quot;: false}, &quot;doc&quot;: {&quot;model&quot;: &quot;res.partner&quot;, &quot;name&quot;: &quot;Contact&quot;, &quot;in_foreach&quot;: true}, &quot;child&quot;: {&quot;model&quot;: &quot;res.partner&quot;, &quot;name&quot;: &quot;Contact&quot;, &quot;in_foreach&quot;: true}}\">\n                        <q-tr o-diff-key=\"9\" class=\"oe_unbreakable\"><q-td o-diff-key=\"10\" class=\"oe_unbreakable\">I am not valid</q-td></q-tr>\n                    </t>\n                </q-table>`.replace(/\\n\\s*/g, \"\")\n                );\n            },\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable .invalid_table q-td\",\n            run: \"editor edited with odooEditor\",\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(1)\",\n            run: \"editor p edited with odooEditor\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar input[id='name']\",\n            run: \"edit modified && click body\",\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_field_placeholder\", {\n    steps: () => [\n        {\n            // 1 sec delay to make sure we call the download route\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(2)\",\n            async run(helpers) {\n                const el = this.anchor;\n                openEditorPowerBox(el);\n            },\n        },\n        {\n            trigger: \".o-we-powerbox .o-we-command-description:contains(Insert a field)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-field-dynamic-placeholder\",\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg div:has(> .o-web-studio-report-container)\",\n            async run() {\n                const placeholderBox = getBoundingClientRect.call(\n                    document.querySelector(\".o-web-studio-field-dynamic-placeholder\")\n                );\n                assertEqual(this.anchor.scrollTop, 0);\n                this.anchor.scrollTop = 9999;\n                await new Promise(requestAnimationFrame);\n                const newPlaceholderbox = getBoundingClientRect.call(\n                    document.querySelector(\".o-web-studio-field-dynamic-placeholder\")\n                );\n                // The field placeholder should have followed its anchor, and it happens that the anchor's container\n                // has been scrolled, so the anchor has moved upwards (and is actually outside of the viewPort, to the top)\n                assertEqual(placeholderBox.top > newPlaceholderbox.top, true);\n            },\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_search input\",\n            run: \"edit Job Position\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_item_name:contains(Job Position)\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_default_value_input input\",\n            run: \"edit some default value\",\n        },\n        {\n            trigger: \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover\",\n            run: \"press Enter\",\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable span[t-field='doc.function'][title='doc.function']\",\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(0)\",\n            run() {\n                insertText(this.anchor, \"edited with odooEditor\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_add_field_blank_report\", {\n    steps: () => [\n        {\n            // edit reports\n            trigger: \".o_web_studio_menu li a:contains(Reports)\",\n            run: \"click\",\n        },\n        {\n            // create a new report\n            trigger: \".o_control_panel .o-kanban-button-new\",\n            run: \"click\",\n        },\n        {\n            // select basic layout\n            trigger: '.o_web_studio_report_layout_dialog div[data-layout=\"web.basic_layout\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \":iframe .odoo-editor-editable .page div\",\n            async run(helpers) {\n                const el = this.anchor;\n                openEditorPowerBox(el);\n            },\n        },\n        {\n            trigger: \".o-we-powerbox .o-we-command-description:contains(Insert a field)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-field-dynamic-placeholder\",\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg div:has(> .o-web-studio-report-container)\",\n            async run() {\n                const placeholderBox = getBoundingClientRect.call(\n                    document.querySelector(\".o-web-studio-field-dynamic-placeholder\")\n                );\n                assertEqual(this.anchor.scrollTop, 0);\n                this.anchor.scrollTop = 9999;\n                await new Promise(requestAnimationFrame);\n                const newPlaceholderbox = getBoundingClientRect.call(\n                    document.querySelector(\".o-web-studio-field-dynamic-placeholder\")\n                );\n                // The field placeholder should have followed its anchor, and it happens that the anchor's container\n                // has been scrolled, so the anchor has moved upwards (and is actually outside of the viewPort, to the top)\n                assertEqual(placeholderBox.top > newPlaceholderbox.top, true);\n            },\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_search input\",\n            run: \"edit Job Position\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_item_name:contains(Job Position)\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_default_value_input input\",\n            run: \"edit some default value\",\n        },\n        {\n            trigger: \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover\",\n            run: \"press Enter\",\n        },\n        {\n            // check that field was added successfully\n            trigger: \":iframe .odoo-editor-editable .page div > span:contains(some default value)\",\n        },\n        {\n            trigger: \":iframe .odoo-editor-editable .page div\",\n            run() {\n                insertText(this.anchor, \"Custo\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_toolbar_appearance\", {\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable .to_edit\",\n            run() {\n                const anchor = this.anchor;\n                const doc = anchor.ownerDocument;\n                const selection = doc.getSelection();\n                selection.removeAllRanges();\n                const range = doc.createRange();\n                range.selectNode(anchor.firstChild);\n                selection.addRange(range);\n            },\n        },\n        {\n            trigger: \".o-we-toolbar\",\n        },\n        {\n            trigger: \".o-we-toolbar button[name='bold']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-we-toolbar button[name='italic']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-discard-report\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body:not(:has(.o-we-toolbar))\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_edition_without_lang\", {\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(1)\",\n            run() {\n                assertEqual(this.anchor.textContent, \"original term\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(1)\",\n            async run() {\n                insertText(this.anchor, \" edited\");\n            },\n        },\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_edit_sources']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_xml_resource_select_menu button.o_select_menu_toggler\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-dropdown--menu .o_select_menu_item_label:contains(report_editor_customization_diff)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_code_editor_info .o_field_translate\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_translation_dialog .row:eq(1)\",\n            run() {\n                assertEqual(this.anchor.children[0].textContent.trim(), \"French / Fran\u00e7ais\");\n                assertEqual(this.anchor.children[1].textContent.trim(), \"original term edited\");\n            },\n        },\n        {\n            trigger: \".o_translation_dialog .row:eq(1) textarea\",\n            run: \"edit translated edited term && click body\",\n        },\n        {\n            trigger: \".modal-footer button.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_editor\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_report_xml_other_record\", {\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_edit_sources']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_xml_editor\",\n        },\n        {\n            trigger: \".o-web-studio-report-container :iframe body p:contains(partner_1)\",\n            run() {\n                assertEqual(\n                    document.querySelector(\".o-web-studio-report-search-record input\").value,\n                    \"partner_1\"\n                );\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-pager .o_pager_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-report-container :iframe body p:contains(partner_2)\",\n            run() {\n                assertEqual(\n                    document.querySelector(\".o-web-studio-report-search-record input\").value,\n                    \"partner_2\"\n                );\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_partial_eval\", {\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-container :iframe .odoo-editor-editable .lol\",\n            run() {\n                const closestContextElement = this.anchor.closest(\"[oe-context]\");\n                const oeContext = closestContextElement.getAttribute(\"oe-context\");\n                const expected = {\n                    docs: { model: \"res.partner\", name: \"Contact\", in_foreach: false },\n                    company: { model: \"res.company\", name: \"Companies\", in_foreach: false },\n                    doc: { model: \"res.partner\", name: \"Contact\", in_foreach: true },\n                    my_children: { model: \"res.partner\", name: \"Contact\", in_foreach: false },\n                    child: { model: \"res.partner\", name: \"Contact\", in_foreach: true },\n                };\n                assertEqual(JSON.stringify(JSON.parse(oeContext)), JSON.stringify(expected));\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-container :iframe .odoo-editor-editable .couic\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_render_multicompany\", {\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-container :iframe .odoo-editor-editable .test_layout\",\n        },\n        {\n            trigger: \".o-web-studio-report-container :iframe .odoo-editor-editable img\",\n            run() {\n                const cids = cookie.get(\"cids\").split(\"-\");\n                assertEqual(this.anchor.getAttribute(\"src\"), `/logo.png?company=${cids[0]}`);\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_add_non_searchable_field\", {\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(2)\",\n            async run(helpers) {\n                const el = this.anchor;\n                openEditorPowerBox(el);\n            },\n        },\n        {\n            trigger: \".o-we-powerbox .o-we-command-description:contains(Insert a field)\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_search input\",\n            run: \"edit Avatar\",\n        },\n        {\n            trigger: \"[data-name=avatar_1024] > button.o_model_field_selector_popover_item_name\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_default_value_input input\",\n            run: \"edit file default value\",\n        },\n        {\n            trigger: \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover\",\n            run: \"press Enter\",\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_report_edition_binary_field\", {\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(2)\",\n            async run(helpers) {\n                const el = this.anchor;\n                openEditorPowerBox(el);\n            },\n        },\n        {\n            trigger: \".o-we-powerbox .o-we-command-description:contains(Insert a field)\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_search input\",\n            run: \"edit Company\",\n        },\n        {\n            trigger: \"[data-name=company_id] > button.o_model_field_selector_popover_item_relation\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_search input\",\n            run: \"edit New File\",\n        },\n        {\n            trigger:\n                \".o_model_field_selector_popover_item_name:contains(New File):not(:contains(filename))\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_default_value_input input\",\n            run: \"edit file default value\",\n        },\n        {\n            trigger: \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover\",\n            run: \"press Enter\",\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(2)\",\n            async run(helpers) {\n                const el = this.anchor;\n                openEditorPowerBox(el, { start: nodeSize(el) }); // after the file field\n            },\n        },\n        {\n            trigger: \".o-we-powerbox .o-we-command-description:contains(Insert a field)\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_search input\",\n            run: \"edit Company\",\n        },\n        {\n            trigger: \"[data-name=company_id] > button.o_model_field_selector_popover_item_relation\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_search input\",\n            run: \"edit New Image\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_item_name:contains(New Image)\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_default_value_input input\",\n            run: \"edit image default value\",\n        },\n        {\n            trigger: \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover\",\n            run: \"press Enter\",\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_report_edition_dynamic_table\", {\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(2)\",\n            async run(helpers) {\n                const el = this.anchor;\n                openEditorPowerBox(el);\n            },\n        },\n        {\n            trigger:\n                \".o-we-powerbox .o-we-command-description:contains(Insert a table based on a relational field)\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_search input\",\n            run: \"edit Activities\",\n        },\n        {\n            trigger: \"[data-name=activity_ids] > button.o_model_field_selector_popover_item_name\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_default_value_input input\",\n            run: \"edit First Column\",\n        },\n        {\n            trigger: \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover\",\n            run: \"press Enter\",\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable table tr td:contains(First Column)\",\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable table tr[t-foreach]\",\n            run() {\n                const el = this.anchor;\n                const context = JSON.parse(el.getAttribute(\"oe-context\"));\n                assertEqual(context.x2many_record.model, \"mail.activity\");\n            },\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable table tr td:contains(Insert a field...)\",\n            run() {\n                openEditorPowerBox(this.anchor);\n            },\n        },\n        {\n            trigger: \".o-we-powerbox .o-we-command-description:contains(Insert a field)\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_search input\",\n            run: \"edit Summary\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_item_name:contains(Summary)\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_default_value_input input\",\n            run: \"edit Some Summary\",\n        },\n        {\n            trigger: \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover\",\n            run: \"press Enter\",\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable table td span[t-field='x2many_record.summary']\",\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_saving_xml_editor_reload\", {\n    steps: () => [\n        {\n            trigger: \"button[name='report_edit_sources']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n        {\n            trigger: \".o_web_studio_xml_editor .ace_editor\",\n            run() {\n                ace.edit(this.anchor)\n                    .getSession()\n                    .insert(\n                        { row: 2, column: 0 },\n                        '<span class=\"test-added-0\">in document view</span>\\n'\n                    );\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n        {\n            trigger: \".o_web_studio_xml_editor .ace_editor\",\n            run() {\n                const aceValue = ace.edit(this.anchor).getSession().getValue();\n\n                assertEqual(\n                    normalizeXML(aceValue),\n                    normalizeXML(`\n                        <t t-name=\"web_studio.test_report_document\">\n                            <div><p t-field=\"doc.name\"/></div>\n                            <span class=\"test-added-0\">in document view</span>\n                            <p><br/></p>\n                        </t>`)\n                );\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_error_at_loading\", {\n    steps: () => [\n        {\n            trigger: \"body:not(:has(.o_error_dialog)) .o-web-studio-report-editor\",\n            run: \"click\",\n        },\n        {\n            trigger: \":iframe div\",\n            run() {\n                assertEqual(\n                    this.anchor.textContent,\n                    \"The report could not be rendered due to an error\"\n                );\n            },\n        },\n        {\n            trigger: \"button[name='report_edit_sources']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_xml_editor\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_error_at_loading_debug\", {\n    steps: () => [\n        {\n            trigger: \"body:not(:has(.o_error_dialog)) .o-web-studio-report-editor\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-report-container:not(:has(iframe))\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-report-container strong:contains(builtins.ValueError)\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button[name='report_edit_sources']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_xml_editor\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-report-container:not(:has(iframe))\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-web-studio-report-container strong:contains(odoo.addons.base.models.ir_qweb.QWebException)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_xml_and_form_diff\", {\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg :iframe .odoo-editor-editable p:eq(2)\",\n            run() {\n                insertText(this.anchor, \"edited with odooEditor\");\n            },\n        },\n        {\n            trigger: \"button[name='report_edit_sources']\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_web_studio_xml_resource_select_menu button.o_select_menu_toggler .o_select_menu_toggler_slot\",\n            run() {\n                const currentViewKey = this.anchor.textContent.split(\" (\")[0];\n                assertEqual(\n                    currentViewKey,\n                    \"web_studio.report_editor_customization_diff.view._web_studio.test_report_document\"\n                );\n            },\n        },\n        {\n            trigger: \".o_web_studio_xml_resource_select_menu button.o_select_menu_toggler\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o-dropdown--menu .o_select_menu_item_label:contains(web_studio.test_report_document)\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button[name='view_diff']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view table.diff\",\n            run() {\n                assertEqual(\n                    document.querySelector(\".o_form_view .o_field_widget[name='view_name']\")\n                        .textContent,\n                    \"web_studio.test_report_document\"\n                );\n                assertEqual(\n                    document.querySelector(\n                        \".o_form_view .o_field_widget[name='compare_view_id'] input\"\n                    ).value,\n                    \"web_studio_backup__web_studio.test_report_document\"\n                );\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_record_model_differs_from_action\", {\n    steps: () => {\n        const stepsToAssert = [];\n\n        return [\n            {\n                trigger: \".o_studio_report_kanban_view\",\n                run() {\n                    const { ReportEditorModel } = odoo.loader.modules.get(\n                        \"@web_studio/client_action/report_editor/report_editor_model\"\n                    );\n\n                    patch(ReportEditorModel.prototype, {\n                        async loadReportEditor() {\n                            await super.loadReportEditor(...arguments);\n                            stepsToAssert.push(\n                                `report editor loaded. actionModel: \"${this._services.studio.editedAction.res_model}\". reportModel: \"${this.reportResModel}\"`\n                            );\n                        },\n                    });\n                },\n            },\n            {\n                trigger: \".o_studio_report_kanban_view .o_searchview input\",\n                run: \"fill dummy test\",\n            },\n            {\n                trigger:\n                    \".o_studio_report_kanban_view .o_searchview .o_menu_item:contains(Report):contains(dummy test)\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_facet_remove\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_kanban_record:contains(dummy test)\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o-web-studio-report-editor-wysiwyg\",\n                run() {\n                    assertEqual(\n                        JSON.stringify(stepsToAssert),\n                        JSON.stringify([\n                            `report editor loaded. actionModel: \"res.partner\". reportModel: \"x_dummy.test\"`,\n                        ])\n                    );\n                },\n            },\n        ];\n    },\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_remove_branding_on_copy\", {\n    steps: () => [\n        {\n            trigger: \"body :iframe .odoo-editor-editable#wrapwrap\",\n            async run() {\n                const doc = this.anchor.ownerDocument;\n                const editor = editorsWeakMap.get(doc);\n                const originNode = this.anchor.querySelector(`[ws-view-id]`);\n                const copy = originNode.cloneNode(true);\n                originNode.insertAdjacentElement(\"afterend\", copy);\n                editor.shared.history.addStep();\n                // Wait for a full macrotask tick and a frame to let the mutation observer\n                // of the ReportEditorWysiwyg to catch up on the change and finish its operations\n                await nextTick();\n                const attributeCopy = {};\n                for (const attr of copy.attributes) {\n                    attributeCopy[attr.name] = attr.value;\n                }\n                assertEqual(JSON.stringify(attributeCopy), `{\"contenteditable\":\"true\"}`);\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_different_view_document_name\", {\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_edit_sources']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_xml_resource_selector .o_select_menu_toggler\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-dropdown--menu\",\n            run() {\n                const sources = Array.from(this.anchor.querySelectorAll(\".o_select_menu_item\")).map(\n                    (e) => e.textContent\n                );\n                assertEqual(\n                    sources.includes(\n                        \"Uses: web_studio.test_report_document (web_studio.test_report_document_1)\"\n                    ),\n                    true\n                );\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_edit_main_arch\", {\n    steps: () => [\n        {\n            trigger: \":iframe .odoo-editor-editable .outside-t-call\",\n            async run() {\n                const doc = this.anchor.ownerDocument;\n                const editor = editorsWeakMap.get(doc);\n                const newNode = doc.createElement(\"div\");\n                newNode.classList.add(\"added\");\n                this.anchor.insertAdjacentElement(\"beforebegin\", newNode);\n                editor.shared.history.addStep();\n                await nextTick();\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_edit_in_t_call\", {\n    steps: () => [\n        {\n            trigger: \":iframe .odoo-editor-editable .in-t-call\",\n            async run() {\n                const doc = this.anchor.ownerDocument;\n                const editor = editorsWeakMap.get(doc);\n                const newNode = doc.createElement(\"div\");\n                newNode.classList.add(\"added\");\n                this.anchor.insertAdjacentElement(\"beforebegin\", newNode);\n                editor.shared.history.addStep();\n                await nextTick();\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_edit_main_and_in_t_call\", {\n    steps: () => [\n        {\n            trigger: \":iframe .odoo-editor-editable#wrapwrap\",\n            async run() {\n                const doc = this.anchor.ownerDocument;\n                const editor = editorsWeakMap.get(doc);\n                const newNode0 = doc.createElement(\"div\");\n                newNode0.classList.add(\"added0\");\n                const target0 = this.anchor.querySelector(\".outside-t-call\");\n                target0.insertAdjacentElement(\"beforebegin\", newNode0);\n                editor.shared.history.addStep();\n                await nextTick();\n                const newNode1 = doc.createElement(\"div\");\n                newNode1.classList.add(\"added1\");\n                const target1 = this.anchor.querySelector(\".in-t-call\");\n                target1.insertAdjacentElement(\"beforebegin\", newNode1);\n                editor.shared.history.addStep();\n                await nextTick();\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_image_crop\", {\n    steps: () => [\n        {\n            trigger: \"body :iframe .odoo-editor-editable .myimg\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-we-toolbar button[name='image_crop']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-main-components-container .o_we_crop_widget .cropper-container\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_translations_are_copied\", {\n    steps: () => [\n        {\n            trigger: \"body :iframe .odoo-editor-editable#wrapwrap div:contains(term2)\",\n            run() {\n                const doc = this.anchor.ownerDocument;\n                const editor = editorsWeakMap.get(doc);\n                const newNode = doc.createElement(\"div\");\n                (newNode.textContent = \"term3 from edition\"),\n                    this.anchor.insertAdjacentElement(\"beforebegin\", newNode);\n                editor.shared.history.addStep();\n                return nextTick();\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_reports_view_concurrence\", {\n    steps: () => [\n        {\n            trigger: \".o_menu_sections li:contains('Reports')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_record[data-id] \",\n            run: \"dblclick\",\n        },\n        {\n            trigger: \".o-web-studio-report-editor\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_dont_translate_on_save\", {\n    steps: () => [\n        {\n            trigger: \"body :iframe .odoo-editor-editable#wrapwrap p.test-origin\",\n            async run() {\n                const doc = this.anchor.ownerDocument;\n                const el = doc.createElement(\"span\");\n                el.textContent = \"new content\";\n                this.anchor.insertAdjacentElement(\"beforebegin\", el);\n                const editor = editorsWeakMap.get(doc);\n                editor.shared.history.addStep();\n                await nextTick();\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n        {\n            trigger: \"body :iframe .odoo-editor-editable#wrapwrap span\",\n            run() {\n                const doc = this.anchor.ownerDocument;\n                const selection = doc.getSelection();\n                selection.removeAllRanges();\n                const range = doc.createRange();\n                range.selectNode(this.anchor);\n                selection.addRange(range);\n            },\n        },\n        {\n            trigger: \".o-we-toolbar button[name='bold']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_do_not_delete_unspecial_spans\", {\n    steps: () => [\n        {\n            trigger: \"body :iframe .odoo-editor-editable#wrapwrap span\",\n            run() {\n                insertText(this.anchor, \"added\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_edit_header_only_company\", {\n    steps: () => [\n        {\n            trigger: \"body :iframe .odoo-editor-editable#wrapwrap .header img\",\n            run() {\n                const el = this.anchor;\n                const span = el.ownerDocument.createElement(\"span\");\n                span.classList.add(\"studio-added\");\n                el.insertAdjacentElement(\"afterend\", span);\n                openEditorPowerBox(span);\n            },\n        },\n        {\n            trigger: \".o-we-powerbox .o-we-command:contains(Insert a field)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_item_name:contains(Company ID)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_model_field_selector_default_value_input input\",\n            run: \"edit studio company id\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover button:contains(Insert)\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \"body :iframe .odoo-editor-editable#wrapwrap .header [t-field]:contains(studio company id)\",\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n", "/** @odoo-module */\nimport { registry } from \"@web/core/registry\";\nimport { stepNotInStudio, assertEqual } from \"@web_studio/../tests/tours/tour_helpers\";\nimport { queryFirst, drag, waitFor } from \"@odoo/hoot-dom\";\nimport { rpcBus } from \"@web/core/network/rpc\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"web_studio_test_form_view_not_altered_by_studio_xml_edition\", {\n        url: \"/odoo?debug=1\",\n        steps: () => [\n            {\n                trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_form_view .o_form_editable\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_web_studio_navbar_item button:enabled\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_web_studio_sidebar .o_web_studio_view\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_web_studio_open_xml_editor\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_web_studio_code_editor_info\",\n            },\n            {\n                trigger: \".o_web_studio_leave\",\n                run: \"click\",\n            },\n            ...stepNotInStudio(\".o_form_view .o_form_editable\"),\n        ],\n    });\n\n/* global ace */\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_edit_with_xml_editor\", {\n    url: \"/odoo?debug=1\",\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".someDiv:not(:visible)\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_view\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_open_xml_editor\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_xml_editor\",\n        },\n        {\n            trigger: \".o_web_studio_xml_resource_selector .o_select_menu_toggler\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-dropdown--menu .o_select_menu_item:contains(Odoo Studio)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".ace_content\",\n            run() {\n                ace.edit(document.querySelector(\".ace_editor\")).setValue(\"<data/>\");\n            },\n        },\n        {\n            trigger: \".o_web_studio_xml_editor .o_web_studio_xml_resource_selector .btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_snackbar:not(:has(.fa-spin))\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n            run() {\n                if (document.querySelector(\".someDiv\")) {\n                    throw new Error(\"The edition of the view's arch via the xml editor failed\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_enter_x2many_edition_and_add_field\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='user_ids']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-edit-x2manys-buttons\",\n        },\n        {\n            trigger: \".o_web_studio_editX2Many[data-type='form']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_view_controller.o_form_view.test-user-form\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_existing_fields_section:not(.d-none)\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\",\n            run() {\n                queryFirst(\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\"\n                ).scrollIntoView();\n            },\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\",\n            run: \"drag_and_drop(.o_web_studio_form_view_editor .o_web_studio_hook:eq(1))\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='log_ids']\",\n            run() {\n                const countFields = document.querySelectorAll(\n                    \".o_web_studio_form_view_editor .o_field_widget\"\n                ).length;\n                if (!countFields === 2) {\n                    throw new Error(\"There should be 2 fields in the form view\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_enter_x2many_auto_inlined_subview\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_web_studio_form_view_editor .o_field_widget[name='user_ids'] .o_field_x2many_list\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-edit-x2manys-buttons\",\n        },\n        {\n            trigger: \".o_web_studio_editX2Many[data-type='list']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_view_controller.o_list_view.test-user-list\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_existing_fields_section:not(.d-none)\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\",\n            run() {\n                queryFirst(\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\"\n                ).scrollIntoView();\n            },\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\",\n            run: \"drag_and_drop(.o_web_studio_list_view_editor .o_web_studio_hook:eq(1))\",\n        },\n        {\n            trigger: \".o_web_studio_list_view_editor th[data-name='log_ids']\",\n            run() {\n                const countFields = document.querySelectorAll(\n                    \".o_web_studio_form_view_editor th[data-name]\"\n                ).length;\n                if (!countFields === 2) {\n                    throw new Error(\"There should be 2 fields in the form view\");\n                }\n            },\n        },\n    ],\n});\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"web_studio_enter_x2many_auto_inlined_subview_with_multiple_field_matching\", {\n        steps: () => [\n            {\n                trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_form_view .o_form_editable\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_web_studio_navbar_item button:enabled\",\n                run: \"click\",\n            },\n            {\n                trigger:\n                    \".o_web_studio_form_view_editor .o_field_widget[name='user_ids']:eq(1) .o_field_x2many_list\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o-web-studio-edit-x2manys-buttons\",\n            },\n            {\n                trigger: \".o_web_studio_editX2Many[data-type='list']\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_view_controller.o_list_view.test-user-list\",\n            },\n            {\n                trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_web_studio_existing_fields_section:not(.d-none)\",\n            },\n            {\n                trigger:\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\",\n                run() {\n                    queryFirst(\n                        \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\"\n                    ).scrollIntoView();\n                },\n            },\n            {\n                trigger:\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\",\n                run: \"drag_and_drop(.o_web_studio_list_view_editor .o_web_studio_hook:eq(1))\",\n            },\n            {\n                trigger: \".o_web_studio_list_view_editor th[data-name='log_ids']\",\n                run() {\n                    const countFields = document.querySelectorAll(\n                        \".o_web_studio_form_view_editor th[data-name]\"\n                    ).length;\n                    if (!countFields === 2) {\n                        throw new Error(\"There should be 2 fields in the form view\");\n                    }\n                },\n            },\n        ],\n    });\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_boolean_field_drag_and_drop\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_new_fields .o_web_studio_field_boolean\",\n            run: \"drag_and_drop(.o_web_studio_form_view_editor .o_web_studio_hook:eq(0))\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n        },\n        {\n            trigger: \".o_wrap_field_boolean .o_wrap_label\",\n            run: \"drag_and_drop(.o_web_studio_form_view_editor .o_web_studio_hook:eq(2))\",\n        },\n        {\n            trigger: \".o_wrap_label:eq(1):contains('New CheckBox')\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_field_with_group\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_list_view\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_list_view_editor th[data-name='function']\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_existing_fields_section:not(.d-none)\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\",\n            run() {\n                queryFirst(\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\"\n                ).scrollIntoView();\n            },\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\",\n            run: \"drag_and_drop(.o_web_studio_list_view_editor th.o_web_studio_hook:eq(2))\",\n        },\n        {\n            trigger:\n                \".o_web_studio_list_view_editor th.o_web_studio_hook:not(.o_web_studio_nearest_hook)\",\n        },\n        {\n            trigger: \".o_web_studio_list_view_editor th[data-name='website']\",\n            run() {\n                const countFields = document.querySelectorAll(\n                    \".o_web_studio_list_view_editor th[data-name]\"\n                ).length;\n                if (!countFields === 3) {\n                    throw new Error(\"There should be 3 fields in the form view\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_set_tree_node_conditional_invisibility\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_list_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_list_view_editor th[data-name='title']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_attrs[data-type=invisible]\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_model_field_selector_value\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_item_name:contains('Display Name')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_tree_editor_condition input.o_input\",\n            run: \"edit Robert && click body\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_list_view_editor th[data-name='title']\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_elements_with_groups_form\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_existing_fields_section:not(.d-none)\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\",\n            run() {\n                queryFirst(\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\"\n                ).scrollIntoView();\n            },\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\",\n            run: \"drag_and_drop(.o_web_studio_form_view_editor .o_inner_group .o_web_studio_hook:eq(1))\",\n        },\n        {\n            trigger:\n                \".o_web_studio_form_view_editor .o_web_studio_hook:not(.o_web_studio_nearest_hook)\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='website']:not(:visible)\",\n            run() {\n                const countFields = document.querySelectorAll(\n                    \".o_web_studio_form_view_editor .o_field_widget[name]\"\n                ).length;\n                if (!countFields === 2) {\n                    throw new Error(\"There should be 2 fields in the form view\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_element_group_in_sidebar\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='display_name']\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='display_name']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_field_many2many_tags[name='groups_id'] .badge\",\n            run() {\n                const tag = document.querySelector(\n                    \".o_field_many2many_tags[name='groups_id'] .badge\"\n                );\n                if (!tag || !tag.textContent.includes(\"Test Group\")) {\n                    throw new Error(\"The groups should be displayed in the sidebar\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_custom_selection_field_edit_values\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_new_fields .o_web_studio_field_selection\",\n            run: \"drag_and_drop(.o_web_studio_hook:eq(0))\",\n        },\n        {\n            trigger: \".o_web_studio_add_selection .o-web-studio-interactive-list-item-input\",\n            run: \"edit some value\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body:not(:has(.modal))\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_wrap_input:has(.o_field_selection)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_edit_selection_values\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".modal:not(.o_inactive_modal) .o_web_studio_add_selection .o-web-studio-interactive-list-item-input\",\n            run: \"edit another value cancel\",\n        },\n        {\n            trigger: \".o_web_studio_add_selection .o-web-studio-interactive-list-edit-item\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_selection_editor li:nth-child(2)\",\n            async run() {\n                assertEqual(this.anchor.textContent, \"another value cancel\");\n            },\n        },\n        {\n            trigger: \".modal-footer .btn-secondary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_edit_selection_values\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_selection_editor li\",\n            run() {\n                assertEqual(this.anchor.textContent, \"some value\");\n            },\n        },\n        {\n            trigger:\n                \".modal:not(.o_inactive_modal) .o_web_studio_add_selection .o-web-studio-interactive-list-item-input\",\n            run: \"edit another value\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body:not(:has(.modal))\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n            run: \"click\",\n        },\n        ...stepNotInStudio(),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_create_one2many_lines_then_edit_name\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_new_fields .o_web_studio_field_lines\",\n            run: \"drag_and_drop(.o_web_studio_hook:eq(0))\",\n        },\n        {\n            trigger: \".o_field_x2many_list\",\n        },\n        {\n            trigger: \".o_form_label\",\n            timeout: 20000,\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_properties.active\",\n        },\n        {\n            trigger: \"input[name='string']\",\n            run: \"edit new name && click body\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n            timeout: 20000,\n            run: \"click\",\n        },\n        ...stepNotInStudio(\".o_form_view\"),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_address_view_id_no_edit\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_address_format\",\n            run: function () {\n                if (\n                    this.anchor.querySelectorAll(\"[name=lang]\").length ||\n                    !this.anchor.querySelectorAll(\"[name=street]\").length\n                ) {\n                    throw new Error(\n                        \"The address view id set on the company country should be displayed\"\n                    );\n                }\n            },\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_view_renderer\",\n        },\n        {\n            trigger: \".o_address_format\",\n            run: function () {\n                if (\n                    this.anchor.querySelectorAll(\"[name=street]\").length ||\n                    !this.anchor.querySelectorAll(\"[name=lang]\").length\n                ) {\n                    throw new Error(\n                        \"The address view id set on the company country shouldn't be editable\"\n                    );\n                }\n            },\n        },\n        {\n            trigger: \".o_field_widget[name='lang']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar input[id='required']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_snackbar .fa-check\",\n        },\n        {\n            trigger: \".o_address_format\",\n            run: function () {\n                if (\n                    this.anchor.querySelectorAll(\"[name=street]\").length ||\n                    !this.anchor.querySelectorAll(\"[name=lang]\").length\n                ) {\n                    throw new Error(\n                        \"The address view id set on the company country shouldn't be editable\"\n                    );\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_create_new_model_from_existing_view\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_create_new_model\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-dialog\",\n        },\n        {\n            trigger: \"input[name='model_name']\",\n            run: \"edit new model\",\n        },\n        {\n            trigger: \".confirm_button\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_create_model_with_clickable_stages\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_create_new_model\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-dialog\",\n        },\n        {\n            trigger: \"input[name='model_name']\",\n            run: \"edit new model\",\n        },\n        {\n            trigger: \".modal:not(.o_inactive_modal) .confirm_button\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal:not(.o_inactive_modal) .modal-body #use_stages\",\n            run: \"check\",\n        },\n        {\n            trigger: \".modal:not(.o_inactive_modal) .o_web_studio_model_configurator_next\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait the modal is closed before continue\",\n            trigger: \"body:not(:has(.modal))\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \"input#x_name_0\",\n            run: \"edit new record\",\n        },\n        {\n            trigger: \".o_arrow_button:contains(In Progress)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_arrow_button_current:contains(In Progress)\",\n        },\n        {\n            trigger: \".o_form_button_save:not(:visible)\",\n            run: \"click\",\n        },\n        {\n            // trigger: \".o_back_button\", TODO: add breacrumb to access multi-record view when closing studio\n            trigger: \".o_nav_entry:contains(new model)\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_kanban_group:contains(In Progress) div[name=studio_auto_kanban_header] span.h5:contains(new record)\",\n        },\n    ],\n});\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"web_studio_test_enter_x2many_edition_with_multiple_subviews\", {\n        steps: () => [\n            {\n                trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_form_view span:contains('Address Type')\",\n            },\n            {\n                trigger: \".o_web_studio_navbar_item button:enabled\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_list_renderer span:contains('Address Type')\",\n            },\n            {\n                trigger:\n                    \".o_web_studio_form_view_editor .o_field_widget[name='child_ids'] .o_field_x2many_list\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o-web-studio-edit-x2manys-buttons\",\n            },\n            {\n                trigger: \".o_web_studio_editX2Many[data-type='list']\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_content > .o_list_renderer span:contains('Address Type')\",\n            },\n        ],\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"web_studio_test_enter_x2many_edition_with_multiple_subviews_correct_xpath\", {\n        steps: () => [\n            {\n                trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_form_view\",\n            },\n            {\n                trigger: \".o_web_studio_navbar_item button:enabled\",\n                run: \"click\",\n            },\n            {\n                trigger:\n                    \".o_web_studio_form_view_editor .o_field_widget[name='child_ids'] .o_field_x2many_list\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o-web-studio-edit-x2manys-buttons\",\n            },\n            {\n                trigger: \".o_web_studio_editX2Many[data-type='list']\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_view_controller.o_list_view.test-subview-list\",\n            },\n            {\n                trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_section\",\n            },\n            {\n                trigger: `.o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component[data-drop='${JSON.stringify(\n                    { fieldName: \"active\" }\n                )}']`,\n                run: \"drag_and_drop(.o_web_studio_hook:eq(0))\",\n            },\n            {\n                content: \"Check that the active field has been added\",\n                trigger: \".o_web_studio_view_renderer .o_list_view thead th[data-name='active']\",\n            },\n        ],\n    });\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_studio_view_is_last\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_existing_fields_section:not(.d-none)\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\",\n            run() {\n                queryFirst(\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\"\n                ).scrollIntoView();\n            },\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\",\n            run: \"drag_and_drop(.o_web_studio_form_view_editor .o_inner_group .o_web_studio_hook:last)\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='website']:not(:visible)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_edit_form_subview_attributes\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_web_studio_form_view_editor .o_field_widget[name='child_ids'] .o_field_x2many_list\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-edit-x2manys-buttons\",\n        },\n        {\n            trigger: \".o_web_studio_editX2Many[data-type='form']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_view_controller.o_form_view.test-subview-form\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar.o_notebook .nav-link:contains(View)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar input[name='create']:checked\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar input[name='create']:not(:checked)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_x2many_two_levels_edition\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='user_ids']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-web-studio-edit-x2manys-buttons\",\n        },\n        {\n            trigger: \".o_web_studio_editX2Many[data-type='form']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_view_controller.o_form_view.test-subview-form-1\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='log_ids']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_editX2Many[data-type='form']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_view_controller.o_form_view.test-subview-form-2\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_existing_fields\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Created on)\",\n            run: \"drag_and_drop .o_web_studio_hook\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor [data-field-name='create_date']\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_field_group_studio_no_fetch\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n            run() {\n                assertEqual(this.anchor.querySelectorAll(\".o_field_widget\").length, 1);\n                assertEqual(\n                    this.anchor.querySelectorAll(\".o_field_widget\")[0].dataset.studioXpath,\n                    \"/form[1]/field[2]\"\n                );\n            },\n        },\n        {\n            trigger: \".o_web_studio_views_icons a[title='List']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_list_view_editor\",\n            run() {\n                assertEqual(this.anchor.querySelectorAll(\"th:not(.o_web_studio_hook)\").length, 1);\n                assertEqual(\n                    this.anchor.querySelectorAll(\"th:not(.o_web_studio_hook)\")[0].dataset\n                        .studioXpath,\n                    \"/list[1]/field[2]\"\n                );\n            },\n        },\n        {\n            trigger: \".o_web_studio_views_icons a[title='Kanban']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_kanban_view_editor\",\n            run() {\n                assertEqual(\n                    this.anchor.querySelectorAll(\n                        \".o_kanban_record:not(.o_kanban_demo):not(.o_kanban_ghost) .o-web-studio-editor--element-clickable\"\n                    ).length,\n                    1\n                );\n                assertEqual(\n                    this.anchor\n                        .querySelectorAll(\n                            \".o_kanban_record:not(.o_kanban_demo):not(.o_kanban_ghost) .o-web-studio-editor--element-clickable\"\n                        )[0]\n                        .getAttribute(\"studioxpath\"),\n                    \"/kanban[1]/t[1]/field[2]\"\n                );\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_move_similar_field\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n        },\n        {\n            trigger: \".o_notebook_headers a:contains('two')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".tab-pane.active [data-field-name=display_name]\",\n            run: \"drag_and_drop(.o_web_studio_form_view_editor .o_web_studio_hook:eq(1))\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_related_file\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_user_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            content: \"second\",\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n        },\n        {\n            trigger: \".o_web_studio_field_related\",\n            run: \"drag_and_drop(.o_inner_group)\",\n        },\n        {\n            trigger: \".modal-dialog\",\n        },\n        {\n            trigger: \".o_model_field_selector_value\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_search input\",\n            run: \"edit Related Partner\",\n        },\n        {\n            trigger: \"[data-name=partner_id] > button.o_model_field_selector_popover_item_relation\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_title:contains(Related Partner)\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_search input\",\n            run: \"edit New File\",\n        },\n        {\n            trigger:\n                \".o_model_field_selector_popover_item_name:contains(New File):not(:contains(filename))\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary:first\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_undo_new_field\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_new_fields .o_web_studio_field_integer\",\n            run: \"drag_and_drop(.o_web_studio_form_view_editor .o_web_studio_hook:eq(1))\",\n        },\n        {\n            trigger: \"button.o_web_studio_undo.o_web_studio_active\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_change_lone_attr_modifier_form\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n        },\n        {\n            trigger: \".o_field_widget[name='name']\",\n            run: \"click\",\n        },\n        {\n            trigger: `.o_web_studio_sidebar input[name=\"required\"]`,\n        },\n        {\n            trigger: \".o_web_studio_sidebar\",\n            run() {\n                const required = this.anchor.querySelector(`input[name=\"required\"]`);\n                assertEqual(required.checked, true);\n            },\n        },\n        {\n            trigger: '.o_web_studio_sidebar input[name=\"required\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor:not(:has(.o_required_modifier))\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar\",\n            run() {\n                const required = this.anchor.querySelector(`input[name=\"required\"]`);\n                assertEqual(required.checked, false);\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_new_field_rename_description\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_component.o_web_studio_field_char\",\n            run: \"drag_and_drop(.o_web_studio_form_view_editor .o_web_studio_hook:eq(1))\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar input[name='string']\",\n            run: \"edit my new field && click body\",\n        },\n        {\n            trigger:\n                \".o_web_studio_form_view_editor label[for='x_studio_my_new_field_0']:contains(my new field)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_edit_digits_option\", {\n    url: \"/odoo\",\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_view_renderer\",\n        },\n        {\n            trigger: \"[name=partner_latitude]\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input#digits\",\n            run: \"edit 2 && click body\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_no_fetch_subview\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input#name_0\",\n            run: \"edit value\",\n        },\n        {\n            trigger: \"button.o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_new_fields .o_web_studio_field_many2many\",\n            run: \"drag_and_drop(.o_web_studio_form_view_editor .o_web_studio_hook:eq(0))\",\n        },\n        {\n            trigger: \".o_record_selector input\",\n            run: \"edit Contact\",\n        },\n        {\n            trigger: \"a.dropdown-item:contains(Contact)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-footer button.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_wrap_field label:contains('New Many2Many')\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_button_rainbow_effect\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: `.o_web_studio_view_renderer button[name=\"open_commercial_entity\"]`,\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar #effect\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar #rainbow_message\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar\",\n            run() {\n                const blob = new Blob(\n                    [\n                        \"iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAIAAAD91JpzAAAAF0lEQVR4nGJxKFrEwMDAxAAGgAAAAP//D+IBWx9K7TUAAAAASUVORK5CYII=\",\n                    ],\n                    { type: \"image/png\" }\n                );\n                const file = new File([blob], \"my_studio_image.png\");\n\n                const fileInput = document.querySelector(\n                    \".o_web_studio_sidebar .o_file_input input\"\n                );\n                const dataTransfer = new DataTransfer();\n                dataTransfer.items.add(file);\n                fileInput.files = dataTransfer.files;\n                fileInput.dispatchEvent(new Event(\"change\"));\n            },\n        },\n        {\n            trigger: \".o_web_studio_sidebar img[src^='/web/content']\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_res_users_fake_fields\", {\n    steps: () => [\n        {\n            trigger: \".o_web_studio_existing_fields_header\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_existing_fields\",\n            run() {\n                const elements = [...document.querySelectorAll(\".o_web_studio_component\")];\n                const fieldStrings = elements.map((el) => el.innerText.split(\"\\n\")[0]);\n                assertEqual(fieldStrings.includes(\"Administration\"), false);\n                assertEqual(fieldStrings.includes(\"Multi Companies\"), false);\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_reload_after_restoring_default_view\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='name']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar input[name='string']\",\n            run: \"edit new name\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_view\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_restore\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_undo:not(.o_web_studio_active)\",\n        },\n        {\n            trigger:\n                \".o_web_studio_form_view_editor .o_field_widget[name='name'] span:contains('Name')\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_edit_reified_field\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_web_studio_form_view_editor .o_field_widget[name^='sel_groups_'],.o_web_studio_form_view_editor .o_field_widget[name^='in_groups_']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar input[name='string']\",\n            run: \"edit new name && click body\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_add_all_types_fields_related\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_user_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n        },\n        {\n            trigger: \".o_web_studio_field_related\",\n            run: \"drag_and_drop(.o_inner_group)\",\n        },\n        {\n            trigger: \".modal-dialog\",\n        },\n        {\n            trigger: \".o_model_field_selector_value\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_search input\",\n            run: \"edit Display Name\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_item_name:contains(Display Name)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary:first\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_add_one2many_no_related_many2one\", {\n    steps: () => [\n        {\n            trigger: \".o_home_menu_background\",\n        },\n        {\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            trigger: \".o_app[data-menu-xmlid='web_studio.studio_app_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_field_one2many\",\n            run: \"drag_and_drop .o_web_studio_form_view_editor .o_inner_group\",\n        },\n        {\n            trigger: \"h4.modal-title\",\n            run() {\n                assertEqual(this.anchor.textContent, \"No related many2one fields found\");\n            },\n        },\n        {\n            trigger: \".modal-footer .btn.btn-primary\",\n            run: \"click\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_approval_button_xml_id\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor button[name='base.action_model_data']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar [name='create_approval_rule']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_view_renderer .o_web_studio_approval_avatar\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_approval_group #approval_group_id\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_kanban_field_bold\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        // first field has class fw-bold\n        {\n            trigger:\n                \".o_web_studio_view_renderer .o_kanban_record .o-web-studio-editor--element-clickable\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_property input#class:value(fs-6 fw-bold whatever)\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_property input[type=checkbox]#bold:checked\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_property input[type=checkbox]#bold\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_property input#class:value(fs-6 whatever)\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_property input[type=checkbox]#bold:not(:checked)\",\n        },\n        // second field has class fw-bolder\n        {\n            trigger:\n                \".o_web_studio_view_renderer .o_kanban_record .o-web-studio-editor--element-clickable:eq(1)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_property input#class:value(fw-bolder)\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_property input[type=checkbox]#bold:checked\",\n        },\n        // third field isn't bold\n        {\n            trigger:\n                \".o_web_studio_view_renderer .o_kanban_record .o-web-studio-editor--element-clickable:eq(2)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_property input#class:value(text-muted)\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_property input[type=checkbox]#bold:not(:checked)\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_property input[type=checkbox]#bold\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_property input#class:value(fw-bold)\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_property input[type=checkbox]#bold:checked\",\n        },\n    ],\n});\n\nasync function animationFrame(timeoutBefore) {\n    await new Promise((resolve) => setTimeout(resolve, timeoutBefore));\n    await new Promise(requestAnimationFrame);\n}\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_kanban_menu_ribbon\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_view_renderer .o_kanban_view\",\n        },\n        {\n            trigger: \".nav .o_web_studio_new\",\n            run: \"click\",\n        },\n        {\n            trigger: \".nav .o_web_studio_new.active\",\n            run() {\n                return waitFor(\".o_web_studio_component.o_web_studio_field_menu\", {\n                    timeout: 3000,\n                });\n            },\n        },\n        {\n            trigger: \".o_web_studio_view_renderer .o_web_studio_hook[data-type='t']\",\n        },\n        {\n            trigger: \".o_web_studio_component.o_web_studio_field_menu\",\n            async run() {\n                await animationFrame();\n                const { drop, moveTo } = await drag(this.anchor);\n                await moveTo(\".o_kanban_record:first\");\n                await animationFrame(500); // wait for animations to finish in under 500ms\n                const target = await waitFor(\".o_web_studio_hook_visible\", {\n                    visible: true,\n                    timeout: 5000,\n                });\n                await moveTo(target, { interactive: false });\n                await drop();\n            },\n        },\n        {\n            trigger: \".o_kanban_view .o_kanban_record:first() .o_dropdown_kanban\",\n        },\n        {\n            trigger: \".o_web_studio_component.o_web_studio_field_ribbon\",\n            run: \"drag_and_drop(.o_web_studio_hook[data-type='ribbon'])\",\n        },\n        {\n            trigger:\n                \".o_kanban_view .o_kanban_record:first() .o_widget_web_ribbon .ribbon:contains(demo)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_create_related\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_view_renderer .o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_component.o_web_studio_field_related\",\n            run: \"drag_and_drop (.o_web_studio_hook:last())\",\n        },\n        {\n            trigger: \".modal .o_model_field_selector_value\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_search input\",\n            run: \"edit Related Company\",\n        },\n        {\n            trigger:\n                \".o_model_field_selector_popover_item[data-name='parent_id'] .o_model_field_selector_popover_relation_icon\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_title:contains(Related Company)\",\n        },\n        {\n            trigger: \".o_model_field_selector_popover_search input\",\n            run: \"edit Contact\",\n        },\n        {\n            trigger:\n                \".o_model_field_selector_popover_item[data-name='child_ids'] .o_model_field_selector_popover_item_name\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal footer button.btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_view_renderer .o_field_widget.o_field_one2many\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_negated_groups\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_view\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar input#show_invisible\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o-web-studio-editor--element-clickable\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar [name='negated_groups_id'] .o_badge:contains(studio has group)\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar [name='negated_groups_id'] .o_delete\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar [name='negated_groups_id']:not(:contains(studio has group))\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar [name='negated_groups_id'] input\",\n            run: \"edit Access Rights\",\n        },\n        {\n            trigger: \"a.dropdown-item:contains(Administration / Access Rights)\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar [name='negated_groups_id'] .o_badge:contains(Administration / Access Rights)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_use_action_domain\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_list_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar\",\n        },\n        {\n            trigger: \".o_list_table\",\n            run() {\n                const names = Array.from(\n                    document.querySelectorAll(\".o_list_table td[name=display_name]\")\n                ).map((e) => e.textContent);\n                if (names.length !== 1 || names[0] !== \"Michel\") {\n                    throw new Error(\"record with employee=false should not be matched\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_drag_before_sheet\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_new_fields .o_web_studio_field_html\",\n            run: \"drag_and_drop (.o_web_studio_form_view_editor .o_web_studio_hook:eq(0))\",\n        },\n        {\n            trigger: \"button.o_web_studio_undo.o_web_studio_active\",\n            run() {},\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n            run() {},\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_default_value_company\", {\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_view_renderer .o_form_view .o_field_widget[name='name']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar input[id='default_value']\",\n            async run(helpers) {\n                // in this flow, only the input's value is changing\n                // We want to wait for the RPC to return. That will\n                // \"commit\" the value in the input.\n                // Since when the value of an input changes, there are no DOM\n                // mutations, we need to use the waitFor from Hoot\n                // instead of the macro.js machinery to assert that the value has changed\n                // as a consequence of the RPC\n                this.anchor.scrollIntoView();\n                const cb = ({ detail }) => {\n                    if (detail.url === \"/web_studio/set_default_value\") {\n                        this.anchor.value = \"\";\n                        rpcBus.removeEventListener(\"RPC:REQUEST\", cb);\n                    }\n                };\n                rpcBus.addEventListener(\"RPC:REQUEST\", cb);\n                await helpers.edit(\"from studio\");\n                await helpers.press(\"ENTER\");\n                return waitFor(\n                    \".o_web_studio_sidebar input[id='default_value']:value(from studio)\",\n                    { timeout: 5000 }\n                );\n            },\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nregistry.category(\"web_tour.tours\").add(\"test_tickets_questions\", {\n    url: \"/event\",\n    steps: () => [\n        {\n            content: \"Click on the Design Fair event\",\n            trigger: 'article:contains(\"Design Fair New York\")',\n            run: \"click\",\n        },\n        {\n            content: \"Click on Register modal tickets button\",\n            trigger: 'button:contains(\"Register\")',\n            run: \"click\",\n        },\n        {\n            content: \"Check Register button is disabled when no ticket selected\",\n            trigger: 'button:disabled:contains(\"Register\")',\n        },\n        {\n            content: \"Select 2 'Free' tickets to buy\",\n            trigger: 'div.o_wevent_ticket_selector:contains(\"Free\") select.form-select',\n            run: \"select 2\",\n        },\n        {\n            content: \"Click on Register (to fill tickets data) button\",\n            trigger: 'div.modal-footer button:contains(\"Register\")',\n            run: \"click\",\n        },\n        {\n            content: \"Wait the modal is shown before continue\",\n            trigger: \".modal.modal_shown.show form[id=attendee_registration]\",\n        },\n        {\n            trigger: 'div.o_wevent_registration_question_global select[name*=\"0-simple_choice\"]',\n            run: \"selectByLabel A friend\",\n        },\n        {\n            trigger: 'div:contains(\"Ticket #1\").modal-body input[name*=\"name\"]',\n            run: \"edit Attendee A\",\n        },\n        {\n            trigger: 'div:contains(\"Ticket #1\").modal-body input[name*=\"email\"]',\n            run: \"edit attendee-a@gmail.com\",\n        },\n        {\n            trigger: 'div:contains(\"Ticket #1\").modal-body input[name*=\"phone\"]',\n            run: \"edit +32499123456\",\n        },\n        {\n            trigger: 'div:contains(\"Ticket #1\").modal-body select[name*=\"1-simple_choice\"]',\n            run: \"selectByLabel Vegetarian\",\n        },\n        {\n            trigger: 'div:contains(\"Ticket #1\").modal-body textarea[name*=\"1-text_box\"]',\n            run: \"edit Fish and Nuts\",\n        },\n        {\n            trigger: 'div:contains(\"Ticket #2\").modal-body input[name*=\"name\"]',\n            run: \"edit Attendee B\",\n        },\n        {\n            trigger: 'div:contains(\"Ticket #2\").modal-body input[name*=\"email\"]',\n            run: \"edit attendee-b@gmail.com\",\n        },\n        {\n            trigger: 'div:contains(\"Ticket #2\").modal-body input[name*=\"company_name\"]',\n            run: \"edit My Company\",\n        },\n        {\n            trigger: 'div:contains(\"Ticket #2\").modal-body select[name*=\"2-simple_choice\"]',\n            run: \"selectByLabel Pastafarian\",\n        },\n        {\n            trigger:\n                \".modal#modal_attendees_registration:not(.o_inactive_modal) button[type=submit].btn-primary\",\n            run: \"click\",\n        },\n        {\n            // The tour stops too early and the registration fails if we don't wait the confirmation.\n            content: \"Wait for confirmation\",\n            trigger: \".o_wereg_confirmed, .oe_cart\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport {\n    insertSnippet,\n    registerWebsitePreviewTour,\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n} from '@website/js/tours/tour_utils';\n\nfunction websiteCreateEventTourSteps() {\n    return [\n        {\n            content: \"Click here to add new content to your website.\",\n            trigger: \".o_menu_systray .o_new_content_container > a\",\n            tooltipPosition: \"bottom\",\n            run: \"click\",\n        }, {\n            trigger: \"a[data-module-xml-id='base.module_website_event']\",\n            content: \"Click here to create a new event.\",\n            tooltipPosition: \"bottom\",\n            run: \"click\",\n        }, {\n            trigger: \".modal-dialog div[name='name'] input\",\n            content: \"Create a name for your new event and click Continue. e.g: Technical Training\",\n            run: \"edit Technical Training\",\n            tooltipPosition: \"left\",\n        }, {\n            trigger: \".modal-dialog div[name=date_begin]\",\n            content: \"Open date range picker. Pick a Start date for your event\",\n            run() {\n                const el1 = document.querySelector(\"input[data-field='date_begin']\");\n                el1.value = \"09/30/2020 08:00:00\";\n                el1.dispatchEvent(new Event(\"change\", {bubbles: true, cancelable: true}));\n                const el2 = document.querySelector(\"input[data-field='date_end']\");\n                el2.value = \"10/02/2020 23:00:00\";\n                el2.dispatchEvent(new Event(\"change\", {bubbles: true, cancelable: true}));\n                el1.click();\n            }\n        },\n        {\n            trigger: \".modal-dialog input[type=text]:not(:value(''))\",\n        },\n        {\n            trigger: '.modal-footer button.btn-primary',\n            content: \"Click Continue to create the event.\",\n            tooltipPosition: \"right\",\n            run: \"click\",\n        },\n        ...insertSnippet({\n            id: \"s_image_text\",\n            name: \"Image - Text\",\n            groupName: \"Content\",\n        }), {\n            // Wait until the drag and drop is resolved (causing a history step)\n            // before clicking save.\n            trigger: \".o_we_external_history_buttons button.fa-undo:not([disabled])\",\n        }, {\n            trigger: \"button[data-action=save]\",\n            content: \"Once you click on save, your event is updated.\",\n            tooltipPosition: \"bottom\",\n            run: \"click\",\n        },\n        {\n            trigger: \":iframe body:not(.editor_enable)\",\n        },\n        {\n            trigger: \".o_menu_systray_item.o_website_publish_container a\",\n            content: \"Click to publish your event.\",\n            tooltipPosition: \"top\",\n            run: \"click\",\n        }, {\n            trigger: \".o_website_edit_in_backend > a\",\n            content: \"Click here to customize your event further.\",\n            tooltipPosition: \"bottom\",\n        },\n    ];\n}\n\nfunction websiteEditEventTourSteps() {\n    return [\n        {\n            content: \"Redirect to Event Page\",\n            trigger: \":iframe a[title='Back to All Events']\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait for events list to load\",\n            trigger: \":iframe .opt_events_list_columns\",\n        },\n        ...clickOnEditAndWaitEditMode(),\n        {\n            content: \"edit the short description of the event\",\n            trigger: \":iframe .opt_events_list_columns small\",\n            run: function () {\n                this.anchor.innerHTML = \"new short description\";\n            }\n        },\n        ...clickOnSave(),\n        {\n            content: \"is short description updated?\",\n            trigger: \":iframe .opt_events_list_columns small:contains('new short description')\",\n        },\n    ];\n}\n\nregisterWebsitePreviewTour(\n    \"website_event_tour\", {\n        url: \"/\",\n    },\n    () => [...websiteCreateEventTourSteps(), ...websiteEditEventTourSteps()]\n);\n", "/** @odoo-modules */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"website_event_pages_seo\", {\n    // The tour must start on an event's custom page (not register page)\n    // url: `/event/openwood-collection-online-reveal-8/page/introduction-openwood-collection-online-reveal`,\n    steps: () => [\n        {\n            trigger: \":iframe #o_wevent_event_submenu\", // Ensure we landed on the event page\n        },\n        {\n            content: \"Open the site menu\",\n            trigger: '[data-menu-xmlid=\"website.menu_site\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Open the optimize SEO dialog\",\n            trigger: '[data-menu-xmlid=\"website.menu_optimize_seo\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Fill in the title input\",\n            trigger: '.modal [for=\"website_meta_title\"] + input',\n            run: \"edit Hello, world!\",\n        },\n        {\n            content: \"Save the dialog\",\n            trigger: \".modal .modal-footer .btn-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body:not(:has(.modal))\",\n        },\n        {\n            trigger: \":iframe head:has(title:contains(/^Hello, world!$/)):not(:visible)\",\n        },\n        {\n            content: \"Check that the page title is adapted, inside and outside the iframe\",\n            trigger: \"head:has(title:contains(/^Hello, world!$/)):not(:visible)\",\n        },\n    ],\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('project_task_activities_split', {\n    url: '/odoo',\n    steps: () => [\n        {\n            content: 'Open Activity Systray',\n            trigger: '.o-mail-ActivityMenu-counter',\n            run: \"click\",\n        }, {\n            content: 'Open Task Activities',\n            trigger: '.o-mail-ActivityGroup:contains(\"Task\")',\n            run: \"click\",\n        }, {\n            content: 'Task \"New Task!\" is listed in the activity view',\n            trigger: '.o_activity_record .d-block:contains(\"New Task!\")',\n        }, {\n            content: 'Task \"New Sub-Task!\" is listed in the activity view',\n            trigger: '.o_activity_record .d-block:contains(\"New Sub-Task!\")',\n            run: () => {\n                const nodes = document.querySelectorAll(\".o_activity_record .d-block\");\n                for (const node of nodes) {\n                    if (node.textContent === \"New To-do!\") {\n                        console.error('Private task records with no parent task should not appear in this view');\n                    }\n                }\n            },\n        }, {\n            content: 'Open Activity Systray',\n            trigger: '.o-mail-ActivityMenu-counter',\n            run: \"click\",\n        }, {\n            content: 'Open To-Do Activities',\n            trigger: '.o-mail-ActivityGroup:contains(\"To-Do\")',\n            run: \"click\",\n        }, {\n            content: 'Record \"New To-Do!\" is listed in the activity view',\n            trigger: '.o_activity_record .d-block:contains(\"New To-Do!\")',\n            run: () => {\n                const nodes = document.querySelectorAll(\".o_activity_record .d-block\");\n                for (const node of nodes) {\n                    if (node.textContent === \"New Task!\" || node.textContent === \"New Sub-Task!\") {\n                        console.error('Tasks linked to a project should not appear in this view');\n                    }\n                }\n            },\n        }\n    ],\n});\n", "/** @odoo-module */\n\nimport { markup } from \"@odoo/owl\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('project_todo_main_functions', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"project_todo.menu_todo_todos\"]',\n    run: \"click\",\n}, {\n    trigger: \".o_project_task_kanban_view .o_column_quick_create .o_kanban_add_column\",\n    content: \"Create a personal stage from the To-do kanban view\",\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_group\",\n},\n{\n    trigger: \".o_project_task_kanban_view .o_column_quick_create .o_kanban_header input\",\n    content: \"Create a personal stage from the To-do kanban view\",\n    run: \"edit Stage 1\",\n}, {\n    trigger: \".o_project_task_kanban_view .o_column_quick_create .o_kanban_add\",\n    content: \"Save the personal stage\",\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_group\",\n},\n{\n    trigger: \".o_project_task_kanban_view .o_column_quick_create .o_kanban_header input\",\n    content: \"Create a second personal stage from the To-do kanban view\",\n    run: \"edit Stage 2\",\n}, {\n    trigger: \".o_project_task_kanban_view .o_column_quick_create .o_kanban_add\",\n    content: \"Save the personal stage\",\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_group:eq(1)\",\n},\n{\n    trigger: '.o-kanban-button-new',\n    content: \"Create a task in the first stage\",\n    run: \"click\",\n},\n{\n    trigger: \".o_project_task_kanban_view\",\n},\n{\n    trigger: '.o_kanban_quick_create div.o_field_char[name=name] input',\n    content: \"Create a personal task from the To-do kanban view\",\n    run: \"edit Personal Task 1\",\n},\n{\n    trigger: \".o_project_task_kanban_view\",\n},\n{\n    trigger: '.o_kanban_quick_create .o_kanban_add',\n    content: \"Save the personal task\",\n    run: \"click\",\n},\n{\n    trigger: \".o_project_task_kanban_view\",\n},\n{\n    trigger: \".o_kanban_record\",\n    content: \"Drag &amp; drop the card to change the personal task from personal stage.\",\n    run: \"drag_and_drop(.o_kanban_group:eq(1))\",\n},\n{\n    trigger: \".o_project_task_kanban_view\",\n},\n{\n    content: \"Click on invisible caret. Should hover on card to be visible\",\n    trigger: \".o_dropdown_kanban .btn.o-no-caret:not(:visible)\",\n    run: \"click\",\n}, {\n    trigger: \"a:contains('Set Cover Image')\",\n}, {\n    trigger: \".o_kanban_record:first\",//:contains(Send message)\n    content: \"Open the first todo record\",\n    run: \"click\",\n},\n{\n    trigger: \".o_todo_form_view\",\n},\n{\n    trigger: \".todo_toggle_chatter\",\n    content: \"Clicking on the chatter button should toggle open the chatter\",\n    run: \"click\",\n},\n{\n    trigger: \".o-mail-Chatter-topbar button.o-mail-Chatter-sendMessage\",\n    content: \"A 'send message' button should be present in the chatter\",\n    run: \"click\",\n},\n{\n    trigger: \".o_todo_form_view\",\n},\n{\n    trigger: \".o-mail-Chatter-topbar button.o-mail-Chatter-logNote\",\n    content: \"A 'log note' button should be present in the chatter\",\n    run: \"click\",\n},\n{\n    trigger: \".o_todo_form_view\",\n},\n{\n    trigger: \".o-mail-Chatter-topbar button.o-mail-Chatter-activity\",\n    content: \"An 'Activities' button should be present in the chatter\",\n    run: \"click\",\n}, {\n    trigger: \"button[name=action_schedule_activities]\",\n    content: \"Schedule an activity\",\n    run: \"click\",\n},\n{\n    trigger: \".o_todo_form_view\",\n},\n{\n    trigger: \".o_field_widget[name='user_ids'] input\",\n    content: \"Assign a responsible to your task\",\n    run: \"fill marc\",\n},\n{\n    isActive: [\"auto\"],\n    trigger: \".ui-autocomplete > li > a:not(:has(i.fa))\",\n    run: \"click\",\n}, {\n    trigger: '.o_field_widget[name=\"name\"] textarea',\n    content: 'Edit the name of the personal task',\n    run: \"edit New name for the personal task\",\n}, {\n    trigger: '.o_todo_done_button',\n    content: 'Mark the task as done',\n    run: \"click\",\n},\n{\n    trigger: \".o_todo_form_view .o_form_dirty\",\n},\n{\n    trigger: \".o_form_button_save\",\n    content: \"Save the record\",\n    run: \"click\",\n}, {\n    trigger: '.o_breadcrumb .o_control_panel_breadcrumbs_actions button:enabled',\n    content: \"Convert the Todo to a task belonging to a project:enabled\",\n    run: \"click\",\n}, {\n    trigger: '.o_menu_item:contains(\"Convert to Task\")',\n    content: \"Click on the action menu 'Convert to task'\",\n    run: \"click\",\n}, {\n    trigger: '.o_todo_conversion_form_view .o_field_many2one[name=project_id] input',\n    content: 'Create a new project that will be set to the task',\n    run: \"edit Project test 1\",\n}, {\n    trigger: '.o_todo_conversion_form_view .o_field_many2one[name=project_id] li.o_m2o_dropdown_option_create a',\n    content: 'Create the new project',\n    run: \"click\",\n}, {\n    trigger: 'button[name=\"action_convert_to_task\"]',\n    content: 'Convert the todo to a task',\n    run: \"click\",\n}, {\n    trigger: \".breadcrumb-item:nth-child(1)\",\n    content: markup(\"Let's go back to the <b>kanban view</b> to have an overview of your next tasks.\"),\n    run: \"click\",\n}, {\n    trigger: \".o_kanban_view\",\n}]});\n", "import { _t } from \"@web/core/l10n/translation\";\nimport { patch } from \"@web/core/utils/patch\";\nimport { accountTourSteps } from \"@account/js/tours/account\";\n\npatch(accountTourSteps, {\n    onboarding() {\n        return [\n            {\n                trigger: \".o_widget_account_onboarding .fa-circle\",\n            },\n            {\n                trigger: \"a[data-method=action_open_step_fiscal_year]\",\n                content: _t(\"Set Periods\"),\n                run: \"click\",\n            },\n            {\n                trigger: \"button[name=action_save_onboarding_fiscal_year]\",\n                content: _t(\"Save Fiscal Year end\"),\n                run: \"click\",\n            },\n        ];\n    },\n    newInvoice() {\n        return [\n            {\n                trigger: \".o_widget_account_onboarding .fa-check-circle\",\n            },\n            {\n                trigger: \"button[name=action_create_new]\",\n                content: _t(\"Now, we'll create your first invoice (accountant)\"),\n                run: \"click\",\n            },\n        ];\n    },\n});\n", "/** @odoo-module **/\n\nimport { Asserts } from \"./asserts\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"account_reports\", {\n    url: \"/odoo/action-account_reports.action_account_report_bs\",\n    steps: () => [\n        //--------------------------------------------------------------------------------------------------------------\n        // Foldable\n        //--------------------------------------------------------------------------------------------------------------\n        {\n            content: \"Initial foldable\",\n            trigger: \".o_content\",\n            run: () => {\n                Asserts.DOMContainsNumber(\"tbody > tr:not(.d-none):not(.empty)\", 28);\n\n                // Since the total line is not displayed (folded), the amount should be on the line\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(4) td:nth-child(2)\").textContent,\n                    \"75.00\"\n                );\n            },\n        },\n        {\n            content: \"Click to unfold line\",\n            trigger: \"tr:nth-child(4) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Line is unfolded\",\n            trigger: \"tr:nth-child(5) .name:contains('101401')\",\n            run: () => {\n                Asserts.DOMContainsNumber(\"tbody > tr:not(.d-none):not(.empty)\", 30);\n\n                // Since the total line is displayed (unfolded), the amount should not be on the line\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(4) td:nth-child(2)\").textContent,\n                    \"\"\n                );\n            },\n        },\n        {\n            content: \"Click to fold line\",\n            trigger: \"tr:nth-child(4) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Line is folded\",\n            trigger: \".o_content\",\n            run: () => {\n                Asserts.DOMContainsNumber(\"tbody > tr:not(.d-none):not(.empty)\", 28);\n            },\n        },\n        //--------------------------------------------------------------------------------------------------------------\n        // Sortable\n        //--------------------------------------------------------------------------------------------------------------\n        {\n            content: \"Unfold first line\",\n            trigger: \"tr:nth-child(4) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Unfold second line\",\n            trigger: \"tr:nth-child(7) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Unfold third line\",\n            trigger: \"tr:nth-child(10) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Extra Trigger step\",\n            trigger: \"tr:nth-child(12):not(.d-none) .name:contains('101404')\",\n        },\n        {\n            content: \"Initial sortable\",\n            trigger: \".o_content\",\n            run: () => {\n                // Bank and Cash Accounts\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(5) td:nth-child(2)\").textContent,\n                    \"75.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(6) td:nth-child(2)\").textContent,\n                    \"75.00\"\n                );\n\n                // Receivables\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(8) td:nth-child(2)\").textContent,\n                    \"25.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(9) td:nth-child(2)\").textContent,\n                    \"25.00\"\n                );\n\n                // Current Assets\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(11) td:nth-child(2)\").textContent,\n                    \"100.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(12) td:nth-child(2)\").textContent,\n                    \"50.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(13) td:nth-child(2)\").textContent,\n                    \"150.00\"\n                );\n            },\n        },\n        {\n            content: \"Click sort\",\n            trigger: \"th .btn_sortable\",\n            run: \"click\",\n        },\n        {\n            trigger: \"tr:nth-child(11) td:nth-child(2):contains('50.00')\",\n        },\n        {\n            content: \"Unfold not previously unfolded line\",\n            trigger: \"tr:nth-child(22):contains('Current Liabilities') td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Line is unfolded\",\n            trigger: \"tr:nth-child(23) .name:contains('251000')\",\n            run: \"click\",\n        },\n        {\n            content: \"Sortable (asc)\",\n            trigger: \"tr:nth-child(11) td:nth-child(2):contains('50.00')\",\n            run: () => {\n                // Bank and Cash Accounts\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(5) td:nth-child(2)\").textContent,\n                    \"75.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(6) td:nth-child(2)\").textContent,\n                    \"75.00\"\n                );\n\n                // Receivables\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(8) td:nth-child(2)\").textContent,\n                    \"25.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(9) td:nth-child(2)\").textContent,\n                    \"25.00\"\n                );\n\n                // Current Assets\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(11) td:nth-child(2)\").textContent,\n                    \"50.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(12) td:nth-child(2)\").textContent,\n                    \"100.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(13) td:nth-child(2)\").textContent,\n                    \"150.00\"\n                );\n            },\n        },\n        {\n            content: \"Click sort\",\n            trigger: \"th .btn_sortable\",\n            run: \"click\",\n        },\n        {\n            content: \"Sortable (desc)\",\n            trigger: \"tr:nth-child(11) td:nth-child(2):contains('100.00')\",\n            run: () => {\n                // Bank and Cash Accounts\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(5) td:nth-child(2)\").textContent,\n                    \"75.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(6) td:nth-child(2)\").textContent,\n                    \"75.00\"\n                );\n\n                // Receivables\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(8) td:nth-child(2)\").textContent,\n                    \"25.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(9) td:nth-child(2)\").textContent,\n                    \"25.00\"\n                );\n\n                // Current Assets\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(11) td:nth-child(2)\").textContent,\n                    \"100.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(12) td:nth-child(2)\").textContent,\n                    \"50.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(13) td:nth-child(2)\").textContent,\n                    \"150.00\"\n                );\n            },\n        },\n        {\n            content: \"Click sort\",\n            trigger: \"th .btn_sortable\",\n            run: \"click\",\n        },\n        {\n            content: \"Sortable (reset)\",\n            trigger: \"tr:nth-child(5) td:nth-child(2):contains('75.00')\",\n            run: () => {\n                // Bank and Cash Accounts\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(5) td:nth-child(2)\").textContent,\n                    \"75.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(6) td:nth-child(2)\").textContent,\n                    \"75.00\"\n                );\n\n                // Receivables\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(8) td:nth-child(2)\").textContent,\n                    \"25.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(9) td:nth-child(2)\").textContent,\n                    \"25.00\"\n                );\n\n                // Current Assets\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(11) td:nth-child(2)\").textContent,\n                    \"100.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(12) td:nth-child(2)\").textContent,\n                    \"50.00\"\n                );\n                Asserts.isEqual(\n                    document.querySelector(\"tr:nth-child(13) td:nth-child(2)\").textContent,\n                    \"150.00\"\n                );\n            },\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('account_reports_rounding_unit', {\n    url: '/odoo/action-account_reports.action_account_report_bs',\n    steps: () => [\n        {\n            content: 'Test the value of `Receivables` line in decimals',\n            trigger: '.line_name:contains(\"Receivables\") + .line_cell:contains(\"1,150,000.00\")',\n            run: \"click\",\n        },\n        // Units\n        {\n            content: \"Open amounts rounding dropdown\",\n            trigger: \"#filter_rounding_unit button\",\n            run: 'click',\n        },\n        {\n            content: \"Select the units filter\",\n            trigger: \".dropdown-item:contains('In $')\",\n            run: 'click',\n        },\n        {\n            trigger:\n                '.line_name:contains(\"Receivables\") + .line_cell:not(:contains(\"1,150,000.00\"))',\n        },\n        {\n            content: 'test the value of `Receivables` line in units',\n            // We wait for the value to change.\n            // We check the new value.\n            trigger: '.line_name:contains(\"Receivables\") + .line_cell:contains(\"1,150,000\")',\n            run: \"click\",\n        },\n        // Thousands\n        {\n            content: \"Open amounts rounding dropdown\",\n            trigger: \"#filter_rounding_unit button\",\n            run: 'click',\n        },\n        {\n            content: \"Select the thousands filter\",\n            trigger: \".dropdown-item:contains('In K$')\",\n            run: 'click',\n        },\n        {\n            trigger: '.line_name:contains(\"Receivables\") + .line_cell:not(:contains(\"1,150,000\"))',\n        },\n        {\n            content: 'test the value of `Receivables` line in thousands',\n            // We wait for the value to change.\n            // We check the new value.\n            trigger: '.line_name:contains(\"Receivables\") + .line_cell:contains(\"1,150\")',\n            run: \"click\",\n        },\n        // Millions\n        {\n            content: \"Open amounts rounding dropdown\",\n            trigger: \"#filter_rounding_unit button\",\n            run: 'click',\n        },\n        {\n            content: \"Select the millions filter\",\n            trigger: \".dropdown-item:contains('In M$')\",\n            run: 'click',\n        },\n        {\n            trigger: '.line_name:contains(\"Receivables\") + .line_cell:not(:contains(\"1,150\"))',\n        },\n        {\n            content: 'test the value of `Receivables` line in millions',\n            // We wait for the value to change.\n            // We check the new value.\n            trigger: '.line_name:contains(\"Receivables\") + .line_cell:contains(\"1\")',\n            run: \"click\",\n        },\n        // Decimals\n        {\n            content: \"Open amounts rounding dropdown\",\n            trigger: \"#filter_rounding_unit button\",\n            run: 'click',\n        },\n        {\n            content: \"Select the decimals filter\",\n            trigger: \".dropdown-item:contains('In .$')\",\n            run: 'click',\n        },\n        {\n            content: 'test the value of `Receivables` line in millions',\n            trigger: '.line_name:contains(\"Receivables\") + .line_cell:contains(\"1,150,000.00\")',\n            run: () => null,\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"account_reports_analytic_filters\", {\n    url: \"/odoo/action-account_reports.action_account_report_general_ledger\",\n    steps: () => [\n        {\n            content: \"click analytic filters\",\n            trigger: \".filter_analytic button\",\n            run: \"click\",\n        },\n        {\n            content: \"insert text in the searchbar\",\n            trigger: \".o_multi_record_selector input\",\n            run: \"edit Time\",\n        },\n        {\n            content: \"click on the item\",\n            trigger: '.o-autocomplete--dropdown-item:contains(\"Time Off\")',\n            run: \"click\",\n        },\n        {\n            content: \"Check the label of the badge\",\n            trigger: '.dropdown-menu .o_tag_badge_text:contains(\"Time Off\")',\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { Asserts } from \"./asserts\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"account_reports_annotations\", {\n    url: \"/odoo/action-account_reports.action_account_report_bs\",\n    steps: () => [\n        //--------------------------------------------------------------------------------------------------------------\n        // Annotations\n        //--------------------------------------------------------------------------------------------------------------\n        // Test the initial status of annotations - There are 2 annotations to display\n        {\n            content: \"Initial annotations\",\n            trigger: \".o_content\",\n            run: () => {\n                Asserts.DOMContainsNone(\".annotations\");\n            },\n        },\n        {\n            content: \"Unfold first line\",\n            trigger: \"tr:nth-child(4) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Unfold second line\",\n            trigger: \"tr:nth-child(7) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Unfold third line\",\n            trigger: \"tr:nth-child(10) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Extra Trigger step\",\n            trigger: \"tr:nth-child(12):not(.d-none) .name:contains('101404')\",\n        },\n        {\n            content: \"Check there are two lines annotated initially\",\n            trigger: \".o_content\",\n            run: () => {\n                const annotations = document.querySelectorAll(\".btn_annotation .fa-commenting\");\n\n                // Check the number of annotated lines\n                Asserts.isEqual(annotations.length, 2);\n\n                // Check the annotations buttons are on the right lines\n                Asserts.isTrue(\n                    annotations[0] ===\n                        document.querySelector(\"tr:nth-child(5)\").querySelector(\".fa-commenting\")\n                );\n                Asserts.isTrue(\n                    annotations[1] ===\n                        document.querySelector(\"tr:nth-child(12)\").querySelector(\".fa-commenting\")\n                );\n            },\n        },\n        // Test that we can add a new annotation\n        {\n            content: \"Click to show caret option\",\n            trigger: \"tr:nth-child(8) .dropdown-toggle\",\n            run: \"click\",\n        },\n        {\n            content: \"Caret option is displayed\",\n            trigger: \"tr:nth-child(8)\",\n            run: () => {\n                Asserts.hasClass(\"tr:nth-child(8) .o-dropdown\", \"show\");\n            },\n        },\n        {\n            content: \"Click on annotate\",\n            trigger: \".o-dropdown--menu .dropdown-item:last-of-type:contains('Annotate')\",\n            run: \"click\",\n        },\n        {\n            content: \"Add text to annotate\",\n            trigger: \"textarea\",\n            run: \"edit Annotation 121000\",\n        },\n        {\n            content: \"Submit annotation by blurring\",\n            trigger: \"textarea\",\n            run: function () {\n                const annotation = this.anchor;\n                annotation.dispatchEvent(new InputEvent(\"input\"));\n                annotation.dispatchEvent(new Event(\"change\"));\n            },\n        },\n        {\n            content: \"Wait for annotation created\",\n            trigger: \"tr:nth-child(8) .btn_annotation .fa-commenting\",\n        },\n        {\n            content: \"Close annotation\",\n            trigger: \".o_content\",\n            run: \"click\",\n        },\n        {\n            content: \"Check there are now three lines annotated\",\n            trigger: \".o_content\",\n            run: () => {\n                const annotations = document.querySelectorAll(\".btn_annotation .fa-commenting\");\n\n                // Check the number of annotated lines\n                Asserts.isEqual(annotations.length, 3);\n\n                // Check the annotations buttons are on the right lines\n                Asserts.isTrue(\n                    annotations[0] ===\n                        document.querySelector(\"tr:nth-child(5)\").querySelector(\".fa-commenting\")\n                );\n                Asserts.isTrue(\n                    annotations[1] ===\n                        document.querySelector(\"tr:nth-child(8)\").querySelector(\".fa-commenting\")\n                );\n                Asserts.isTrue(\n                    annotations[2] ===\n                        document.querySelector(\"tr:nth-child(12)\").querySelector(\".fa-commenting\")\n                );\n            },\n        },\n        // Test that we can edit an annotation\n        {\n            content: \"Open second annotated line annotation popover\",\n            trigger: \"tr:nth-child(8) .btn_annotation\",\n            run: \"click\",\n        },\n        {\n            content: \"Annotate contains previous text value\",\n            trigger: \"textarea\",\n            run: () => {\n                Asserts.isEqual(document.querySelector(\"textarea\").value, \"Annotation 121000\");\n            },\n        },\n        {\n            content: \"Add text to annotate\",\n            trigger: \"textarea\",\n            run: \"edit Annotation 121000 edited\",\n        },\n        {\n            content: \"Annotation is edited\",\n            trigger: \"tr:nth-child(8) .btn_annotation\",\n            run: () => {\n                Asserts.isEqual(\n                    document.querySelector(\".annotation_popover_autoresize_textarea\").value,\n                    \"Annotation 121000 edited\"\n                );\n            },\n        },\n        // Test that we can delete an annotation by clicking the trash icon\n        {\n            content: \"Click on trash can\",\n            trigger: \".btn_annotation_delete\",\n            run: \"click\",\n        },\n        {\n            content: \"Check there are now only two lines annotated\",\n            trigger: \"tr:nth-child(8):not(:has(.fa-commenting))\",\n            run: () => {\n                const annotations = document.querySelectorAll(\".btn_annotation .fa-commenting\");\n\n                // Check the number of annotated lines\n                Asserts.isEqual(annotations.length, 2);\n\n                // Check the annotations buttons are on the right lines\n                Asserts.isTrue(\n                    annotations[0] ===\n                        document.querySelector(\"tr:nth-child(5)\").querySelector(\".fa-commenting\")\n                );\n                Asserts.isTrue(\n                    annotations[1] ===\n                        document.querySelector(\"tr:nth-child(12)\").querySelector(\".fa-commenting\")\n                );\n            },\n        },\n        // Test that we can add an annotation by clicking on the \"New\" button inside the popover\n        {\n            content: \"Open an annotated line annotation popover\",\n            trigger: \"tr:nth-child(12) .btn_annotation\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on the 'New' button\",\n            trigger: \".annotation_popover_line .oe_link\",\n            run: \"click\",\n        },\n        {\n            content: \"Add text to annotate\",\n            trigger: \"textarea:last()\",\n            run: \"edit Annotation 101404 bis\",\n        },\n        {\n            content: \"Submit annotation by blurring\",\n            trigger: \"textarea:last()\",\n            run: function () {\n                const annotation = this.anchor;\n                annotation.dispatchEvent(new InputEvent(\"input\"));\n                annotation.dispatchEvent(new Event(\"change\"));\n            },\n        },\n        // Check the current state of the annotations\n        {\n            content: \"Check there are two annotated lines to end the test\",\n            trigger: \".o_content\",\n            run: () => {\n                const annotations = document.querySelectorAll(\".btn_annotation .fa-commenting\");\n\n                // Check there is only one annotated line\n                Asserts.isEqual(annotations.length, 2);\n\n                // Check the annotation buttons are on the right lines\n                Asserts.isTrue(\n                    annotations[0] ===\n                        document.querySelector(\"tr:nth-child(5)\").querySelector(\".fa-commenting\")\n                );\n                Asserts.isTrue(\n                    annotations[1] ===\n                        document.querySelector(\"tr:nth-child(12)\").querySelector(\".fa-commenting\")\n                );\n            },\n        },\n        //--------------------------------------------------------------------------------------------------------------\n        // Annotations dates\n        //--------------------------------------------------------------------------------------------------------------\n        {\n            content:\n                \"Remove first annotation to only have one annotation on line 12 (required setup step)\",\n            trigger: \".annotation_popover tr:nth-child(2) .btn_annotation_delete\",\n            run: \"click\",\n        },\n        {\n            content: \"Verify that we still have one element\",\n            trigger: \".annotation_popover tr:nth-child(3):contains('Add a line')\",\n        },\n        {\n            content: \"Modify the date of an annotation to a further period\",\n            trigger: \".annotation_popover tr:nth-child(2) input\",\n            run: \"edit 01/01/2100\",\n        },\n        {\n            content: \"Modify the date of an annotation to a further period\",\n            trigger: \".annotation_popover tr:nth-child(2) input\",\n            run: function () {\n                // Since the t-on-change of the input is not triggered by the run: \"edit\" action,\n                // we need to dispatch the event manually requiring a function.\n                const input = this.anchor;\n                input.dispatchEvent(new InputEvent(\"input\"));\n                input.dispatchEvent(new Event(\"change\", { bubbles: true }));\n            },\n        },\n        {\n            content: \"Check that there is no annotation anymore on line 12\",\n            trigger: \"tr:nth-child(12):not(:has(.fa-commenting))\",\n        },\n        {\n            content: \"change date filter\",\n            trigger: \"#filter_date button\",\n            run: \"click\",\n        },\n        {\n            content: \"Open specific date button\",\n            trigger: \".dropdown-menu div.dropdown-item\",\n            run: \"click\",\n        },\n        {\n            content: \"Go to 15 January 2100\",\n            trigger: \".o_datetime_input\",\n            run: \"edit 01/15/2100\",\n        },\n        {\n            content: \"Apply filter by closing the dropdown\",\n            trigger: \"#filter_date .btn:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"wait refresh\",\n            trigger: `#filter_date button:not(:contains(${new Date().getFullYear()}))`,\n        },\n        {\n            content: \"Check there is one annotation on line 12\",\n            trigger: \"tr:nth-child(12):has(.fa-commenting)\",\n            run: () => {\n                const annotations = document.querySelectorAll(\".btn_annotation .fa-commenting\");\n\n                // Check there is only one annotated line\n                Asserts.isEqual(annotations.length, 1);\n\n                // Check the annotation buttons are on the right lines\n                Asserts.isTrue(\n                    annotations[0] ===\n                        document.querySelector(\"tr:nth-child(12)\").querySelector(\".fa-commenting\")\n                );\n            }\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('account_reports_hide_0_lines', {\n    url: '/odoo/action-account_reports.action_account_report_bs',\n    steps: () => [\n        {\n            content: 'test if the Bank and Cash line is present (but the value is 0)',\n            trigger: '.line_name:contains(\"Bank and Cash Accounts\")',\n            run: \"click\",\n        },\n        {\n            content: 'test if the Current Year Unallocated Earnings line is present (but the value is 0)',\n            trigger: '.line_name:contains(\"Current Year Unallocated Earnings\")',\n            run: \"click\",\n        },\n        {\n            content: 'test if the Unallocated Earnings line is present (but value is different from 0 and so should be there after the hide_0_lines',\n            trigger: '.line_name:contains(\"Unallocated Earnings\")',\n            run: \"click\",\n        },\n        {\n            content: \"Open options selector\",\n            trigger: \"#filter_extra_options button\",\n            run: 'click',\n        },\n        {\n            content: \"Select the hide line at 0 option\",\n            trigger: \".dropdown-item:contains('Hide lines at 0')\",\n            run: 'click',\n        },\n        {\n            content: 'test if the Unallocated Earnings line is still present',\n            trigger: '.line_name:contains(\"Unallocated Earnings\")',\n            run: \"click\",\n        },\n        {\n            content: 'test if the Bank and Cash line is not present',\n            trigger: '.line_name:not(:contains(\"Bank and Cash Accounts\"))',\n            run: \"click\",\n        },\n        {\n            content: 'test if the Current Year Unallocated Earnings line is not present',\n            trigger: '.line_name:not(:contains(\"Current Year Unallocated Earnings\"))',\n            run: \"click\",\n        },\n        {\n            content: \"Click again to open the options selector\",\n            trigger: \"#filter_extra_options button\",\n            run: 'click',\n        },\n        {\n            content: \"Select the hide lines at 0 option again\",\n            trigger: \".dropdown-item:contains('Hide lines at 0')\",\n            run: 'click',\n        },\n        {\n            content: 'test again if the Bank and Cash line is present (but the value is 0)',\n            trigger: '.line_name:contains(\"Bank and Cash Accounts\")',\n            run: () => null,\n        },\n    ]\n});\n\nregistry.category(\"web_tour.tours\").add('account_reports_hide_0_lines_with_string_columns', {\n    url: '/odoo/action-account_reports.action_account_report_general_ledger',\n    steps: () => [\n        {\n            content: \"Check if the 211000 Account Payable line is present (but the value is 0)\",\n            trigger: \".name:contains('211000 Account Payable')\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if the MISC item line is present with string values set up, but all amounts are at 0\",\n            trigger: \".name:contains('Coucou les biloutes')\",\n        },\n        {\n            content: \"Open options selector\",\n            trigger: \"#filter_extra_options button\",\n            run: 'click',\n        },\n        {\n            content: \"Select the hide line at 0 option\",\n            trigger: \".dropdown-item:contains('Hide lines at 0')\",\n            run: 'click',\n        },\n        {\n            content: \"Check if the MISC item line is hidden\",\n            trigger: \":not(:visible):contains('Coucou les biloutes')\",\n        },\n        {\n            content: \"Click again to open the options selector\",\n            trigger: \"#filter_extra_options button\",\n            run: 'click',\n        },\n        {\n            content: \"Select the hide lines at 0 option again\",\n            trigger: \".dropdown-item:contains('Hide lines at 0')\",\n            run: 'click',\n        },\n        {\n            content: \"Check again if the MISC item line is present (but the value is 0)\",\n            trigger: \".name:contains('Coucou les biloutes')\",\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('account_reports_search', {\n    url: '/odoo/action-account_reports.action_account_report_general_ledger',\n    steps: () => [\n        {\n            content: \"click search\",\n            trigger: '.o_searchview_input',\n            run: 'click',\n        },\n        {\n            content: 'insert text in the searchbar',\n            trigger: '.o_searchview_input',\n            run: \"edit 40\",\n        },\n        {\n            content: 'test if the product sale line is present',\n            trigger: '.line_name:contains(\"400000 Product Sales\")',\n            run: \"click\",\n        },\n        {\n            content: \"click search\",\n            trigger: '.o_searchview_input',\n            run: 'click',\n        },\n        {\n            content: 'insert text in the search bar',\n            trigger: '.o_searchview_input',\n            run: \"edit Account\",\n        },\n        {\n            content: 'test if the receivable line is present',\n            trigger: '.line_name:contains(\"121000 Account Receivable\")',\n            run: 'click',\n        },\n        {\n            content: 'check that the product sale line is not present',\n            trigger: '.line_name:not(:contains(\"400000 Product Sales\"))',\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nconst { DateTime } = luxon;\n\nimport { Asserts } from \"./asserts\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('account_reports_sections', {\n    url: \"/odoo/action-account_reports.action_account_report_gt\",\n    steps: () => [\n        {\n            content: \"Open variant selector\",\n            trigger: \"#filter_variant button\",\n            run: 'click',\n        },\n        {\n            content: \"Select the test variant using sections\",\n            trigger: \".dropdown-item:contains('Test Sections')\",\n            run: 'click',\n        },\n        {\n            content: \"Check the lines of section 1 are displayed\",\n            trigger: \".line_name:contains('Section 1 line')\",\n        },\n        {\n            content: \"Check the columns of section 1 are displayed\",\n            trigger: \"#table_header th:last():contains('Column 1')\",\n        },\n        {\n            content: \"Check the export buttons belong to the composite report\",\n            trigger: \".btn:contains('composite_report_custom_button')\",\n        },\n        {\n            content: \"Check the filters displayed belong to section 1 (journals filter is not enabled on section 2, nor the composite report)\",\n            trigger: \"#filter_journal\",\n        },\n        {\n            content: \"Check the date chosen by default\",\n            trigger: \"#filter_date\",\n            run: (actionHelper) => {\n                // Generic tax report opens on the previous period and in this case the period is one month.\n                // And since we are using the generic tax report, we need to go back one month.\n                const previousMonth = DateTime.now().minus({months: 1});\n\n                Asserts.isTrue(actionHelper.anchor.getElementsByTagName('button')[0].innerText.includes(previousMonth.year));\n            },\n        },\n        {\n            content: \"Switch to section 2\",\n            trigger: \"#section_selector .btn:contains('Section 2')\",\n            run: 'click',\n        },\n        {\n            content: \"Check the lines of section 2 are displayed\",\n            trigger: \".line_name:contains('Section 2 line')\",\n        },\n        {\n            content: \"Check the columns of section 2 are displayed\",\n            trigger: \"#table_header th:last():contains('Column 2')\",\n        },\n        {\n            content: \"Check the export buttons belong to the composite report\",\n            trigger: \".btn:contains('composite_report_custom_button')\",\n        },\n        {\n            content: \"Check the filters displayed belong to section 2 (comparison filter is not enabled on section 1, nor the composite report)\",\n            trigger: \"#filter_comparison\",\n        },\n        {\n            content: \"Open date switcher\",\n            trigger: \"#filter_date button\",\n            run: 'click',\n        },\n        {\n            content: \"Select another date in the future\",\n            trigger: \".dropdown-menu span.dropdown-item:nth-child(3) .btn_next_date\",\n            run: 'click'\n        },\n        {\n            content: \"Apply filter by closing the dropdown for the future date\",\n            trigger: \"#filter_date .btn:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that the date has changed\",\n            trigger: `#filter_date button:not(:contains(${ DateTime.now().minus({months: 1}).year }))`, // We need to remove one month for the case where we are in january. It will impact the year.\n            run: (actionHelper) => {\n                const nextYear = DateTime.now().plus({years: 1}).year;\n\n                Asserts.isTrue(actionHelper.anchor.innerText.includes(nextYear));\n            },\n        },\n        {\n            content: \"Open date switcher\",\n            trigger: \"#filter_date button\",\n            run: 'click',\n        },\n        {\n            content: \"Select another date first time\",\n            trigger: \".dropdown-menu span.dropdown-item:nth-child(3) .btn_previous_date\",\n            run: 'click'\n        },\n        {\n            trigger: `.dropdown-menu span.dropdown-item:nth-child(3) time:contains(${ DateTime.now().year})`,\n        },\n        {\n            content: \"Select another date second time\",\n            trigger: \".dropdown-menu span.dropdown-item:nth-child(3) .btn_previous_date\",\n            run: 'click'\n        },\n        {\n            trigger: `.dropdown-menu span.dropdown-item:nth-child(3) time:contains(${ DateTime.now().minus({years: 1}).year })`,\n        },\n        {\n            content: \"Apply filter by closing the dropdown\",\n            trigger: \"#filter_date .btn:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that the date has changed\",\n            trigger: `#filter_date button:contains(${ DateTime.now().minus({years: 1}).year })`,\n        },\n        {\n            content: \"Switch back to section 1\",\n            trigger: \"#section_selector .btn:contains('Section 1')\",\n            run: 'click',\n        },\n    ]\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"account_reports_widgets\", {\n    url: \"/odoo/action-account_reports.action_account_report_pl\",\n    steps: () => [\n        {\n            content: \"change date filter\",\n            trigger: \"#filter_date button\",\n            run: \"click\",\n        },\n        {\n            content: \"Select another date in the future\",\n            trigger: \".dropdown-menu span.dropdown-item:nth-child(3) .btn_next_date\",\n            run: 'click'\n        },\n        {\n            content: \"Apply filter by closing the dropdown\",\n            trigger: \"#filter_date .btn:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"wait refresh\",\n            trigger: `#filter_date button:not(:contains(${ new Date().getFullYear() }))`,\n        },\n        {\n            content: \"change date filter for the second time\",\n            trigger: \"#filter_date button\",\n            run: \"click\",\n        },\n        {\n            content: \"Select another date in the past first time\",\n            trigger: \".dropdown-menu span.dropdown-item:nth-child(3) .btn_previous_date\",\n            run: 'click'\n        },\n        {\n            trigger: `.dropdown-menu span.dropdown-item:nth-child(3) time:contains(${new Date().getFullYear()})`,\n        },\n        {\n            content: \"Select another date in the past second time\",\n            trigger: \".dropdown-menu span.dropdown-item:nth-child(3) .btn_previous_date\",\n            run: 'click'\n        },\n        {\n            trigger: `.dropdown-menu span.dropdown-item:nth-child(3) time:contains(${\n                new Date().getFullYear() - 1\n            })`,\n        },\n        {\n            content: \"Apply filter by closing the dropdown\",\n            trigger: \"#filter_date .btn:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"wait refresh\",\n            trigger: `#filter_date button:contains(${ new Date().getFullYear() - 1 })`,\n        },\n        {\n            content: \"change comparison filter\",\n            trigger: \"#filter_comparison .btn:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"change comparison filter\",\n            trigger: \".dropdown-item.period:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Apply filter by closing the dropdown\",\n            trigger: \"#filter_comparison .btn:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"wait refresh, report should have 4 columns\",\n            trigger: \"th + th + th + th\",\n        },\n        {\n            content: \"export xlsx\",\n            trigger: \"button:contains('XLSX')\",\n            run: \"click\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\n//----------------------------------------------------------------------------------------------------------------------\n// This class provides some helpers function to do assertions on tours\n//----------------------------------------------------------------------------------------------------------------------\nexport class Asserts {\n    //------------------------------------------------------------------------------------------------------------------\n    // Helpers\n    //------------------------------------------------------------------------------------------------------------------\n    // Gets the number of 'selector' element inside 'target' element\n    static getCount(target, selector) {\n        return document.querySelector(target).querySelectorAll(selector).length;\n    }\n    // Gets the number of 'selector' element inside DOM\n    static getDOMCount(selector) {\n        return document.querySelectorAll(selector).length;\n    }\n    static check(condition, success, error) {\n        condition ? Asserts.success(success) : Asserts.error(error);\n    }\n    static success(message) {\n        return console.info(`SUCCESS: ${message}`);\n    }\n    static error(message) {\n        throw new Error(`FAIL: ${message}`);\n    }\n\n    //------------------------------------------------------------------------------------------------------------------\n    // Asserts\n    //------------------------------------------------------------------------------------------------------------------\n    static isTrue(actual) {\n        Asserts.check(actual, `${actual} is true`, `${actual} is not true`);\n    }\n    static isFalse(actual) {\n        Asserts.check(!actual, `${actual} is false`, `${actual} is not false`);\n    }\n    // Assert that 'actual' and 'expected' are equal\n    static isEqual(actual, expected) {\n        Asserts.check(\n            (actual == expected),\n            `${actual} is equal to expected ${expected}`,\n            `${actual} is not equal to expected ${expected}`\n        );\n    }\n    // Asserts that 'actual' and 'expected' are strictly equal\n    static isStrictEqual(actual, expected) {\n        Asserts.check(\n            (actual === expected),\n            `${actual} is strictly equal to expected ${expected}`,\n            `${actual} is not strictly equal to expected ${expected}`\n        );\n    }\n    // Assert that 'target' element contains at least one 'selector' element\n    static contains(target, selector) {\n        const count = Asserts.getCount(target, selector);\n        Asserts.check(\n            (count > 0),\n            `There is at least one ${selector} in ${target}`,\n            `There should be at least one ${selector} in ${target} but there is ${count}`\n        );\n    }\n    // Asserts there is no 'selector' element in 'target' element\n    static containsNone(target, selector) {\n        const count = Asserts.getCount(target, selector);\n        Asserts.check(\n            (count === 0),\n            `There is no ${selector} in ${target}`,\n            `There should be no ${selector} in ${target} but there is ${count}`\n        );\n    }\n    // Asserts that 'target' element contains 'number' of 'selector' elements\n    static containsNumber(target, selector, number) {\n        const count = Asserts.getCount(target, selector);\n        Asserts.check(\n            (count === number),\n            `There is the correct number (${number}) of ${selector} in ${target}`,\n            `There should be at ${number} ${selector} in ${target} but there is ${count}`\n        );\n    }\n    // Asserts that DOM contains at least one 'selector' element\n    static DOMContains(selector) {\n        const count = Asserts.getDOMCount(selector);\n        Asserts.check(\n            (count > 0),\n            `There is at least one ${selector} in the DOM`,\n            `There should be at least one ${selector} in the DOM but there is ${count}`\n        );\n    }\n    // Asserts there is no 'selector' element in the DOM\n    static DOMContainsNone(selector) {\n        const count = Asserts.getDOMCount(selector);\n        Asserts.check(\n            (count === 0),\n            `There is no ${selector} in the DOM`,\n            `There should be 0 ${selector} in the DOM but there is ${count}`\n        );\n    }\n    // Asserts that DOM contains 'number' of 'selector' element\n    static DOMContainsNumber(selector, number) {\n        const count = Asserts.getDOMCount(selector);\n        Asserts.check(\n            (Asserts.getDOMCount(selector) === number),\n            `There is the correct number (${number}) of ${selector} in the DOM`,\n            `There should be ${number} ${selector} in the DOM but there is ${count}`\n        );\n    }\n    // Asserts that 'selector' element has class 'classname'\n    static hasClass(selector, classname) {\n        Asserts.check(\n            document.querySelector(selector).classList.contains(classname),\n            `${selector} has class ${classname}`,\n            `${selector} should have class ${classname} but hasn't`\n        );\n    }\n}\n", "import { patch } from \"@web/core/utils/patch\";\nimport { accountTourSteps } from \"@account/js/tours/account\";\n\npatch(accountTourSteps, {\n    bankRecUiReportSteps() {\n        return [\n            {\n                trigger: \".o_bank_rec_selected_st_line:contains('line1')\",\n            },\n            {\n                content: \"balance is 2100\",\n                trigger: \".btn-link:contains('$ 2,100.00')\",\n                run: \"click\",\n            },\n            {\n                trigger: \"span:contains('General Ledger')\",\n            },\n            {\n                content: \"Breadcrumb back to Bank Reconciliation from the report\",\n                trigger: \".breadcrumb-item a:contains('Bank Reconciliation')\",\n                run: \"click\",\n            },\n        ];\n    },\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport {\n    clickOnSave,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\n\nregisterWebsitePreviewTour('website_crm_pre_tour', {\n    url: '/contactus',\n    edition: true,\n}, () => [{\n    content: \"Select contact form\",\n    trigger: \":iframe #wrap.o_editable section.s_website_form\",\n    run: \"click\",\n},\n{\n    trigger: \"#oe_snippets .o_we_customize_snippet_btn.active\",\n},\n{\n    content: \"Open action select\",\n    trigger: \"we-select:has(we-button:contains('Create an Opportunity')) we-toggler\",\n    run: \"click\",\n}, {\n    content: \"Select 'Create an Opportunity' as form action\",\n    trigger: \"we-select we-button:contains('Create an Opportunity')\",\n    run: \"click\",\n},\n...clickOnSave(),\n{\n    content: \"Ensure form model has changed and page reload is done after save\",\n    trigger: \":iframe section.s_website_form form[data-model_name='crm.lead']\",\n}]);\n\nregistry.category(\"web_tour.tours\").add('website_crm_tour', {\n    url: '/contactus',\n    steps: () => [{\n    content: \"Complete name\",\n    trigger: \"input[name=contact_name]\",\n    run: \"edit John Smith\",\n}, {\n    content: \"Complete phone number\",\n    trigger: \"input[name=phone]\",\n    run: \"edit +32 485 118.218\",\n}, {\n    content: \"Complete Email\",\n    trigger: \"input[name=email_from]\",\n    run: \"edit john@smith.com\",\n}, {\n    content: \"Complete Company\",\n    trigger: \"input[name=partner_name]\",\n    run: \"edit Odoo S.A.\",\n}, {\n    content: \"Complete Subject\",\n    trigger: \"input[name=name]\",\n    run: \"edit Useless message\",\n}, {\n    content: \"Complete Subject\",\n    trigger: \"textarea[name=description]\",\n    run: \"edit ### TOUR DATA ###\",\n}, {\n    content: \"Send the form\",\n    trigger: \".s_website_form_send\",\n    run: \"click\",\n}, {\n    content: \"Check we were redirected to the success page\",\n    trigger: \"#wrap:has(h1:contains('Thank You!'))\",\n}]});\n\nregistry.category(\"web_tour.tours\").add('website_crm_catch_logged_partner_info_tour', {\n    url: '/contactus',\n    steps: () => [\n{\n    content: \"Wait the form is patched with values before continue to edit it\",\n    trigger: \"form#contactus_form input[name=partner_name]:value(yourcompany)\",\n},\n{\n    content: \"Complete Subject\",\n    trigger: \"input[name=name]\",\n    run: \"edit Useless subject\",\n}, {\n    content: \"Complete Subject\",\n    trigger: \"textarea[name=description]\",\n    run: \"edit ### TOUR DATA PREFILL ###\",\n}, {\n    content: \"Send the form\",\n    trigger: \".s_website_form_send\",\n    run: \"click\",\n}, {\n    content: \"Check we were redirected to the success page\",\n    trigger: \"#wrap:has(h1:contains('Thank You!'))\",\n}]});\n", "/** @odoo-module **/\n\nimport { queryAll, waitFor } from \"@odoo/hoot-dom\";\nimport { rpc } from \"@web/core/network/rpc\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction openRoot() {\n    return [{\n        content: \"return to client root to avoid race condition\",\n        trigger: 'body',\n        run() {\n            document.querySelector(\"body\").classList.add(\"wait\");\n            window.location = '/odoo';\n        }\n    }, {\n        content: \"wait for client reload\",\n        trigger: 'body:not(.wait)',\n    }];\n}\nfunction openUserProfileAtSecurityTab() {\n    return [{\n        content: 'Open user account menu',\n        trigger: '.o_user_menu .dropdown-toggle',\n        run: 'click',\n    }, {\n        content: \"Open preferences / profile screen\",\n        trigger: '[data-menu=settings]',\n        run: 'click',\n    }, {\n        content: \"Switch to security tab\",\n        trigger: 'a[role=tab]:contains(\"Account Security\")',\n        run: 'click',\n    }];\n}\n\n/**\n * Checks that the TOTP button is in the specified state (true = enabled =\n * can disable, false = disabled = can enable), then closes the profile dialog\n * if it's one (= hr not installed).\n *\n * If no totp state is provided, just checks that the toggle exists.\n */\nfunction closeProfileDialog({content, totp_state}) {\n    let trigger;\n    switch (totp_state) {\n    case true: trigger = 'button[name=action_totp_disable]'; break;\n    case false: trigger = 'button[name=action_totp_enable_wizard]'; break;\n    case undefined: trigger = 'button.o_auth_2fa_btn'; break;\n    default: throw new Error(`Invalid totp state ${totp_state}`)\n    }\n\n    return [{\n        content,\n        //TODO: remove when PIPU macro PR is merged: https://github.com/odoo/odoo/pull/194508\n        trigger: 'a[role=tab]:contains(\"Account Security\").active',\n        async run(helpers) {\n            await waitFor(trigger, { timeout: 5000 });\n            const modal = document.querySelector(\".o_dialog\");\n            if (modal) {\n                modal.querySelector(\"button[name=preference_cancel]\").click();\n            }\n        }\n    }, {\n        trigger: 'body',\n        async run() {\n            while (document.querySelector('.o_dialog')) {\n                await Promise.resolve();\n            }\n            this.anchor.classList.add(\"dialog-closed\");\n        },\n    }, {\n        trigger: 'body.dialog-closed',\n    }];\n}\n\nregistry.category(\"web_tour.tours\").add('totp_tour_setup', {\n    url: '/odoo',\n    steps: () => [...openUserProfileAtSecurityTab(), {\n    content: \"Open totp wizard\",\n    //TODO: remove when PIPU macro PR is merged: https://github.com/odoo/odoo/pull/194508\n    trigger: 'a[role=tab]:contains(\"Account Security\").active',\n    async run(actions) {\n        const el = await waitFor('button[name=action_totp_enable_wizard]', { timeout: 5000 });\n        await actions.click(el);\n    }\n},\n{\n    trigger: \".modal div:contains(entering your password)\",\n},\n{\n    content: \"Check that we have to enter enhanced security mode and input password\",\n    trigger: '[name=password] input',\n    run: 'edit test_user',\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n    run: \"click\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: '.modal li:contains(\"When requested to do so\")',\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: `.modal a:contains(\"Cannot scan it?\")`,\n    async run(helpers) {\n        const secret = this.anchor\n            .closest(\"div\")\n            .querySelector(\"[name=secret] span:first-child\");\n        const copyBtn = secret.querySelector(\"button\");\n        if (copyBtn) {\n            copyBtn.remove();\n        }\n        const token = await rpc('/totphook', {\n            secret: secret.textContent\n        });\n        await helpers.edit(token, '[name=code] input');\n        document.querySelector(\"body\").classList.add(\"got-token\");\n    }\n},\n{\n    trigger: \".modal button.btn-primary:contains(Activate)\",\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n{\n    content: 'wait for rpc',\n    trigger: 'body.got-token',\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n...closeProfileDialog({\n    content: \"Check that the button has changed\",\n    totp_state: true,\n}),\n]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_enabled', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)',\n    run: \"click\",\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit test_user\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit test_user\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n    run: \"click\",\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    async run(helpers) {\n        const token = await rpc('/totphook');\n        helpers.edit(token);\n    }\n},\n{\n    trigger: `button:contains(\"Log in\")`,\n    run: \"click\",\n},\n{\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n}]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_device', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)',\n    run: \"click\",\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit test_user\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit test_user\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n    run: \"click\",\n}, {\n    content: \"check remember device box\",\n    trigger: 'label[for=switch-remember]',\n    run: \"click\",\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    async run(helpers) {\n        const token = await rpc('/totphook')\n        helpers.edit(token);\n    }\n},\n{\n    trigger: \"button:contains(Log in)\",\n    run: \"click\",\n},\n{\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n    run: 'click',\n}, {\n    content: \"click the Log out button\",\n    trigger: '.dropdown-item[data-menu=logout]',\n    run: \"click\",\n}, {\n    content: \"check that we're back on the login page or go to it\",\n    trigger: 'input#login, a:contains(Log in)',\n    run: \"edit Test\",\n}, {\n    content: \"input login again\",\n    trigger: 'input#login',\n    run: \"edit test_user\",\n}, {\n    content: 'input password again',\n    trigger: 'input#password',\n    run: \"edit test_user\",\n}, {\n    content: \"click da button again\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n},  {\n    content: \"check we're logged in without 2FA\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n},\n// now go and disable two-factor authentication would be annoying to do in a separate tour\n// because we'd need to login & totp again as HttpCase.authenticate can't\n// succeed w/ totp enabled\n...openUserProfileAtSecurityTab(),\n{\n    content: \"Open totp wizard\",\n    //TODO: remove when PIPU macro PR is merged: https://github.com/odoo/odoo/pull/194508\n    trigger: 'a[role=tab]:contains(\"Account Security\").active',\n    async run(actions) {\n        const el = await waitFor('button[name=action_totp_disable]', { timeout: 5000 });\n        await actions.click(el);\n    }\n},\n{\n    trigger: \".modal div:contains(entering your password)\",\n},\n{\n    content: \"Check that we have to enter enhanced security mode and input password\",\n    trigger: '.modal [name=password] input',\n    run: \"edit test_user\",\n}, {\n    content: \"Confirm\",\n    trigger: \".modal button:contains(Confirm Password)\",\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n...closeProfileDialog({\n    content: \"Check that the button has changed\",\n    totp_state: false\n}),\n]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_disabled', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)',\n    run: \"click\",\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit test_user\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit test_user\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n},\n// normally we'd end the tour here as it's all we care about but there are a\n// bunch of ongoing queries from the loading of the web client which cause\n// issues, so go and open the preferences / profile screen to make sure\n// everything settles down\n...openUserProfileAtSecurityTab(),\n// close the dialog if that makes sense\n...closeProfileDialog({})\n]});\n\nconst columns = {};\nregistry.category(\"web_tour.tours\").add('totp_admin_disables', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    content: 'Go to settings',\n    trigger: '[data-menu-xmlid=\"base.menu_administration\"]',\n    run: \"click\",\n}, {\n    content: 'Wait for page',\n    trigger: '.o_menu_brand:contains(\"Settings\")',\n}, {\n    content: \"Open Users menu\",\n    trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n    run: \"click\",\n}, {\n    content: \"Open Users view\",\n    trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n    run: \"click\",\n}, {\n    content: \"Find test_user User\",\n    trigger: 'td.o_data_cell:contains(\"test_user\")',\n    run(helpers) {\n        const titles = queryAll(\"tr:first th\", { root: this.anchor.closest(\"table\") });\n        titles.forEach((el, i) => {\n            columns[el.getAttribute('data-name')] = i;\n        })\n        const row = this.anchor.closest('tr');\n        const sel = row.querySelector('.o_list_record_selector input[type=checkbox]');\n        helpers.click(sel);\n    }\n}, {\n    content: \"Open Actions menu\",\n    trigger: 'button.dropdown-toggle:contains(\"Action\")',\n    run: \"click\",\n}, {\n    content: \"Select totp remover\",\n    trigger: 'span.dropdown-item:contains(Disable two-factor authentication)',\n    run: \"click\",\n},\n{\n    trigger: \".modal div:contains(entering your password)\",\n},\n{ // enhanced security yo\n    content: \"Check that we have to enter enhanced security mode & input password\",\n    trigger: '.modal [name=password] input',\n    run: \"edit admin\",\n}, {\n    content: \"Confirm\",\n    trigger: \".modal button:contains(Confirm Password)\",\n    run: \"click\",\n},\n{\n    content: \"Wait the modal is closed\",\n    trigger: \"body:not(:has(.modal))\",\n},\n{\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(test_user)\",\n    run: \"click\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n    run: \"click\",\n}, {\n    content: \"check 2FA button\",\n    trigger: 'body',\n    run: () => {\n        const button = document.querySelector('button[name=action_totp_enable_wizard]').disabled\n        if (!button) {\n            console.error(\"2FA button should be disabled.\");\n        }\n    },\n}\n]})\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { queryFirst } from \"@odoo/hoot-dom\";\n\nfunction openAccountSettingsTab() {\n    return [{\n        content: 'Go to settings',\n        trigger: '[data-menu-xmlid=\"base.menu_administration\"]',\n        run: \"click\",\n    }, {\n        content: 'Wait for page',\n        trigger: '.o_menu_brand:contains(\"Settings\")',\n    }, {\n        content: \"Open Users menu\",\n        trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n        run: \"click\",\n    }, {\n        content: \"Open Users view\",\n        trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n        run: function (helpers) {\n            // funny story: the users view we're trying to reach, sometimes we're\n            // already there, but if we re-click the next step executes before the\n            // action has the time to re-load, the one after that doesn't, and our\n            // selection get discarded by the action reloading, so here try to\n            // see if we're already on the users action through the breadcrumb and\n            // just close the menu if so\n            const breadcrumb = document.querySelector('.breadcrumb');\n            if (!breadcrumb || !breadcrumb.textContent.includes(\"Users\")) {\n                // on general settings page, click menu\n                helpers.click();\n            } else {\n                // else close menu\n                helpers.click('[data-menu-xmlid=\"base.menu_users\"]');\n            }\n        }\n    }];\n}\n\nregistry.category(\"web_tour.tours\").add('totp_admin_self_invite', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(admin)\",\n    run: \"click\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n    run: \"click\",\n}, {\n    content: \"check that user cannot invite themselves to use 2FA.\",\n    trigger: \"body\",\n    run: function () {\n        const inviteBtn = queryFirst('button:contains(Invite to use 2FA)');\n        if (!inviteBtn) {\n            document.body.classList.add('CannotInviteYourself');\n        }\n    }\n}, {\n    content: \"check that user cannot invite themself.\",\n    trigger: \"body.CannotInviteYourself\",\n}]});\n\nregistry.category(\"web_tour.tours\").add('totp_admin_invite', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(test_user)\",\n    run: \"click\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n    run: \"click\",\n}, {\n    content: \"check that test_user user can be invited to use 2FA.\",\n    trigger: \"button:contains(Invite to use 2FA)\",\n}]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { rpc } from \"@web/core/network/rpc\";\n\nregistry.category(\"web_tour.tours\").add('totportal_tour_setup', {\n    url: '/my/security',\n    steps: () => [{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_enable',\n    run: \"click\",\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: \".modal div:contains(enter your password)\",\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: \"edit portal\", // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n    run: \"click\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: 'li:contains(\"scan the barcode below\")',\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: 'a:contains(\"Cannot scan it?\")',\n    run: async function(helpers) {\n        const secret = this.anchor\n            .closest(\"div\")\n            .querySelector('span[name=\"secret\"]').textContent;\n        const token = await rpc('/totphook', {\n            secret\n        });\n        await helpers.edit(token, 'input[name=\"code\"]');\n        await helpers.click(\"button.btn-primary:contains(Activate)\");\n    }\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Disable two-factor authentication)',\n}]});\n\nregistry.category(\"web_tour.tours\").add('totportal_login_enabled', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)',\n    run: \"click\",\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit portal\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit portal\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n    run: \"click\",\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    run: async function (helpers) {\n        const token = await rpc('/totphook');\n        await helpers.edit(token);\n        // FIXME: is there a way to put the button as its own step trigger without\n        //        the tour straight blowing through and not waiting for this?\n        await helpers.click('button:contains(\"Log in\")');\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(My account)\",\n}, {\n    content: \"go back to security\",\n    trigger: \"a:contains(Security)\",\n    run: \"click\",\n},{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_disable',\n    run: \"click\",\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: \".modal div:contains(enter your password)\",\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: \"edit portal\", // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n    run: \"click\",\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Enable two-factor authentication)',\n}]});\n\nregistry.category(\"web_tour.tours\").add('totportal_login_disabled', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)',\n    run: \"click\",\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit portal\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit portal\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(My account)\",\n}]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport tourUtils from \"@sale/js/tours/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"event_configurator_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        ...stepUtils.goToAppSteps(\"sale.sale_menu_root\", \"Go to the Sales App\"),\n        ...tourUtils.createNewSalesOrder(),\n        ...tourUtils.selectCustomer(\"Azure\"),\n        ...tourUtils.addProduct(\"Event Registration\"),\n        {\n            trigger: 'div[name=\"event_id\"] input',\n            run: \"click\",\n        },\n        {\n            trigger: \"ul.ui-autocomplete a:contains(Design)\",\n            run: \"click\",\n        },\n        {\n            trigger: 'div[name=\"event_ticket_id\"] input',\n            run: \"click\",\n        },\n        {\n            trigger: \"ul.ui-autocomplete a:contains(VIP)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal .o_event_sale_js_event_configurator_ok\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait the modal is closed\",\n            trigger: \"body:not(:has(.modal))\",\n        },\n        ...tourUtils.clickSomewhereElse(),\n        tourUtils.editLineMatching(\"Event Registration\", \"VIP\"),\n        tourUtils.editConfiguration(),\n        {\n            trigger: 'div[name=\"event_ticket_id\"] input',\n            run: \"click\",\n        },\n        {\n            trigger: \"ul.ui-autocomplete a:contains(Standard)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal .o_event_sale_js_event_configurator_ok\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait the modal is closed\",\n            trigger: \"body:not(:has(.modal))\",\n        },\n        ...tourUtils.clickSomewhereElse(),\n        tourUtils.checkSOLDescriptionContains(\"Event Registration\", \"Standard\"),\n        ...stepUtils.saveForm(),\n    ],\n});\n", "/**\n * Add custom steps to go to map and gantt view in Project app\n */\nimport { registry } from \"@web/core/registry\";\nimport \"@project/../tests/tours/project_tour\";\nimport { patch } from \"@web/core/utils/patch\";\n\n\npatch(registry.category(\"web_tour.tours\").get(\"project_test_tour\"), {\n    steps() {\n        const originalSteps = super.steps();\n        const taskCreationStepIndex = originalSteps.findIndex((step) => step.id === \"quick_create_tasks\");\n\n        originalSteps.splice(taskCreationStepIndex + 1, 0, {\n            trigger: '.o_switch_view.o_gantt',\n            content: 'Open Gantt View',\n            run: \"click\",\n        }, {\n            id: 'gantt_add_task',\n            trigger: '.o_gantt_button_add',\n            content: 'Add a task in gantt',\n            run: \"click\",\n        });\n\n        originalSteps.splice(originalSteps.length, 0, {\n            trigger: \".o_gantt_renderer_controls .dropdown:nth-child(2)\",\n            content: \"Open range menu\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_gantt_range_menu .dropdown-item:nth-child(3)',\n            content: 'Select \"This Month\"',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_gantt_progress_bar.o_gantt_group_danger\",\n            content: \"See user progress bar\",\n        })\n        return originalSteps;\n    }\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('custom_content_kanban_like_tour', {\n    steps: () => [\n        {\n            trigger: \"ul.nav a:contains(Quote Builder)\",\n            run: \"click\",\n        },\n        {\n            trigger: \"label:contains(Header)\",\n            run: \"click\",\n        },\n        {\n            trigger: \"h5:contains(custom_1) ~ div textarea\",\n            break: true,\n            run: \"edit Test\",\n        },\n        ...stepUtils.saveForm(),\n        // TODO VCR: Finish this\n    ]\n});\n", "import { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('project_create_sol_tour', {\n    url: \"/odoo\",\n    steps: () => [\n    stepUtils.showAppsMenuItem(), {\n        trigger: \".o_app[data-menu-xmlid='project.menu_main_pm']\",\n        content: 'Select Project main menu.',\n        run: \"click\",\n    }, {\n        trigger: \".o_kanban_record:contains(Test History Project):first\",\n        content: \"Open the project dropdown of project name 'Test History Project'.\",\n        run: \"hover && click .o_kanban_record:contains(Test History Project):first .o_dropdown_kanban .dropdown-toggle\",\n    }, {\n        trigger: \".o_kanban_card_manage_settings a:contains('Settings')\",\n        content: 'Start editing the project.',\n        run: \"click\",\n    }, {\n        trigger: \".o_field_widget[name='partner_id'] input\",\n        content: \"Add the customer for this project\",\n        run: \"click\",\n    }, {\n        isActive: [\"auto\"],\n        trigger: \".ui-autocomplete > li > a:not(:has(i.fa))\",\n        content: \"Select the customer in the autocomplete dropdown\",\n        run: \"click\",\n    },\n    {\n        trigger: 'div.o_notebook_headers',\n    },\n    {\n        trigger: 'a.nav-link[name=\"settings\"]',\n        content: 'Click on Settings tab to configure this project.',\n        run: \"click\",\n    }, {\n        id: \"project_sale_timesheet_start\",\n        trigger: \"div[name='sale_line_id'] input\",\n        content: 'Add the Sales Order Item',\n        run: \"fill New Sale order line\",\n    }, {\n        trigger: \".o_field_widget[name=sale_line_id] .o-autocomplete--dropdown-menu .o_m2o_dropdown_option_create a\",\n        content: \"Create an Sales Order Item in the autocomplete dropdown.\",\n        run: \"click\",\n    },\n    {\n        trigger: \"body:not(:has(.modal))\",\n    },\n    {\n        trigger: \".o_form_button_save:enabled\",\n        content: \"Save project\",\n        run: \"click\",\n    },\n    // Those steps are currently needed in order to prevent the following issue:\n    // \"Form views in edition mode are automatically saved when the page is closed, which leads to stray network requests and inconsistencies.\"\n    ...stepUtils.toggleHomeMenu(),\n    ...stepUtils.goToAppSteps(\"project.menu_main_pm\", 'Go to the Project app.'),\n]});\n", "/** @odoo-module */\n\n/**\n * Add custom step to check allow_billable during project creation\n * to be able to set a partner on project/tasks.\n */\nimport { registry } from \"@web/core/registry\";\nimport \"@project/../tests/tours/project_tour\";\nimport { patch } from \"@web/core/utils/patch\";\n\npatch(registry.category(\"web_tour.tours\").get(\"project_test_tour\"), {\n    steps() {\n        const originalSteps = super.steps();\n        const projectCreationStepIndex = originalSteps.findIndex(\n            (step) => step.id === \"project_creation\"\n        );\n        originalSteps.splice(projectCreationStepIndex, 0, {\n            trigger: \"div[name='allow_billable'] input\",\n            run: \"edit Test\",\n        });\n\n        return originalSteps;\n    },\n});\n", "import { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"task_create_sol_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: \"Select Project main menu.\",\n            trigger: \".o_app[data-menu-xmlid='project.menu_main_pm']\",\n            run: \"click\",\n        },\n        {\n            content: \"Open the project dropdown of project name 'Test History Project'.\",\n            trigger: \".o_kanban_record:contains(Test History Project):first\",\n            run: \"click\",\n        },\n        {\n            content: \"Open the task name 'Test History Project' from kanban view.\",\n            trigger: \".o_kanban_record:contains(Test History Task)\",\n            run: \"click\",\n        },\n        {\n            content: \"Add the customer for this task to select an SO and SOL.\",\n            trigger: \".o_field_widget[name='partner_id'] input\",\n            run: \"click\",\n        },\n        {\n            content: \"Select the customer in the autocomplete dropdown\",\n            trigger: \".ui-autocomplete > li > a:not(:has(i.fa))\",\n            run: \"click\",\n        },\n        {\n            content: \"Add the Sales Order Item\",\n            trigger: \"div[name='sale_line_id'] input\",\n            run: \"fill New Sale order line\",\n        },\n        {\n            content: \"Create an Sales Order Item in the autocomplete dropdown.\",\n            trigger:\n                \".o_field_widget[name=sale_line_id] .o-autocomplete--dropdown-menu .o_m2o_dropdown_option_create_edit a\",\n            run: \"click\",\n        },\n        {\n            content: \"Create an product in the autocomplete dropdown.\",\n            trigger: \"div[name='product_id'] input\",\n            run: \"click\",\n        },\n        {\n            content: \"Select the product in the autocomplete dropdown\",\n            trigger: \".ui-autocomplete > li > a:not(:has(i.fa))\",\n            run: \"click\",\n        },\n        {\n            content: \"Save Sales Order Item\",\n            trigger: \".modal .o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            content: \"wait the modal is closed before save the form\",\n            trigger: \"body:not(:has(.modal))\",\n        },\n        {\n            content: \"Save task\",\n            trigger: \".o_form_button_save:enabled\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if the Sales Order Item is saved correctly.\",\n            trigger: \".o_field_widget[name='sale_line_id'] input\",\n            run() {\n                if (!this.anchor.value) {\n                    console.error(\"Sales Order Item is not saved correctly.\");\n                }\n            },\n        },\n        // Those steps are currently needed in order to prevent the following issue:\n        // \"Form views in edition mode are automatically saved when the page is closed, which leads to stray network requests and inconsistencies.\"\n        ...stepUtils.toggleHomeMenu(),\n        ...stepUtils.goToAppSteps(\"project.menu_main_pm\", \"Go to the Project app.\"),\n    ],\n});\n", "/** @odoo-module **/\nimport * as wsTourUtils from '@website_sale/js/tours/tour_utils';\n\nconst closeModal = {\n    content: \"Close the ticket picking modal\",\n    trigger: `.modal.modal_shown .modal-content button:contains(\"Close\")`,\n    run: \"click\",\n};\n\nexport function changePricelist(pricelistName) {\n    return [\n        {\n            content: \"Go to page Shop\",\n            trigger: '.nav-link:contains(\"Shop\")',\n            run: \"click\",\n        },\n        {\n            content: \"Toggle Pricelist\",\n            trigger: '.o_pricelist_dropdown > .dropdown-toggle',\n            run: 'click',\n        },\n        {\n            content: `Activate Pricelist ${pricelistName}`,\n            trigger: `.dropdown-item:contains(${pricelistName})`,\n            run: 'click',\n        },\n        {\n            content: 'Wait for pricelist to load',\n            trigger: `.dropdown-toggle:contains(${pricelistName})`,\n        },\n    ];\n}\nfunction checkPriceEvent(eventName, price, close = true) {\n    const steps = [\n        {\n            content: \"Go to page Event\",\n            trigger: '.nav-link:contains(\"Event\")',\n            run: \"click\",\n        },\n        {\n            content: \"Open the Pycon event\",\n            trigger: `.o_wevent_events_list a:contains(${eventName})`,\n            run: \"click\",\n        },\n        {\n            content: \"Open the ticket picking modal\",\n            trigger: `button:contains(\"Register\")`,\n            run: \"click\",\n        },\n        {\n            content: \"Verify Price\",\n            trigger: `.oe_currency_value:contains(${price})`,\n        },\n    ];\n    if (close) {\n        steps.push(closeModal);\n    }\n    return steps;\n}\nfunction checkPriceDiscountEvent(eventName, price, discount) {\n    return [\n        ...checkPriceEvent(eventName, price, false),\n        {\n            content: \"Verify Price before discount\",\n            trigger: `del:contains(${discount})`,\n        },\n        closeModal,\n    ];\n}\nexport function checkPriceCart(price) {\n    return [\n        wsTourUtils.goToCart(),\n        ...wsTourUtils.assertCartAmounts({total: price}),\n    ]\n}\nexport const getPriceListChecksSteps = function ({pricelistName, eventName, price, priceBeforeDiscount=false}) {\n    const checkPriceSteps = priceBeforeDiscount ? checkPriceDiscountEvent(eventName, price, priceBeforeDiscount) : checkPriceEvent(eventName, price);\n    return [\n        ...changePricelist(pricelistName),\n        ...checkPriceSteps,\n        ...checkPriceCart(price),\n    ]\n}\nexport default { getPriceListChecksSteps, changePricelist, checkPriceCart }\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport * as wsTourUtils from \"@website_sale/js/tours/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"event_buy_tickets\", {\n    url: \"/event\",\n    steps: () => [\n        {\n            content: \"Go to the `Events` page\",\n            trigger: 'a[href*=\"/event\"]:contains(\"Conference for Architects TEST\"):first',\n            run: \"click\",\n        },\n        {\n            content: \"Open the register modal\",\n            trigger: 'button:contains(\"Register\")',\n            run: \"click\",\n        },\n        {\n            trigger: '#wrap:not(:has(a[href*=\"/event\"]:contains(\"Conference for Architects\")))',\n        },\n        {\n            content: \"Select 1 unit of `Standard` ticket type\",\n            trigger: \".modal select:eq(0)\",\n            run: \"select 1\",\n        },\n        {\n            trigger: \".modal select:eq(0):has(option:contains(1):selected)\",\n        },\n        {\n            content: \"Select 2 units of `VIP` ticket type\",\n            trigger: \".modal select:eq(1)\",\n            run: \"select 2\",\n        },\n        {\n            trigger: \".modal select:eq(1):has(option:contains(2):selected)\",\n        },\n        {\n            content: \"Click on `Order Now` button\",\n            trigger: '.modal .btn-primary:contains(\"Register\")',\n            run: \"click\",\n        },\n        {\n            content: \"Wait the modal is shown before continue\",\n            trigger: \".modal.modal_shown.show form[id=attendee_registration]\",\n        },\n        {\n            trigger: \".modal#modal_attendees_registration input[name*='1-email']\",\n            run: \"edit att1@example.com\",\n        },\n        {\n            trigger: \".modal#modal_attendees_registration input[name*='1-phone']\",\n            run: \"edit 111 111\",\n        },\n        {\n            trigger: \".modal#modal_attendees_registration input[name*='2-name']\",\n            run: \"edit Att2\",\n        },\n        {\n            trigger: \".modal#modal_attendees_registration input[name*='2-phone']\",\n            run: \"edit 222 222\",\n        },\n        {\n            trigger: \".modal#modal_attendees_registration input[name*='2-email']\",\n            run: \"edit att2@example.com\",\n        },\n        {\n            trigger: \".modal#modal_attendees_registration input[name*='1-name']\",\n            run: \"edit Att1\",\n        },\n        {\n            trigger: \".modal#modal_attendees_registration input[name*='3-name']\",\n            run: \"edit Att3\",\n        },\n        {\n            trigger: \".modal#modal_attendees_registration input[name*='3-phone']\",\n            run: \"edit 333 333\",\n        },\n        {\n            trigger: \".modal#modal_attendees_registration input[name*='3-email']\",\n            run: \"edit att3@example.com\",\n        },\n        {\n            trigger:\n                \".modal#modal_attendees_registration input[name*='1-name'], .modal#modal_attendees_registration input[name*='2-name'], .modal#modal_attendees_registration input[name*='3-name']\",\n        },\n        {\n            trigger: \"input[name*='1-name'], input[name*='2-name'], input[name*='3-name']\",\n        },\n        {\n            content: \"Validate attendees details\",\n            trigger: \".modal#modal_attendees_registration button[type=submit]\",\n            run: \"click\",\n        },\n        wsTourUtils.goToCart({ quantity: 3 }),\n        wsTourUtils.goToCheckout(),\n        ...wsTourUtils.assertCartAmounts({\n            untaxed: \"4,000.00\",\n        }),\n        ...wsTourUtils.payWithTransfer(),\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport * as wsTourUtils from \"@website_sale/js/tours/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('event_buy_last_ticket', {\n    url: '/event',\n    steps: () => [{\n        content: \"Open the Last ticket test event page\",\n        trigger: '.o_wevent_events_list a:contains(\"Last ticket test\")',\n        run: \"click\",\n    },\n    {\n        content: \"Open Registration Modal\",\n        trigger: \".btn-primary:contains(Register)\",\n        run: \"click\",\n    },\n    {\n        content: \"Check the modal Tickets is opened\",\n        trigger: \"body:has(.modal:contains(Tickets))\",\n    },\n    {\n        trigger: '#wrap:not(:has(a[href*=\"/event\"]:contains(\"Last ticket test\")))',\n    },\n    {\n        content: \"Select 2 units of `VIP` ticket type\",\n        trigger: \".modal select:eq(0)\",\n        run: \"select 2\",\n    },\n    {\n        trigger: \".modal select:eq(0):has(option:contains(2):selected)\",\n    },\n    {\n        content: \"Click on `Register` button\",\n        trigger: \".modal .modal-footer button.btn-primary.a-submit:contains(Register)\",\n        run: \"click\",\n    },\n    {\n        content: \"Check the modal Attendees is opened\",\n        trigger: \".modal:contains(Attendees):contains(Ticket #1):contains(Ticket #2)\",\n    },\n    {\n        content: \"Fill attendees details\",\n        trigger: 'form[id=\"attendee_registration\"] .btn[type=submit]',\n        run: function () {\n            document.querySelector(\"input[name*='1-name']\").value = \"Att1\";\n            document.querySelector(\"input[name*='1-phone']\").value = \"111 111\";\n            document.querySelector(\"input[name*='1-email']\").value = \"att1@example.com\";\n            document.querySelector(\"input[name*='2-name']\").value = \"Att2\";\n            document.querySelector(\"input[name*='2-phone']\").value = \"222 222\";\n            document.querySelector(\"input[name*='2-email']\").value = \"att2@example.com\";\n        },\n    },\n    {\n        content: \"Validate attendees details\",\n        trigger: \".modal:contains(Attendees) button[type=submit]:contains(Go to Payment)\",\n        run: \"click\",\n    },\n    ...wsTourUtils.fillAdressForm({\n        name: \"test1\",\n        phone: \"111 111\",\n        email: \"test@example.com\",\n        street: \"street test 1\",\n        city: \"testCity\",\n        zip: \"123\",\n    }),\n    ...wsTourUtils.payWithTransfer(true),\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { getPriceListChecksSteps } from \"@website_event_sale/../tests/tours/helpers/WebsiteEventSaleTourMethods\";\n\nregistry.category(\"web_tour.tours\").add(\"event_sale_pricelists_different_currencies\", {\n    url: \"/event\",\n    steps: () => [\n        // Register for tickets\n        {\n            content: \"Open the Pycon event\",\n            trigger: '.o_wevent_events_list a:contains(\"Pycon\")',\n            run: \"click\",\n        },\n        {\n            content: \"Open the register modal\",\n            trigger: 'button:contains(\"Register\")',\n            run: \"click\",\n        },\n        {\n            content: \"Click on Register button inside modal\",\n            trigger: '.modal .modal-footer button:contains(\"Register\")',\n            run: \"click\",\n        },\n        {\n            content: \"Wait the modal is shown before continue\",\n            trigger: \".modal.modal_shown.show form[id=attendee_registration]\",\n        },\n        {\n            trigger:\n                \".modal#modal_attendees_registration:not(.o_inactive_modal) input[name*='1-name']\",\n            run: \"edit Great Name\",\n        },\n        {\n            trigger:\n                \".modal#modal_attendees_registration:not(.o_inactive_modal) input[name*='1-phone']\",\n            run: \"edit 111 111\",\n        },\n        {\n            trigger:\n                \".modal#modal_attendees_registration:not(.o_inactive_modal) input[name*='1-email']\",\n            run: \"edit great@name.com\",\n        },\n        {\n            trigger:\n                \".modal#modal_attendees_registration input[name*='1-name'], .modal#modal_attendees_registration input[name*='2-name']\",\n        },\n        {\n            trigger: \"input[name*='1-name'], input[name*='2-name']\",\n        },\n        {\n            content: \"Validate attendees details\",\n            trigger:\n                \".modal#modal_attendees_registration:not(.o_inactive_modal) button[type=submit]\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body:not(:has(.modal#modal_attendees_registration))\",\n        },\n        ...getPriceListChecksSteps({\n            pricelistName: \"EUR Without Discount Included\",\n            eventName: \"Pycon\",\n            price: \"90.00\",\n            priceBeforeDiscount: \"100.00\",\n        }),\n        ...getPriceListChecksSteps({\n            pricelistName: \"EX Without Discount Included\",\n            eventName: \"Pycon\",\n            price: \"900.00\",\n            priceBeforeDiscount: \"1,000.00\",\n        }),\n    ],\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_profile_description', {\n    url: \"/profile/users\",\n    steps: () => [{\n        content: \"Click on one user profile card\",\n        trigger: \"div[onclick]:contains(\\\"test_user\\\")\",\n        run: \"click\",\n    }, {\n        content: \"Edit profile\",\n        trigger: \"a:contains('EDIT PROFILE')\",\n        run: \"click\",\n    }, {\n        content: \"Add some content\",\n        trigger: \".odoo-editor-editable p\",\n        run: \"editor content <p>code here</p>\",\n    }, {\n        content: \"Save changes\",\n        trigger: \"button:contains('Update')\",\n        run: \"click\",\n    }, {\n        content: \"Check the content is saved\",\n        trigger: \"span[data-oe-field='website_description']:contains('content <p>code here</p>')\",\n    }]\n})\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport * as tourUtils from '@website_sale/js/tours/tour_utils';\n\n\nregistry.category(\"web_tour.tours\").add('autocomplete_tour', {\n    url: '/shop', // /shop/address is redirected if no sales order\n    steps: () => [\n    ...tourUtils.addToCart({productName: \"A test product\"}),\n    tourUtils.goToCart(),\n    tourUtils.goToCheckout(),\n{ // Actual test\n    content: 'Input in Street & Number field',\n    trigger: 'input[name=\"street\"]',\n    run: \"edit This is a test\",\n}, {\n    content: 'Check if results have appeared',\n    trigger: '.js_autocomplete_result',\n}, {\n    content: 'Input again in street field',\n    trigger: 'input[name=\"street\"]',\n    run: \"fill add more\",\n}, {\n    content: 'Click on the first result',\n    trigger: \".dropdown-menu .js_autocomplete_result:first:contains(result 0)\",\n    run: \"click\",\n},\n// TODO: Make this step work in headless mode\n// {\n//     content: \"Verify the autocomplete box disappeared\",\n//     trigger: `body:not(:has(.dropdown-menu .js_autocomplete_result))`,\n// },\n{ // Verify test data has been input\n    content: 'Check Street & number have been set',\n    trigger: \"input[name=street]:value(/^42 A fictional Street$/)\",\n}, {\n    content: 'Check City is not empty anymore',\n    trigger: 'input[name=\"city\"]:value(/^A Fictional City$/)',\n}, {\n    content: 'Check Zip code is not empty anymore',\n    trigger: 'input[name=\"zip\"]:value(/^12345$/)',\n}]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { assertEqual } from \"@web_studio/../tests/tours/tour_helpers\";\n\nregistry.category(\"web_tour.tours\").add(\"website_studio_listing_and_page\", {\n    url: \"/odoo/action-studio?debug=1&mode=home_menu\",\n    steps: () => [\n        {\n            trigger: \"a.o_menuitem:contains('StudioApp')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_menu_sections a:contains('Model Pages')\",\n            run: \"click\",\n        },\n        {\n            content: \"Create a listing page\",\n            trigger: \".o-kanban-button-new\",\n            run: \"click\",\n        },\n        {\n            content: \"Set the name of the page\",\n            trigger: \"div[name='name'] input\",\n            run: \"edit MyCustom Name && press Tab\",\n        },\n        {\n            trigger: \"div[name='name_slugified'] input:value(mycustom-name)\",\n        },\n        {\n            content: \"listing is displayed in the menu by default\",\n            trigger: \"div[name='use_menu'] input:checked\",\n        },\n        {\n            content:\n                \"creating a listing automatically creates a detailed page for each record to be consulted separately\",\n            trigger: \"div[name='auto_single_page'] input:checked\",\n        },\n        {\n            trigger: \".o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_back_button\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_view\",\n            run() {\n                const pages = this.anchor.querySelectorAll(\".o_kanban_record:not(.o_kanban_ghost)\");\n                assertEqual(pages.length, 1);\n                assertEqual(pages[0].querySelector(\"[data-section='title']\").textContent, \"MyCustom Name\");\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"website_studio_listing_without_page\", {\n    url: \"/odoo/action-studio?debug=1&mode=home_menu\",\n    steps: () => [\n        {\n            trigger: \"a.o_menuitem:contains('StudioApp')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_menu_sections a:contains('Model Pages')\",\n            run: \"click\",\n        },\n        {\n            content: \"Create a listing page\",\n            trigger: \".o-kanban-button-new\",\n            run: \"click\",\n        },\n        {\n            content: \"Set the name of the page\",\n            trigger: \"div[name='name'] input\",\n            run: \"edit MyCustom Name && press Tab\",\n        },\n        {\n            trigger: \"div[name='name_slugified'] input:value(mycustom-name)\",\n        },\n        {\n            content: \"listing is displayed in the menu by default\",\n            trigger: \"div[name='use_menu'] input:checked\",\n        },\n        {\n            content:\n                \"creating a listing automatically creates a detailed page for each record to be consulted separately\",\n            trigger: \"div[name='auto_single_page'] input:checked\",\n        },\n        {\n            content: \"Uncheck the toggle and only create the listing\",\n            trigger: \"div[name='auto_single_page'] input\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_back_button\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_view\",\n            run() {\n                const pages = this.anchor.querySelectorAll(\".o_kanban_record:not(.o_kanban_ghost)\");\n                assertEqual(pages.length, 1);\n                assertEqual(pages[0].querySelector(\"[data-section='title']\").textContent, \"MyCustom Name\");\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"website_studio_website_form\", {\n    steps: () => [\n        {\n            trigger: \".o_edit_website_container .o-website-btn-custo-primary\",\n            run: \"click\",\n        },\n        {\n            trigger: \"#snippet_groups\",\n        },\n        {\n            trigger: \":iframe .odoo-editor-editable .s_website_form .o_default_snippet_text\",\n            run: \"click\",\n        },\n        {\n            trigger: \".snippet-option-WebsiteFormEditor we-select:eq(0)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".snippet-option-WebsiteFormEditor we-select:eq(0).o_we_widget_opened\"\n        },\n        {\n            trigger: \".snippet-option-WebsiteFormEditor we-button[data-select-action='website_studio.form_more_model']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal .o_list_view\"\n        },\n        {\n            trigger: \".modal .o_searchview_input\",\n            run: \"edit x_test_model && press Enter\"\n        },\n        {\n            trigger: \".modal .o_data_row:contains(x_test_model) .o_data_cell\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body:not(:has(.modal)) .o_we_user_value_widget[data-name='enable_website_form_access'].active\"\n        },\n        {\n            trigger: \":iframe form[data-model_name='x_test_model']\",\n        },\n        {\n            trigger: \".o_we_website_top_actions button[data-action='save']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_website_preview:not(.editor_enable) :iframe form[data-model_name='x_test_model']\",\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\n/**\n * Makes sure that blog search can be used with the date filtering.\n */\nregistry.category(\"web_tour.tours\").add(\"blog_autocomplete_with_date\", {\n    url: '/blog',\n    steps: () => [{\n    content: \"Select first month\",\n    trigger: 'select[name=archive]',\n    run: \"selectByIndex 1\",\n},\n{\n    trigger: '#o_wblog_posts_loop span:has(i.fa-calendar-o):has(a[href=\"/blog\"])',\n},\n{\n    content: \"Enter search term\",\n    trigger: '.o_searchbar_form input',\n    run: \"edit a\",\n},\n{\n    trigger: \".o_searchbar_form .o_dropdown_menu .o_search_result_item\",\n},\n{\n    content: \"Wait for suggestions then click on search icon\",\n    trigger: '.o_searchbar_form button:has(i.oi-search)',\n    run: \"click\",\n}, {\n    content: \"Ensure both filters are applied\",\n    trigger: `#o_wblog_posts_loop:has(span a[href=\"/blog?search=a\"]):has(span i.fa-calendar-o):has(span a[href^=\"/blog?date_begin\"]):has(span i.fa-search)`,\n}]});\n", "/** @odoo-module **/\n\nimport {\n    clickOnEditAndWaitEditMode,\n    clickOnSave,\n    clickOnSnippet,\n    registerWebsitePreviewTour,\n} from '@website/js/tours/tour_utils';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n\n/**\n * Makes sure that blog tags can be created and removed.\n */\nregisterWebsitePreviewTour('blog_tags', {\n    url: '/blog',\n}, () => [\n    stepUtils.waitIframeIsReady(),\n    {\n        content: \"Go to the 'Post Test' blog\",\n        trigger: \":iframe article[name=blog_post] a:contains('Post Test')\",\n        run: \"click\",\n    },\n    ...clickOnEditAndWaitEditMode(),\n    ...clickOnSnippet('#o_wblog_post_top .o_wblog_post_page_cover'),\n    {\n        content: \"Open tag dropdown\",\n        trigger: \"we-customizeblock-option:contains(Tags) .o_we_m2m we-toggler\",\n        run: \"click\",\n    }, {\n        content: \"Enter tag name\",\n        trigger: \"we-customizeblock-option:contains(Tags) we-selection-items .o_we_m2o_create input\",\n        run: \"edit testtag && click we-customizeblock-option:contains(Tags) we-selection-items .o_we_m2o_create we-button\",\n    }, {\n        content: \"Verify tag appears in options\",\n        trigger: \"we-customizeblock-option:contains(Tags) we-list input[data-name=testtag]\",\n    },\n    ...clickOnSave(),\n    {\n        content: \"Verify tag appears in blog post\",\n        trigger: \":iframe #o_wblog_post_content .badge:contains(testtag)\",\n    },\n    ...clickOnEditAndWaitEditMode(),\n    ...clickOnSnippet('#o_wblog_post_top .o_wblog_post_page_cover'),\n    {\n        content: \"Remove tag\",\n        trigger: \"we-customizeblock-option:contains(Tags) we-list tr:has(input[data-name=testtag]) we-button.fa-minus\",\n        run: \"click\",\n    }, {\n        content: \"Verify tag does not appear in options anymore\",\n        trigger: \"we-customizeblock-option:contains(Tags) we-list:not(:has(input[data-name=testtag]))\",\n    },\n    ...clickOnSave(),\n    {\n        content: \"Verify tag does not appear in blog post anymore\",\n        trigger: \":iframe #o_wblog_post_content div:has(.badge):not(:contains(testtag))\",\n    },\n    {\n        trigger: \":iframe .o_wblog_post_title:contains(post test)\",\n    },\n    {\n        content: \"Go back to /blog\",\n        trigger: \":iframe a:contains(all blogs)\",\n        run: \"click\",\n    },\n    {\n        trigger: \":iframe .h1:contains(our latest posts)\",\n    },\n    {\n        content: \"Click on the adventure tag\",\n        trigger: \":iframe a[href^='/blog/tag/adventure'].o_post_link_js_loaded\",\n        run: \"click\",\n    }, {\n        content: \"Verify we are still on the backend\",\n        trigger: \":iframe span:contains(adventure) i.fa-tag\",\n    }]\n);\n", "// @odoo-module ignore\n\nwindow.__odooIgnoreMissingDependencies = false;\n"], "file": "/web/assets/1/103ac0b/web.__assets_tests_call__.js", "sourceRoot": "../../../../"}